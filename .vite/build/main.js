"use strict";var Ui=Object.defineProperty;var ra=t=>{throw TypeError(t)};var qi=(t,e,r)=>e in t?Ui(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Dt=(t,e,r)=>qi(t,typeof e!="symbol"?e+"":e,r),cn=(t,e,r)=>e.has(t)||ra("Cannot "+r);var q=(t,e,r)=>(cn(t,e,"read from private field"),r?r.call(t):e.get(t)),Ce=(t,e,r)=>e.has(t)?ra("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),_e=(t,e,r,n)=>(cn(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ze=(t,e,r)=>(cn(t,e,"access private method"),r);const ne=require("electron"),B=require("node:path"),rt=require("node:fs/promises"),Gi=require("path"),Ki=require("child_process"),Hi=require("tty"),Xi=require("util"),Bi=require("fs"),Wi=require("net"),ee=require("node:process"),oe=require("node:util"),G=require("node:fs"),at=require("node:crypto"),na=require("node:assert"),mo=require("node:os");require("node:events");require("node:stream");function Hn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tn={exports:{}},Jt={exports:{}},xt={exports:{}},un,sa;function Yi(){if(sa)return un;sa=1;var t=1e3,e=t*60,r=e*60,n=r*24,s=n*365.25;un=function(u,i){i=i||{};var d=typeof u;if(d==="string"&&u.length>0)return a(u);if(d==="number"&&isNaN(u)===!1)return i.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(i){var d=parseFloat(i[1]),_=(i[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function o(u){return u>=n?Math.round(u/n)+"d":u>=r?Math.round(u/r)+"h":u>=e?Math.round(u/e)+"m":u>=t?Math.round(u/t)+"s":u+"ms"}function l(u){return c(u,n,"day")||c(u,r,"hour")||c(u,e,"minute")||c(u,t,"second")||u+" ms"}function c(u,i,d){if(!(u<i))return u<i*1.5?Math.floor(u/i)+" "+d:Math.ceil(u/i)+" "+d+"s"}return un}var aa;function po(){return aa||(aa=1,function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=c,e.disable=o,e.enable=a,e.enabled=l,e.humanize=Yi(),e.names=[],e.skips=[],e.formatters={};var r;function n(u){var i=0,d;for(d in u)i=(i<<5)-i+u.charCodeAt(d),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function s(u){function i(){if(i.enabled){var d=i,_=+new Date,m=_-(r||_);d.diff=m,d.prev=r,d.curr=_,r=_;for(var y=new Array(arguments.length),$=0;$<y.length;$++)y[$]=arguments[$];y[0]=e.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var v=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(w,N){if(w==="%%")return w;v++;var I=e.formatters[N];if(typeof I=="function"){var j=y[v];w=I.call(d,j),y.splice(v,1),v--}return w}),e.formatArgs.call(d,y);var p=i.log||e.log||console.log.bind(console);p.apply(d,y)}}return i.namespace=u,i.enabled=e.enabled(u),i.useColors=e.useColors(),i.color=n(u),typeof e.init=="function"&&e.init(i),i}function a(u){e.save(u),e.names=[],e.skips=[];for(var i=(typeof u=="string"?u:"").split(/[\s,]+/),d=i.length,_=0;_<d;_++)i[_]&&(u=i[_].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function o(){e.enable("")}function l(u){var i,d;for(i=0,d=e.skips.length;i<d;i++)if(e.skips[i].test(u))return!1;for(i=0,d=e.names.length;i<d;i++)if(e.names[i].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}}(xt,xt.exports)),xt.exports}var oa;function Ji(){return oa||(oa=1,function(t,e){e=t.exports=po(),e.log=s,e.formatArgs=n,e.save=a,e.load=o,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function n(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var i="color: "+this.color;c.splice(1,0,i,"color: inherit");var d=0,_=0;c[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(d++,m==="%c"&&(_=d))}),c.splice(_,0,i)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function o(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}e.enable(o());function l(){try{return window.localStorage}catch{}}}(Jt,Jt.exports)),Jt.exports}var Zt={exports:{}},ia;function xi(){return ia||(ia=1,function(t,e){var r=Hi,n=Xi;e=t.exports=po(),e.init=_,e.log=c,e.formatArgs=l,e.save=u,e.load=i,e.useColors=o,e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(process.env).filter(function(m){return/^debug_/i.test(m)}).reduce(function(m,y){var $=y.substring(6).toLowerCase().replace(/_([a-z])/g,function(p,w){return w.toUpperCase()}),v=process.env[y];return/^(yes|on|true|enabled)$/i.test(v)?v=!0:/^(no|off|false|disabled)$/i.test(v)?v=!1:v==="null"?v=null:v=Number(v),m[$]=v,m},{});var s=parseInt(process.env.DEBUG_FD,10)||2;s!==1&&s!==2&&n.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=s===1?process.stdout:s===2?process.stderr:d(s);function o(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:r.isatty(s)}e.formatters.o=function(m){return this.inspectOpts.colors=this.useColors,n.inspect(m,this.inspectOpts).split(`
`).map(function(y){return y.trim()}).join(" ")},e.formatters.O=function(m){return this.inspectOpts.colors=this.useColors,n.inspect(m,this.inspectOpts)};function l(m){var y=this.namespace,$=this.useColors;if($){var v=this.color,p="  \x1B[3"+v+";1m"+y+" \x1B[0m";m[0]=p+m[0].split(`
`).join(`
`+p),m.push("\x1B[3"+v+"m+"+e.humanize(this.diff)+"\x1B[0m")}else m[0]=new Date().toUTCString()+" "+y+" "+m[0]}function c(){return a.write(n.format.apply(n,arguments)+`
`)}function u(m){m==null?delete process.env.DEBUG:process.env.DEBUG=m}function i(){return process.env.DEBUG}function d(m){var y,$=process.binding("tty_wrap");switch($.guessHandleType(m)){case"TTY":y=new r.WriteStream(m),y._type="tty",y._handle&&y._handle.unref&&y._handle.unref();break;case"FILE":var v=Bi;y=new v.SyncWriteStream(m,{autoClose:!1}),y._type="fs";break;case"PIPE":case"TCP":var p=Wi;y=new p.Socket({fd:m,readable:!1,writable:!0}),y.readable=!1,y.read=null,y._type="pipe",y._handle&&y._handle.unref&&y._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return y.fd=m,y._isStdio=!0,y}function _(m){m.inspectOpts={};for(var y=Object.keys(e.inspectOpts),$=0;$<y.length;$++)m.inspectOpts[y[$]]=e.inspectOpts[y[$]]}e.enable(i())}(Zt,Zt.exports)),Zt.exports}typeof process<"u"&&process.type==="renderer"?Tn.exports=Ji():Tn.exports=xi();var Zi=Tn.exports,jn=Gi,Qi=Ki.spawn,yo=Zi("electron-squirrel-startup"),ln=ne.app,ca=function(t,e){var r=jn.resolve(jn.dirname(process.execPath),"..","Update.exe");yo("Spawning `%s` with args `%s`",r,t),Qi(r,t,{detached:!0}).on("close",e)},ec=function(){if(process.platform==="win32"){var t=process.argv[1];yo("processing squirrel command `%s`",t);var e=jn.basename(process.execPath);if(t==="--squirrel-install"||t==="--squirrel-updated")return ca(["--createShortcut="+e],ln.quit),!0;if(t==="--squirrel-uninstall")return ca(["--removeShortcut="+e],ln.quit),!0;if(t==="--squirrel-obsolete")return ln.quit(),!0}return!1},tc=ec();const rc=Hn(tc),ht=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},$o=new Set(["__proto__","prototype","constructor"]),go=1e6,nc=t=>t>="0"&&t<="9";function vo(t){if(t==="0")return!0;if(/^[1-9]\d*$/.test(t)){const e=Number.parseInt(t,10);return e<=Number.MAX_SAFE_INTEGER&&e<=go}return!1}function fn(t,e){return $o.has(t)?!1:(t&&vo(t)?e.push(Number.parseInt(t,10)):e.push(t),!0)}function sc(t){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);const e=[];let r="",n="start",s=!1,a=0;for(const o of t){if(a++,s){r+=o,s=!1;continue}if(o==="\\"){if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);s=!0,n=n==="start"?"property":n;continue}switch(o){case".":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="property";break}if(!fn(r,e))return[];r="",n="property";break}case"[":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="index";break}if(n==="property"||n==="start"){if((r||n==="property")&&!fn(r,e))return[];r=""}n="index";break}case"]":{if(n==="index"){if(r==="")r=(e.pop()||"")+"[]",n="property";else{const l=Number.parseInt(r,10);!Number.isNaN(l)&&Number.isFinite(l)&&l>=0&&l<=Number.MAX_SAFE_INTEGER&&l<=go&&r===String(l)?e.push(l):e.push(r),r="",n="indexEnd"}break}if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);r+=o;break}default:{if(n==="index"&&!nc(o))throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);n==="start"&&(n="property"),r+=o}}}switch(s&&(r+="\\"),n){case"property":{if(!fn(r,e))return[];break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Or(t){if(typeof t=="string")return sc(t);if(Array.isArray(t)){const e=[];for(const[r,n]of t.entries()){if(typeof n!="string"&&typeof n!="number")throw new TypeError(`Expected a string or number for path segment at index ${r}, got ${typeof n}`);if(typeof n=="number"&&!Number.isFinite(n))throw new TypeError(`Path segment at index ${r} must be a finite number, got ${n}`);if($o.has(n))return[];typeof n=="string"&&vo(n)?e.push(Number.parseInt(n,10)):e.push(n)}return e}return[]}function ua(t,e,r){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return r===void 0?t:r;const n=Or(e);if(n.length===0)return r;for(let s=0;s<n.length;s++){const a=n[s];if(t=t[a],t==null){if(s!==n.length-1)return r;break}}return t===void 0?r:t}function Qt(t,e,r){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return t;const n=t,s=Or(e);if(s.length===0)return t;for(let a=0;a<s.length;a++){const o=s[a];if(a===s.length-1)t[o]=r;else if(!ht(t[o])){const c=typeof s[a+1]=="number";t[o]=c?[]:{}}t=t[o]}return n}function ac(t,e){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return!1;const r=Or(e);if(r.length===0)return!1;for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return Object.hasOwn(t,s)?(delete t[s],!0):!1;if(t=t[s],!ht(t))return!1}}function dn(t,e){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return!1;const r=Or(e);if(r.length===0)return!1;for(const n of r){if(!ht(t)||!(n in t))return!1;t=t[n]}return!0}const et=mo.homedir(),Xn=mo.tmpdir(),{env:wt}=ee,oc=t=>{const e=B.join(et,"Library");return{data:B.join(e,"Application Support",t),config:B.join(e,"Preferences",t),cache:B.join(e,"Caches",t),log:B.join(e,"Logs",t),temp:B.join(Xn,t)}},ic=t=>{const e=wt.APPDATA||B.join(et,"AppData","Roaming"),r=wt.LOCALAPPDATA||B.join(et,"AppData","Local");return{data:B.join(r,t,"Data"),config:B.join(e,t,"Config"),cache:B.join(r,t,"Cache"),log:B.join(r,t,"Log"),temp:B.join(Xn,t)}},cc=t=>{const e=B.basename(et);return{data:B.join(wt.XDG_DATA_HOME||B.join(et,".local","share"),t),config:B.join(wt.XDG_CONFIG_HOME||B.join(et,".config"),t),cache:B.join(wt.XDG_CACHE_HOME||B.join(et,".cache"),t),log:B.join(wt.XDG_STATE_HOME||B.join(et,".local","state"),t),temp:B.join(Xn,e,t)}};function uc(t,{suffix:e="nodejs"}={}){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return e&&(t+=`-${e}`),ee.platform==="darwin"?oc(t):ee.platform==="win32"?ic(t):cc(t)}const Xe=(t,e)=>{const{onError:r}=e;return function(...s){return t.apply(void 0,s).catch(r)}},Ue=(t,e)=>{const{onError:r}=e;return function(...s){try{return t.apply(void 0,s)}catch(a){return r(a)}}},lc=250,Be=(t,e)=>{const{isRetriable:r}=e;return function(s){const{timeout:a}=s,o=s.interval??lc,l=Date.now()+a;return function c(...u){return t.apply(void 0,u).catch(i=>{if(!r(i)||Date.now()>=l)throw i;const d=Math.round(o*Math.random());return d>0?new Promise(m=>setTimeout(m,d)).then(()=>c.apply(void 0,u)):c.apply(void 0,u)})}}},We=(t,e)=>{const{isRetriable:r}=e;return function(s){const{timeout:a}=s,o=Date.now()+a;return function(...c){for(;;)try{return t.apply(void 0,c)}catch(u){if(!r(u)||Date.now()>=o)throw u;continue}}}},bt={isChangeErrorOk:t=>{if(!bt.isNodeError(t))return!1;const{code:e}=t;return e==="ENOSYS"||!fc&&(e==="EINVAL"||e==="EPERM")},isNodeError:t=>t instanceof Error,isRetriableError:t=>{if(!bt.isNodeError(t))return!1;const{code:e}=t;return e==="EMFILE"||e==="ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCES"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!bt.isNodeError(t))throw t;if(!bt.isChangeErrorOk(t))throw t}},er={onError:bt.onChangeError},Ee={onError:()=>{}},fc=ee.getuid?!ee.getuid():!1,le={isRetriable:bt.isRetriableError},de={attempt:{chmod:Xe(oe.promisify(G.chmod),er),chown:Xe(oe.promisify(G.chown),er),close:Xe(oe.promisify(G.close),Ee),fsync:Xe(oe.promisify(G.fsync),Ee),mkdir:Xe(oe.promisify(G.mkdir),Ee),realpath:Xe(oe.promisify(G.realpath),Ee),stat:Xe(oe.promisify(G.stat),Ee),unlink:Xe(oe.promisify(G.unlink),Ee),chmodSync:Ue(G.chmodSync,er),chownSync:Ue(G.chownSync,er),closeSync:Ue(G.closeSync,Ee),existsSync:Ue(G.existsSync,Ee),fsyncSync:Ue(G.fsync,Ee),mkdirSync:Ue(G.mkdirSync,Ee),realpathSync:Ue(G.realpathSync,Ee),statSync:Ue(G.statSync,Ee),unlinkSync:Ue(G.unlinkSync,Ee)},retry:{close:Be(oe.promisify(G.close),le),fsync:Be(oe.promisify(G.fsync),le),open:Be(oe.promisify(G.open),le),readFile:Be(oe.promisify(G.readFile),le),rename:Be(oe.promisify(G.rename),le),stat:Be(oe.promisify(G.stat),le),write:Be(oe.promisify(G.write),le),writeFile:Be(oe.promisify(G.writeFile),le),closeSync:We(G.closeSync,le),fsyncSync:We(G.fsyncSync,le),openSync:We(G.openSync,le),readFileSync:We(G.readFileSync,le),renameSync:We(G.renameSync,le),statSync:We(G.statSync,le),writeSync:We(G.writeSync,le),writeFileSync:We(G.writeFileSync,le)}},dc="utf8",la=438,hc=511,mc={},pc=ee.geteuid?ee.geteuid():-1,yc=ee.getegid?ee.getegid():-1,$c=1e3,gc=!!ee.getuid;ee.getuid&&ee.getuid();const fa=128,vc=t=>t instanceof Error&&"code"in t,da=t=>typeof t=="string",hn=t=>t===void 0,_c=ee.platform==="linux",_o=ee.platform==="win32",Bn=["SIGHUP","SIGINT","SIGTERM"];_o||Bn.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");_c&&Bn.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");class Ec{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=e=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();e&&(_o&&e!=="SIGINT"&&e!=="SIGTERM"&&e!=="SIGKILL"?ee.kill(ee.pid,"SIGTERM"):ee.kill(ee.pid,e))}},this.hook=()=>{ee.once("exit",()=>this.exit());for(const e of Bn)try{ee.once(e,()=>this.exit(e))}catch{}},this.register=e=>(this.callbacks.add(e),()=>{this.callbacks.delete(e)}),this.hook()}}const wc=new Ec,bc=wc.register,he={store:{},create:t=>{const e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${e}`;return`${t}${s}`},get:(t,e,r=!0)=>{const n=he.truncate(e(t));return n in he.store?he.get(t,e,r):(he.store[n]=r,[n,()=>delete he.store[n]])},purge:t=>{he.store[t]&&(delete he.store[t],de.attempt.unlink(t))},purgeSync:t=>{he.store[t]&&(delete he.store[t],de.attempt.unlinkSync(t))},purgeSyncAll:()=>{for(const t in he.store)he.purgeSync(t)},truncate:t=>{const e=B.basename(t);if(e.length<=fa)return t;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!r)return t;const n=e.length-fa;return`${t.slice(0,-e.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};bc(he.purgeSyncAll);function Eo(t,e,r=mc){if(da(r))return Eo(t,e,{encoding:r});const s={timeout:r.timeout??$c};let a=null,o=null,l=null;try{const c=de.attempt.realpathSync(t),u=!!c;t=c||t,[o,a]=he.get(t,r.tmpCreate||he.create,r.tmpPurge!==!1);const i=gc&&hn(r.chown),d=hn(r.mode);if(u&&(i||d)){const _=de.attempt.statSync(t);_&&(r={...r},i&&(r.chown={uid:_.uid,gid:_.gid}),d&&(r.mode=_.mode))}if(!u){const _=B.dirname(t);de.attempt.mkdirSync(_,{mode:hc,recursive:!0})}l=de.retry.openSync(s)(o,"w",r.mode||la),r.tmpCreated&&r.tmpCreated(o),da(e)?de.retry.writeSync(s)(l,e,0,r.encoding||dc):hn(e)||de.retry.writeSync(s)(l,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?de.retry.fsyncSync(s)(l):de.attempt.fsync(l)),de.retry.closeSync(s)(l),l=null,r.chown&&(r.chown.uid!==pc||r.chown.gid!==yc)&&de.attempt.chownSync(o,r.chown.uid,r.chown.gid),r.mode&&r.mode!==la&&de.attempt.chmodSync(o,r.mode);try{de.retry.renameSync(s)(o,t)}catch(_){if(!vc(_)||_.code!=="ENAMETOOLONG")throw _;de.retry.renameSync(s)(o,he.truncate(t))}a(),o=null}finally{l&&de.attempt.closeSync(l),o&&he.purge(o)}}var An={exports:{}},Wn={},Ne={},Rt={},Bt={},U={},Xt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(w){if(super(),!t.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((N,I)=>`${N}${I}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((N,I)=>(I instanceof r&&(N[I.str]=(N[I.str]||0)+1),N),{})}}t._Code=n,t.nil=new n("");function s(p,...w){const N=[p[0]];let I=0;for(;I<w.length;)l(N,w[I]),N.push(p[++I]);return new n(N)}t._=s;const a=new n("+");function o(p,...w){const N=[m(p[0])];let I=0;for(;I<w.length;)N.push(a),l(N,w[I]),N.push(a,m(p[++I]));return c(N),new n(N)}t.str=o;function l(p,w){w instanceof n?p.push(...w._items):w instanceof r?p.push(w):p.push(d(w))}t.addCodeArg=l;function c(p){let w=1;for(;w<p.length-1;){if(p[w]===a){const N=u(p[w-1],p[w+1]);if(N!==void 0){p.splice(w-1,3,N);continue}p[w++]="+"}w++}}function u(p,w){if(w==='""')return p;if(p==='""')return w;if(typeof p=="string")return w instanceof r||p[p.length-1]!=='"'?void 0:typeof w!="string"?`${p.slice(0,-1)}${w}"`:w[0]==='"'?p.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(p instanceof r))return`"${p}${w.slice(1)}`}function i(p,w){return w.emptyStr()?p:p.emptyStr()?w:o`${p}${w}`}t.strConcat=i;function d(p){return typeof p=="number"||typeof p=="boolean"||p===null?p:m(Array.isArray(p)?p.join(","):p)}function _(p){return new n(m(p))}t.stringify=_;function m(p){return JSON.stringify(p).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=m;function y(p){return typeof p=="string"&&t.IDENTIFIER.test(p)?new n(`.${p}`):s`[${p}]`}t.getProperty=y;function $(p){if(typeof p=="string"&&t.IDENTIFIER.test(p))return new n(`${p}`);throw new Error(`CodeGen: invalid export name: ${p}, use explicit $id name mapping`)}t.getEsmExportName=$;function v(p){return new n(p.toString())}t.regexpCode=v})(Xt);var kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Xt;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:u,parent:i}={}){this._names={},this._prefixes=u,this._parent=i}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const i=this._names[u]||this._nameGroup(u);return`${u}${i.index++}`}_nameGroup(u){var i,d;if(!((d=(i=this._parent)===null||i===void 0?void 0:i._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=s;class a extends e.Name{constructor(u,i){super(i),this.prefix=u}setValue(u,{property:i,itemIndex:d}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(i)}[${d}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class l extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:e.nil}}get(){return this._scope}name(u){return new a(u,this._newName(u))}value(u,i){var d;if(i.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(u),{prefix:m}=_,y=(d=i.key)!==null&&d!==void 0?d:i.ref;let $=this._values[m];if($){const w=$.get(y);if(w)return w}else $=this._values[m]=new Map;$.set(y,_);const v=this._scope[m]||(this._scope[m]=[]),p=v.length;return v[p]=i.ref,_.setValue(i,{property:m,itemIndex:p}),_}getValue(u,i){const d=this._values[u];if(d)return d.get(i)}scopeRefs(u,i=this._values){return this._reduceValues(i,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${u}${d.scopePath}`})}scopeCode(u=this._values,i,d){return this._reduceValues(u,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},i,d)}_reduceValues(u,i,d={},_){let m=e.nil;for(const y in u){const $=u[y];if(!$)continue;const v=d[y]=d[y]||new Map;$.forEach(p=>{if(v.has(p))return;v.set(p,n.Started);let w=i(p);if(w){const N=this.opts.es5?t.varKinds.var:t.varKinds.const;m=(0,e._)`${m}${N} ${p} = ${w};${this.opts._n}`}else if(w=_==null?void 0:_(p))m=(0,e._)`${m}${w}${this.opts._n}`;else throw new r(p);v.set(p,n.Completed)})}return m}}t.ValueScope=l})(kn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Xt,r=kn;var n=Xt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=kn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(f,h){return this}}class o extends a{constructor(f,h,S){super(),this.varKind=f,this.name=h,this.rhs=S}render({es5:f,_n:h}){const S=f?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${S} ${this.name}${L};`+h}optimizeNames(f,h){if(f[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,f,h)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class l extends a{constructor(f,h,S){super(),this.lhs=f,this.rhs=h,this.sideEffects=S}render({_n:f}){return`${this.lhs} = ${this.rhs};`+f}optimizeNames(f,h){if(!(this.lhs instanceof e.Name&&!f[this.lhs.str]&&!this.sideEffects))return this.rhs=R(this.rhs,f,h),this}get names(){const f=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Z(f,this.rhs)}}class c extends l{constructor(f,h,S,L){super(f,S,L),this.op=h}render({_n:f}){return`${this.lhs} ${this.op}= ${this.rhs};`+f}}class u extends a{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`${this.label}:`+f}}class i extends a{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`break${this.label?` ${this.label}`:""};`+f}}class d extends a{constructor(f){super(),this.error=f}render({_n:f}){return`throw ${this.error};`+f}get names(){return this.error.names}}class _ extends a{constructor(f){super(),this.code=f}render({_n:f}){return`${this.code};`+f}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(f,h){return this.code=R(this.code,f,h),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class m extends a{constructor(f=[]){super(),this.nodes=f}render(f){return this.nodes.reduce((h,S)=>h+S.render(f),"")}optimizeNodes(){const{nodes:f}=this;let h=f.length;for(;h--;){const S=f[h].optimizeNodes();Array.isArray(S)?f.splice(h,1,...S):S?f[h]=S:f.splice(h,1)}return f.length>0?this:void 0}optimizeNames(f,h){const{nodes:S}=this;let L=S.length;for(;L--;){const M=S[L];M.optimizeNames(f,h)||(O(f,M.names),S.splice(L,1))}return S.length>0?this:void 0}get names(){return this.nodes.reduce((f,h)=>K(f,h.names),{})}}class y extends m{render(f){return"{"+f._n+super.render(f)+"}"+f._n}}class $ extends m{}class v extends y{}v.kind="else";class p extends y{constructor(f,h){super(h),this.condition=f}render(f){let h=`if(${this.condition})`+super.render(f);return this.else&&(h+="else "+this.else.render(f)),h}optimizeNodes(){super.optimizeNodes();const f=this.condition;if(f===!0)return this.nodes;let h=this.else;if(h){const S=h.optimizeNodes();h=this.else=Array.isArray(S)?new v(S):S}if(h)return f===!1?h instanceof p?h:h.nodes:this.nodes.length?this:new p(C(f),h instanceof p?[h]:h.nodes);if(!(f===!1||!this.nodes.length))return this}optimizeNames(f,h){var S;if(this.else=(S=this.else)===null||S===void 0?void 0:S.optimizeNames(f,h),!!(super.optimizeNames(f,h)||this.else))return this.condition=R(this.condition,f,h),this}get names(){const f=super.names;return Z(f,this.condition),this.else&&K(f,this.else.names),f}}p.kind="if";class w extends y{}w.kind="for";class N extends w{constructor(f){super(),this.iteration=f}render(f){return`for(${this.iteration})`+super.render(f)}optimizeNames(f,h){if(super.optimizeNames(f,h))return this.iteration=R(this.iteration,f,h),this}get names(){return K(super.names,this.iteration.names)}}class I extends w{constructor(f,h,S,L){super(),this.varKind=f,this.name=h,this.from=S,this.to=L}render(f){const h=f.es5?r.varKinds.var:this.varKind,{name:S,from:L,to:M}=this;return`for(${h} ${S}=${L}; ${S}<${M}; ${S}++)`+super.render(f)}get names(){const f=Z(super.names,this.from);return Z(f,this.to)}}class j extends w{constructor(f,h,S,L){super(),this.loop=f,this.varKind=h,this.name=S,this.iterable=L}render(f){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(f)}optimizeNames(f,h){if(super.optimizeNames(f,h))return this.iterable=R(this.iterable,f,h),this}get names(){return K(super.names,this.iterable.names)}}class Y extends y{constructor(f,h,S){super(),this.name=f,this.args=h,this.async=S}render(f){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(f)}}Y.kind="func";class te extends m{render(f){return"return "+super.render(f)}}te.kind="return";class $e extends y{render(f){let h="try"+super.render(f);return this.catch&&(h+=this.catch.render(f)),this.finally&&(h+=this.finally.render(f)),h}optimizeNodes(){var f,h;return super.optimizeNodes(),(f=this.catch)===null||f===void 0||f.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(f,h){var S,L;return super.optimizeNames(f,h),(S=this.catch)===null||S===void 0||S.optimizeNames(f,h),(L=this.finally)===null||L===void 0||L.optimizeNames(f,h),this}get names(){const f=super.names;return this.catch&&K(f,this.catch.names),this.finally&&K(f,this.finally.names),f}}class be extends y{constructor(f){super(),this.error=f}render(f){return`catch(${this.error})`+super.render(f)}}be.kind="catch";class Re extends y{render(f){return"finally"+super.render(f)}}Re.kind="finally";class F{constructor(f,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=f,this._scope=new r.Scope({parent:f}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(f){return this._scope.name(f)}scopeName(f){return this._extScope.name(f)}scopeValue(f,h){const S=this._extScope.value(f,h);return(this._values[S.prefix]||(this._values[S.prefix]=new Set)).add(S),S}getScopeValue(f,h){return this._extScope.getValue(f,h)}scopeRefs(f){return this._extScope.scopeRefs(f,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(f,h,S,L){const M=this._scope.toName(h);return S!==void 0&&L&&(this._constants[M.str]=S),this._leafNode(new o(f,M,S)),M}const(f,h,S){return this._def(r.varKinds.const,f,h,S)}let(f,h,S){return this._def(r.varKinds.let,f,h,S)}var(f,h,S){return this._def(r.varKinds.var,f,h,S)}assign(f,h,S){return this._leafNode(new l(f,h,S))}add(f,h){return this._leafNode(new c(f,t.operators.ADD,h))}code(f){return typeof f=="function"?f():f!==e.nil&&this._leafNode(new _(f)),this}object(...f){const h=["{"];for(const[S,L]of f)h.length>1&&h.push(","),h.push(S),(S!==L||this.opts.es5)&&(h.push(":"),(0,e.addCodeArg)(h,L));return h.push("}"),new e._Code(h)}if(f,h,S){if(this._blockNode(new p(f)),h&&S)this.code(h).else().code(S).endIf();else if(h)this.code(h).endIf();else if(S)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(f){return this._elseNode(new p(f))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(p,v)}_for(f,h){return this._blockNode(f),h&&this.code(h).endFor(),this}for(f,h){return this._for(new N(f),h)}forRange(f,h,S,L,M=this.opts.es5?r.varKinds.var:r.varKinds.let){const J=this._scope.toName(f);return this._for(new I(M,J,h,S),()=>L(J))}forOf(f,h,S,L=r.varKinds.const){const M=this._scope.toName(f);if(this.opts.es5){const J=h instanceof e.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,e._)`${J}.length`,W=>{this.var(M,(0,e._)`${J}[${W}]`),S(M)})}return this._for(new j("of",L,M,h),()=>S(M))}forIn(f,h,S,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(f,(0,e._)`Object.keys(${h})`,S);const M=this._scope.toName(f);return this._for(new j("in",L,M,h),()=>S(M))}endFor(){return this._endBlockNode(w)}label(f){return this._leafNode(new u(f))}break(f){return this._leafNode(new i(f))}return(f){const h=new te;if(this._blockNode(h),this.code(f),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(te)}try(f,h,S){if(!h&&!S)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new $e;if(this._blockNode(L),this.code(f),h){const M=this.name("e");this._currNode=L.catch=new be(M),h(M)}return S&&(this._currNode=L.finally=new Re,this.code(S)),this._endBlockNode(be,Re)}throw(f){return this._leafNode(new d(f))}block(f,h){return this._blockStarts.push(this._nodes.length),f&&this.code(f).endBlock(h),this}endBlock(f){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const S=this._nodes.length-h;if(S<0||f!==void 0&&S!==f)throw new Error(`CodeGen: wrong number of nodes: ${S} vs ${f} expected`);return this._nodes.length=h,this}func(f,h=e.nil,S,L){return this._blockNode(new Y(f,h,S)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(Y)}optimize(f=1){for(;f-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(f){return this._currNode.nodes.push(f),this}_blockNode(f){this._currNode.nodes.push(f),this._nodes.push(f)}_endBlockNode(f,h){const S=this._currNode;if(S instanceof f||h&&S instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${f.kind}/${h.kind}`:f.kind}"`)}_elseNode(f){const h=this._currNode;if(!(h instanceof p))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=f,this}get _root(){return this._nodes[0]}get _currNode(){const f=this._nodes;return f[f.length-1]}set _currNode(f){const h=this._nodes;h[h.length-1]=f}}t.CodeGen=F;function K(E,f){for(const h in f)E[h]=(E[h]||0)+(f[h]||0);return E}function Z(E,f){return f instanceof e._CodeOrName?K(E,f.names):E}function R(E,f,h){if(E instanceof e.Name)return S(E);if(!L(E))return E;return new e._Code(E._items.reduce((M,J)=>(J instanceof e.Name&&(J=S(J)),J instanceof e._Code?M.push(...J._items):M.push(J),M),[]));function S(M){const J=h[M.str];return J===void 0||f[M.str]!==1?M:(delete f[M.str],J)}function L(M){return M instanceof e._Code&&M._items.some(J=>J instanceof e.Name&&f[J.str]===1&&h[J.str]!==void 0)}}function O(E,f){for(const h in f)E[h]=(E[h]||0)-(f[h]||0)}function C(E){return typeof E=="boolean"||typeof E=="number"||E===null?!E:(0,e._)`!${b(E)}`}t.not=C;const A=g(t.operators.AND);function V(...E){return E.reduce(A)}t.and=V;const k=g(t.operators.OR);function P(...E){return E.reduce(k)}t.or=P;function g(E){return(f,h)=>f===e.nil?h:h===e.nil?f:(0,e._)`${b(f)} ${E} ${b(h)}`}function b(E){return E instanceof e.Name?E:(0,e._)`(${E})`}})(U);var T={};Object.defineProperty(T,"__esModule",{value:!0});T.checkStrictMode=T.getErrorPath=T.Type=T.useFunc=T.setEvaluated=T.evaluatedPropsToName=T.mergeEvaluated=T.eachItem=T.unescapeJsonPointer=T.escapeJsonPointer=T.escapeFragment=T.unescapeFragment=T.schemaRefOrVal=T.schemaHasRulesButRef=T.schemaHasRules=T.checkUnknownRules=T.alwaysValidSchema=T.toHash=void 0;const x=U,Sc=Xt;function Pc(t){const e={};for(const r of t)e[r]=!0;return e}T.toHash=Pc;function Nc(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(wo(t,e),!bo(e,t.self.RULES.all))}T.alwaysValidSchema=Nc;function wo(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const s=n.RULES.keywords;for(const a in e)s[a]||No(t,`unknown keyword: "${a}"`)}T.checkUnknownRules=wo;function bo(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}T.schemaHasRules=bo;function Rc(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}T.schemaHasRulesButRef=Rc;function Oc({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,x._)`${r}`}return(0,x._)`${t}${e}${(0,x.getProperty)(n)}`}T.schemaRefOrVal=Oc;function Ic(t){return So(decodeURIComponent(t))}T.unescapeFragment=Ic;function Tc(t){return encodeURIComponent(Yn(t))}T.escapeFragment=Tc;function Yn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}T.escapeJsonPointer=Yn;function So(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}T.unescapeJsonPointer=So;function jc(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}T.eachItem=jc;function ha({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,a,o,l)=>{const c=o===void 0?a:o instanceof x.Name?(a instanceof x.Name?t(s,a,o):e(s,a,o),o):a instanceof x.Name?(e(s,o,a),a):r(a,o);return l===x.Name&&!(c instanceof x.Name)?n(s,c):c}}T.mergeEvaluated={props:ha({mergeNames:(t,e,r)=>t.if((0,x._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,x._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,x._)`${r} || {}`).code((0,x._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,x._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,x._)`${r} || {}`),Jn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:Po}),items:ha({mergeNames:(t,e,r)=>t.if((0,x._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,x._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,x._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,x._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Po(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,x._)`{}`);return e!==void 0&&Jn(t,r,e),r}T.evaluatedPropsToName=Po;function Jn(t,e,r){Object.keys(r).forEach(n=>t.assign((0,x._)`${e}${(0,x.getProperty)(n)}`,!0))}T.setEvaluated=Jn;const ma={};function Ac(t,e){return t.scopeValue("func",{ref:e,code:ma[e.code]||(ma[e.code]=new Sc._Code(e.code))})}T.useFunc=Ac;var Cn;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Cn||(T.Type=Cn={}));function kc(t,e,r){if(t instanceof x.Name){const n=e===Cn.Num;return r?n?(0,x._)`"[" + ${t} + "]"`:(0,x._)`"['" + ${t} + "']"`:n?(0,x._)`"/" + ${t}`:(0,x._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,x.getProperty)(t).toString():"/"+Yn(t)}T.getErrorPath=kc;function No(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}T.checkStrictMode=No;var we={};Object.defineProperty(we,"__esModule",{value:!0});const fe=U,Cc={data:new fe.Name("data"),valCxt:new fe.Name("valCxt"),instancePath:new fe.Name("instancePath"),parentData:new fe.Name("parentData"),parentDataProperty:new fe.Name("parentDataProperty"),rootData:new fe.Name("rootData"),dynamicAnchors:new fe.Name("dynamicAnchors"),vErrors:new fe.Name("vErrors"),errors:new fe.Name("errors"),this:new fe.Name("this"),self:new fe.Name("self"),scope:new fe.Name("scope"),json:new fe.Name("json"),jsonPos:new fe.Name("jsonPos"),jsonLen:new fe.Name("jsonLen"),jsonPart:new fe.Name("jsonPart")};we.default=Cc;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=U,r=T,n=we;t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:p})=>p?(0,e.str)`"${v}" keyword must be ${p} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function s(v,p=t.keywordError,w,N){const{it:I}=v,{gen:j,compositeRule:Y,allErrors:te}=I,$e=d(v,p,w);N??(Y||te)?c(j,$e):u(I,(0,e._)`[${$e}]`)}t.reportError=s;function a(v,p=t.keywordError,w){const{it:N}=v,{gen:I,compositeRule:j,allErrors:Y}=N,te=d(v,p,w);c(I,te),j||Y||u(N,n.default.vErrors)}t.reportExtraError=a;function o(v,p){v.assign(n.default.errors,p),v.if((0,e._)`${n.default.vErrors} !== null`,()=>v.if(p,()=>v.assign((0,e._)`${n.default.vErrors}.length`,p),()=>v.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function l({gen:v,keyword:p,schemaValue:w,data:N,errsCount:I,it:j}){if(I===void 0)throw new Error("ajv implementation error");const Y=v.name("err");v.forRange("i",I,n.default.errors,te=>{v.const(Y,(0,e._)`${n.default.vErrors}[${te}]`),v.if((0,e._)`${Y}.instancePath === undefined`,()=>v.assign((0,e._)`${Y}.instancePath`,(0,e.strConcat)(n.default.instancePath,j.errorPath))),v.assign((0,e._)`${Y}.schemaPath`,(0,e.str)`${j.errSchemaPath}/${p}`),j.opts.verbose&&(v.assign((0,e._)`${Y}.schema`,w),v.assign((0,e._)`${Y}.data`,N))})}t.extendErrors=l;function c(v,p){const w=v.const("err",p);v.if((0,e._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,e._)`[${w}]`),(0,e._)`${n.default.vErrors}.push(${w})`),v.code((0,e._)`${n.default.errors}++`)}function u(v,p){const{gen:w,validateName:N,schemaEnv:I}=v;I.$async?w.throw((0,e._)`new ${v.ValidationError}(${p})`):(w.assign((0,e._)`${N}.errors`,p),w.return(!1))}const i={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(v,p,w){const{createErrors:N}=v.it;return N===!1?(0,e._)`{}`:_(v,p,w)}function _(v,p,w={}){const{gen:N,it:I}=v,j=[m(I,w),y(v,w)];return $(v,p,j),N.object(...j)}function m({errorPath:v},{instancePath:p}){const w=p?(0,e.str)`${v}${(0,r.getErrorPath)(p,r.Type.Str)}`:v;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,w)]}function y({keyword:v,it:{errSchemaPath:p}},{schemaPath:w,parentSchema:N}){let I=N?p:(0,e.str)`${p}/${v}`;return w&&(I=(0,e.str)`${I}${(0,r.getErrorPath)(w,r.Type.Str)}`),[i.schemaPath,I]}function $(v,{params:p,message:w},N){const{keyword:I,data:j,schemaValue:Y,it:te}=v,{opts:$e,propertyName:be,topSchemaRef:Re,schemaPath:F}=te;N.push([i.keyword,I],[i.params,typeof p=="function"?p(v):p||(0,e._)`{}`]),$e.messages&&N.push([i.message,typeof w=="function"?w(v):w]),$e.verbose&&N.push([i.schema,Y],[i.parentSchema,(0,e._)`${Re}${F}`],[n.default.data,j]),be&&N.push([i.propertyName,be])}})(Bt);Object.defineProperty(Rt,"__esModule",{value:!0});Rt.boolOrEmptySchema=Rt.topBoolOrEmptySchema=void 0;const Dc=Bt,Lc=U,Mc=we,Vc={message:"boolean schema is false"};function Fc(t){const{gen:e,schema:r,validateName:n}=t;r===!1?Ro(t,!1):typeof r=="object"&&r.$async===!0?e.return(Mc.default.data):(e.assign((0,Lc._)`${n}.errors`,null),e.return(!0))}Rt.topBoolOrEmptySchema=Fc;function zc(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),Ro(t)):r.var(e,!0)}Rt.boolOrEmptySchema=zc;function Ro(t,e){const{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Dc.reportError)(s,Vc,void 0,e)}var se={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.getRules=mt.isJSONType=void 0;const Uc=["string","number","integer","boolean","null","object","array"],qc=new Set(Uc);function Gc(t){return typeof t=="string"&&qc.has(t)}mt.isJSONType=Gc;function Kc(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}mt.getRules=Kc;var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.shouldUseRule=qe.shouldUseGroup=qe.schemaHasRulesForType=void 0;function Hc({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&Oo(t,n)}qe.schemaHasRulesForType=Hc;function Oo(t,e){return e.rules.some(r=>Io(t,r))}qe.shouldUseGroup=Oo;function Io(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}qe.shouldUseRule=Io;Object.defineProperty(se,"__esModule",{value:!0});se.reportTypeError=se.checkDataTypes=se.checkDataType=se.coerceAndCheckDataType=se.getJSONTypes=se.getSchemaTypes=se.DataType=void 0;const Xc=mt,Bc=qe,Wc=Bt,H=U,To=T;var St;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(St||(se.DataType=St={}));function Yc(t){const e=jo(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}se.getSchemaTypes=Yc;function jo(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Xc.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}se.getJSONTypes=jo;function Jc(t,e){const{gen:r,data:n,opts:s}=t,a=xc(e,s.coerceTypes),o=e.length>0&&!(a.length===0&&e.length===1&&(0,Bc.schemaHasRulesForType)(t,e[0]));if(o){const l=xn(e,n,s.strictNumbers,St.Wrong);r.if(l,()=>{a.length?Zc(t,e,a):Zn(t)})}return o}se.coerceAndCheckDataType=Jc;const Ao=new Set(["string","number","integer","boolean","null"]);function xc(t,e){return e?t.filter(r=>Ao.has(r)||e==="array"&&r==="array"):[]}function Zc(t,e,r){const{gen:n,data:s,opts:a}=t,o=n.let("dataType",(0,H._)`typeof ${s}`),l=n.let("coerced",(0,H._)`undefined`);a.coerceTypes==="array"&&n.if((0,H._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,H._)`${s}[0]`).assign(o,(0,H._)`typeof ${s}`).if(xn(e,s,a.strictNumbers),()=>n.assign(l,s))),n.if((0,H._)`${l} !== undefined`);for(const u of r)(Ao.has(u)||u==="array"&&a.coerceTypes==="array")&&c(u);n.else(),Zn(t),n.endIf(),n.if((0,H._)`${l} !== undefined`,()=>{n.assign(s,l),Qc(t,l)});function c(u){switch(u){case"string":n.elseIf((0,H._)`${o} == "number" || ${o} == "boolean"`).assign(l,(0,H._)`"" + ${s}`).elseIf((0,H._)`${s} === null`).assign(l,(0,H._)`""`);return;case"number":n.elseIf((0,H._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(l,(0,H._)`+${s}`);return;case"integer":n.elseIf((0,H._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,(0,H._)`+${s}`);return;case"boolean":n.elseIf((0,H._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf((0,H._)`${s} === "true" || ${s} === 1`).assign(l,!0);return;case"null":n.elseIf((0,H._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(l,null);return;case"array":n.elseIf((0,H._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(l,(0,H._)`[${s}]`)}}}function Qc({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,H._)`${e} !== undefined`,()=>t.assign((0,H._)`${e}[${r}]`,n))}function Dn(t,e,r,n=St.Correct){const s=n===St.Correct?H.operators.EQ:H.operators.NEQ;let a;switch(t){case"null":return(0,H._)`${e} ${s} null`;case"array":a=(0,H._)`Array.isArray(${e})`;break;case"object":a=(0,H._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=o((0,H._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=o();break;default:return(0,H._)`typeof ${e} ${s} ${t}`}return n===St.Correct?a:(0,H.not)(a);function o(l=H.nil){return(0,H.and)((0,H._)`typeof ${e} == "number"`,l,r?(0,H._)`isFinite(${e})`:H.nil)}}se.checkDataType=Dn;function xn(t,e,r,n){if(t.length===1)return Dn(t[0],e,r,n);let s;const a=(0,To.toHash)(t);if(a.array&&a.object){const o=(0,H._)`typeof ${e} != "object"`;s=a.null?o:(0,H._)`!${e} || ${o}`,delete a.null,delete a.array,delete a.object}else s=H.nil;a.number&&delete a.integer;for(const o in a)s=(0,H.and)(s,Dn(o,e,r,n));return s}se.checkDataTypes=xn;const eu={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,H._)`{type: ${t}}`:(0,H._)`{type: ${e}}`};function Zn(t){const e=tu(t);(0,Wc.reportError)(e,eu)}se.reportTypeError=Zn;function tu(t){const{gen:e,data:r,schema:n}=t,s=(0,To.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.assignDefaults=void 0;const gt=U,ru=T;function nu(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const s in r)pa(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>pa(t,a,s.default))}Ir.assignDefaults=nu;function pa(t,e,r){const{gen:n,compositeRule:s,data:a,opts:o}=t;if(r===void 0)return;const l=(0,gt._)`${a}${(0,gt.getProperty)(e)}`;if(s){(0,ru.checkStrictMode)(t,`default is ignored for: ${l}`);return}let c=(0,gt._)`${l} === undefined`;o.useDefaults==="empty"&&(c=(0,gt._)`${c} || ${l} === null || ${l} === ""`),n.if(c,(0,gt._)`${l} = ${(0,gt.stringify)(r)}`)}var Ve={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const Q=U,Qn=T,Ye=we,su=T;function au(t,e){const{gen:r,data:n,it:s}=t;r.if(ts(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Q._)`${e}`},!0),t.error()})}X.checkReportMissingProp=au;function ou({gen:t,data:e,it:{opts:r}},n,s){return(0,Q.or)(...n.map(a=>(0,Q.and)(ts(t,e,a,r.ownProperties),(0,Q._)`${s} = ${a}`)))}X.checkMissingProp=ou;function iu(t,e){t.setParams({missingProperty:e},!0),t.error()}X.reportMissingProp=iu;function ko(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Q._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=ko;function es(t,e,r){return(0,Q._)`${ko(t)}.call(${e}, ${r})`}X.isOwnProperty=es;function cu(t,e,r,n){const s=(0,Q._)`${e}${(0,Q.getProperty)(r)} !== undefined`;return n?(0,Q._)`${s} && ${es(t,e,r)}`:s}X.propertyInData=cu;function ts(t,e,r,n){const s=(0,Q._)`${e}${(0,Q.getProperty)(r)} === undefined`;return n?(0,Q.or)(s,(0,Q.not)(es(t,e,r))):s}X.noPropertyInData=ts;function Co(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}X.allSchemaProperties=Co;function uu(t,e){return Co(e).filter(r=>!(0,Qn.alwaysValidSchema)(t,e[r]))}X.schemaProperties=uu;function lu({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},l,c,u){const i=u?(0,Q._)`${t}, ${e}, ${n}${s}`:e,d=[[Ye.default.instancePath,(0,Q.strConcat)(Ye.default.instancePath,a)],[Ye.default.parentData,o.parentData],[Ye.default.parentDataProperty,o.parentDataProperty],[Ye.default.rootData,Ye.default.rootData]];o.opts.dynamicRef&&d.push([Ye.default.dynamicAnchors,Ye.default.dynamicAnchors]);const _=(0,Q._)`${i}, ${r.object(...d)}`;return c!==Q.nil?(0,Q._)`${l}.call(${c}, ${_})`:(0,Q._)`${l}(${_})`}X.callValidateCode=lu;const fu=(0,Q._)`new RegExp`;function du({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,a=s(r,n);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Q._)`${s.code==="new RegExp"?fu:(0,su.useFunc)(t,s)}(${r}, ${n})`})}X.usePattern=du;function hu(t){const{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){const l=e.let("valid",!0);return o(()=>e.assign(l,!1)),l}return e.var(a,!0),o(()=>e.break()),a;function o(l){const c=e.const("len",(0,Q._)`${r}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:Qn.Type.Num},a),e.if((0,Q.not)(a),l)})}}X.validateArray=hu;function mu(t){const{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Qn.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=e.let("valid",!1),l=e.name("_valid");e.block(()=>r.forEach((c,u)=>{const i=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},l);e.assign(o,(0,Q._)`${o} || ${l}`),t.mergeValidEvaluated(i,l)||e.if((0,Q.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}X.validateUnion=mu;Object.defineProperty(Ve,"__esModule",{value:!0});Ve.validateKeywordUsage=Ve.validSchemaType=Ve.funcKeywordCode=Ve.macroKeywordCode=void 0;const me=U,it=we,pu=X,yu=Bt;function $u(t,e){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=t,l=e.macro.call(o.self,s,a,o),c=Do(r,n,l);o.opts.validateSchema!==!1&&o.self.validateSchema(l,!0);const u=r.name("valid");t.subschema({schema:l,schemaPath:me.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}Ve.macroKeywordCode=$u;function gu(t,e){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:l,it:c}=t;_u(c,e);const u=!l&&e.compile?e.compile.call(c.self,a,o,c):e.validate,i=Do(n,s,u),d=n.let("valid");t.block$data(d,_),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function _(){if(e.errors===!1)$(),e.modifying&&ya(t),v(()=>t.error());else{const p=e.async?m():y();e.modifying&&ya(t),v(()=>vu(t,p))}}function m(){const p=n.let("ruleErrs",null);return n.try(()=>$((0,me._)`await `),w=>n.assign(d,!1).if((0,me._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(p,(0,me._)`${w}.errors`),()=>n.throw(w))),p}function y(){const p=(0,me._)`${i}.errors`;return n.assign(p,null),$(me.nil),p}function $(p=e.async?(0,me._)`await `:me.nil){const w=c.opts.passContext?it.default.this:it.default.self,N=!("compile"in e&&!l||e.schema===!1);n.assign(d,(0,me._)`${p}${(0,pu.callValidateCode)(t,i,w,N)}`,e.modifying)}function v(p){var w;n.if((0,me.not)((w=e.valid)!==null&&w!==void 0?w:d),p)}}Ve.funcKeywordCode=gu;function ya(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,me._)`${n.parentData}[${n.parentDataProperty}]`))}function vu(t,e){const{gen:r}=t;r.if((0,me._)`Array.isArray(${e})`,()=>{r.assign(it.default.vErrors,(0,me._)`${it.default.vErrors} === null ? ${e} : ${it.default.vErrors}.concat(${e})`).assign(it.default.errors,(0,me._)`${it.default.vErrors}.length`),(0,yu.extendErrors)(t)},()=>t.error())}function _u({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Do(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,me.stringify)(r)})}function Eu(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Ve.validSchemaType=Eu;function wu({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(l=>!Object.prototype.hasOwnProperty.call(t,l)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Ve.validateKeywordUsage=wu;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.extendSubschemaMode=st.extendSubschemaData=st.getSubschema=void 0;const Me=U,Lo=T;function bu(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const l=t.schema[e];return r===void 0?{schema:l,schemaPath:(0,Me._)`${t.schemaPath}${(0,Me.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:l[r],schemaPath:(0,Me._)`${t.schemaPath}${(0,Me.getProperty)(e)}${(0,Me.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Lo.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}st.getSubschema=bu;function Su(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=e;if(r!==void 0){const{errorPath:u,dataPathArr:i,opts:d}=e,_=l.let("data",(0,Me._)`${e.data}${(0,Me.getProperty)(r)}`,!0);c(_),t.errorPath=(0,Me.str)`${u}${(0,Lo.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Me._)`${r}`,t.dataPathArr=[...i,t.parentDataProperty]}if(s!==void 0){const u=s instanceof Me.Name?s:l.let("data",s,!0);c(u),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}st.extendSubschemaData=Su;function Pu(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}st.extendSubschemaMode=Pu;var ue={},Mo=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},Vo={exports:{}},nt=Vo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};yr(e,n,s,t,"",t)};nt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};nt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};nt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};nt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function yr(t,e,r,n,s,a,o,l,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,o,l,c,u);for(var i in n){var d=n[i];if(Array.isArray(d)){if(i in nt.arrayKeywords)for(var _=0;_<d.length;_++)yr(t,e,r,d[_],s+"/"+i+"/"+_,a,s,i,n,_)}else if(i in nt.propsKeywords){if(d&&typeof d=="object")for(var m in d)yr(t,e,r,d[m],s+"/"+i+"/"+Nu(m),a,s,i,n,m)}else(i in nt.keywords||t.allKeys&&!(i in nt.skipKeywords))&&yr(t,e,r,d,s+"/"+i,a,s,i,n)}r(n,s,a,o,l,c,u)}}function Nu(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Ru=Vo.exports;Object.defineProperty(ue,"__esModule",{value:!0});ue.getSchemaRefs=ue.resolveUrl=ue.normalizeId=ue._getFullPath=ue.getFullPath=ue.inlineRef=void 0;const Ou=T,Iu=Mo,Tu=Ru,ju=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Au(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Ln(t):e?Fo(t)<=e:!1}ue.inlineRef=Au;const ku=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ln(t){for(const e in t){if(ku.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Ln)||typeof r=="object"&&Ln(r))return!0}return!1}function Fo(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!ju.has(r)&&(typeof t[r]=="object"&&(0,Ou.eachItem)(t[r],n=>e+=Fo(n)),e===1/0))return 1/0}return e}function zo(t,e="",r){r!==!1&&(e=Pt(e));const n=t.parse(e);return Uo(t,n)}ue.getFullPath=zo;function Uo(t,e){return t.serialize(e).split("#")[0]+"#"}ue._getFullPath=Uo;const Cu=/#\/?$/;function Pt(t){return t?t.replace(Cu,""):""}ue.normalizeId=Pt;function Du(t,e,r){return r=Pt(r),t.resolve(e,r)}ue.resolveUrl=Du;const Lu=/^[a-z_][-a-z0-9._]*$/i;function Mu(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Pt(t[r]||e),a={"":s},o=zo(n,s,!1),l={},c=new Set;return Tu(t,{allKeys:!0},(d,_,m,y)=>{if(y===void 0)return;const $=o+_;let v=a[y];typeof d[r]=="string"&&(v=p.call(this,d[r])),w.call(this,d.$anchor),w.call(this,d.$dynamicAnchor),a[_]=v;function p(N){const I=this.opts.uriResolver.resolve;if(N=Pt(v?I(v,N):N),c.has(N))throw i(N);c.add(N);let j=this.refs[N];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?u(d,j.schema,N):N!==Pt($)&&(N[0]==="#"?(u(d,l[N],N),l[N]=d):this.refs[N]=$),N}function w(N){if(typeof N=="string"){if(!Lu.test(N))throw new Error(`invalid anchor "${N}"`);p.call(this,`#${N}`)}}}),l;function u(d,_,m){if(_!==void 0&&!Iu(d,_))throw i(m)}function i(d){return new Error(`reference "${d}" resolves to more than one schema`)}}ue.getSchemaRefs=Mu;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getData=Ne.KeywordCxt=Ne.validateFunctionCode=void 0;const qo=Rt,$a=se,rs=qe,wr=se,Vu=Ir,Ut=Ve,mn=st,D=U,z=we,Fu=ue,Ge=T,Lt=Bt;function zu(t){if(Ho(t)&&(Xo(t),Ko(t))){Gu(t);return}Go(t,()=>(0,qo.topBoolOrEmptySchema)(t))}Ne.validateFunctionCode=zu;function Go({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,(0,D._)`${z.default.data}, ${z.default.valCxt}`,n.$async,()=>{t.code((0,D._)`"use strict"; ${ga(r,s)}`),qu(t,s),t.code(a)}):t.func(e,(0,D._)`${z.default.data}, ${Uu(s)}`,n.$async,()=>t.code(ga(r,s)).code(a))}function Uu(t){return(0,D._)`{${z.default.instancePath}="", ${z.default.parentData}, ${z.default.parentDataProperty}, ${z.default.rootData}=${z.default.data}${t.dynamicRef?(0,D._)`, ${z.default.dynamicAnchors}={}`:D.nil}}={}`}function qu(t,e){t.if(z.default.valCxt,()=>{t.var(z.default.instancePath,(0,D._)`${z.default.valCxt}.${z.default.instancePath}`),t.var(z.default.parentData,(0,D._)`${z.default.valCxt}.${z.default.parentData}`),t.var(z.default.parentDataProperty,(0,D._)`${z.default.valCxt}.${z.default.parentDataProperty}`),t.var(z.default.rootData,(0,D._)`${z.default.valCxt}.${z.default.rootData}`),e.dynamicRef&&t.var(z.default.dynamicAnchors,(0,D._)`${z.default.valCxt}.${z.default.dynamicAnchors}`)},()=>{t.var(z.default.instancePath,(0,D._)`""`),t.var(z.default.parentData,(0,D._)`undefined`),t.var(z.default.parentDataProperty,(0,D._)`undefined`),t.var(z.default.rootData,z.default.data),e.dynamicRef&&t.var(z.default.dynamicAnchors,(0,D._)`{}`)})}function Gu(t){const{schema:e,opts:r,gen:n}=t;Go(t,()=>{r.$comment&&e.$comment&&Wo(t),Wu(t),n.let(z.default.vErrors,null),n.let(z.default.errors,0),r.unevaluated&&Ku(t),Bo(t),xu(t)})}function Ku(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,D._)`${r}.evaluated`),e.if((0,D._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,D._)`${t.evaluated}.props`,(0,D._)`undefined`)),e.if((0,D._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,D._)`${t.evaluated}.items`,(0,D._)`undefined`))}function ga(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,D._)`/*# sourceURL=${r} */`:D.nil}function Hu(t,e){if(Ho(t)&&(Xo(t),Ko(t))){Xu(t,e);return}(0,qo.boolOrEmptySchema)(t,e)}function Ko({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Ho(t){return typeof t.schema!="boolean"}function Xu(t,e){const{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Wo(t),Yu(t),Ju(t);const a=n.const("_errs",z.default.errors);Bo(t,a),n.var(e,(0,D._)`${a} === ${z.default.errors}`)}function Xo(t){(0,Ge.checkUnknownRules)(t),Bu(t)}function Bo(t,e){if(t.opts.jtd)return va(t,[],!1,e);const r=(0,$a.getSchemaTypes)(t.schema),n=(0,$a.coerceAndCheckDataType)(t,r);va(t,r,!n,e)}function Bu(t){const{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Ge.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Wu(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ge.checkStrictMode)(t,"default is ignored in the schema root")}function Yu(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Fu.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Ju(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Wo({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)t.code((0,D._)`${z.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,D.str)`${n}/$comment`,l=t.scopeValue("root",{ref:e.root});t.code((0,D._)`${z.default.self}.opts.$comment(${a}, ${o}, ${l}.schema)`)}}function xu(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if((0,D._)`${z.default.errors} === 0`,()=>e.return(z.default.data),()=>e.throw((0,D._)`new ${s}(${z.default.vErrors})`)):(e.assign((0,D._)`${n}.errors`,z.default.vErrors),a.unevaluated&&Zu(t),e.return((0,D._)`${z.default.errors} === 0`))}function Zu({gen:t,evaluated:e,props:r,items:n}){r instanceof D.Name&&t.assign((0,D._)`${e}.props`,r),n instanceof D.Name&&t.assign((0,D._)`${e}.items`,n)}function va(t,e,r,n){const{gen:s,schema:a,data:o,allErrors:l,opts:c,self:u}=t,{RULES:i}=u;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Ge.schemaHasRulesButRef)(a,i))){s.block(()=>xo(t,"$ref",i.all.$ref.definition));return}c.jtd||Qu(t,e),s.block(()=>{for(const _ of i.rules)d(_);d(i.post)});function d(_){(0,rs.shouldUseGroup)(a,_)&&(_.type?(s.if((0,wr.checkDataType)(_.type,o,c.strictNumbers)),_a(t,_),e.length===1&&e[0]===_.type&&r&&(s.else(),(0,wr.reportTypeError)(t)),s.endIf()):_a(t,_),l||s.if((0,D._)`${z.default.errors} === ${n||0}`))}}function _a(t,e){const{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Vu.assignDefaults)(t,e.type),r.block(()=>{for(const a of e.rules)(0,rs.shouldUseRule)(n,a)&&xo(t,a.keyword,a.definition,e.type)})}function Qu(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(el(t,e),t.opts.allowUnionTypes||tl(t,e),rl(t,t.dataTypes))}function el(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Yo(t.dataTypes,r)||ns(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),sl(t,e)}}function tl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ns(t,"use allowUnionTypes to allow union type keyword")}function rl(t,e){const r=t.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,rs.shouldUseRule)(t.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>nl(e,o))&&ns(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function nl(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Yo(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function sl(t,e){const r=[];for(const n of t.dataTypes)Yo(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function ns(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ge.checkStrictMode)(t,e,t.opts.strictTypes)}class Jo{constructor(e,r,n){if((0,Ut.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ge.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Zo(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ut.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",z.default.errors))}result(e,r,n){this.failResult((0,D.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,D.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,D._)`${r} !== undefined && (${(0,D.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Lt.reportExtraError:Lt.reportError)(this,this.def.error,r)}$dataError(){(0,Lt.reportError)(this,this.def.$dataError||Lt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Lt.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=D.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=D.nil,r=D.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,D.or)((0,D._)`${s} === undefined`,r)),e!==D.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==D.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,D.or)(o(),l());function o(){if(n.length){if(!(r instanceof D.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,D._)`${(0,wr.checkDataTypes)(c,r,a.opts.strictNumbers,wr.DataType.Wrong)}`}return D.nil}function l(){if(s.validateSchema){const c=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,D._)`!${c}(${r})`}return D.nil}}subschema(e,r){const n=(0,mn.getSubschema)(this.it,e);(0,mn.extendSubschemaData)(n,this.it,e),(0,mn.extendSubschemaMode)(n,e);const s={...this.it,...n,items:void 0,props:void 0};return Hu(s,r),s}mergeEvaluated(e,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Ge.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ge.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,D.Name)),!0}}Ne.KeywordCxt=Jo;function xo(t,e,r,n){const s=new Jo(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Ut.funcKeywordCode)(s,r):"macro"in r?(0,Ut.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Ut.funcKeywordCode)(s,r)}const al=/^\/(?:[^~]|~0|~1)*$/,ol=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Zo(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return z.default.rootData;if(t[0]==="/"){if(!al.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=z.default.rootData}else{const u=ol.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const i=+u[1];if(s=u[2],s==="#"){if(i>=e)throw new Error(c("property/index",i));return n[e-i]}if(i>e)throw new Error(c("data",i));if(a=r[e-i],!s)return a}let o=a;const l=s.split("/");for(const u of l)u&&(a=(0,D._)`${a}${(0,D.getProperty)((0,Ge.unescapeJsonPointer)(u))}`,o=(0,D._)`${o} && ${a}`);return o;function c(u,i){return`Cannot access ${u} ${i} levels up, current level is ${e}`}}Ne.getData=Zo;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});class il extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Ot.default=il;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});const pn=ue;class cl extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,pn.resolveUrl)(e,r,n),this.missingSchema=(0,pn.normalizeId)((0,pn.getFullPath)(e,this.missingRef))}}yt.default=cl;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.resolveSchema=pe.getCompilingSchema=pe.resolveRef=pe.compileSchema=pe.SchemaEnv=void 0;const Oe=U,ul=Ot,ot=we,je=ue,Ea=T,ll=Ne;class Tr{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}pe.SchemaEnv=Tr;function ss(t){const e=Qo.call(this,t);if(e)return e;const r=(0,je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Oe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let l;t.$async&&(l=o.scopeValue("Error",{ref:ul.default,code:(0,Oe._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");t.validateName=c;const u={gen:o,allErrors:this.opts.allErrors,data:ot.default.data,parentData:ot.default.parentData,parentDataProperty:ot.default.parentDataProperty,dataNames:[ot.default.data],dataPathArr:[Oe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Oe.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:l,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Oe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Oe._)`""`,opts:this.opts,self:this};let i;try{this._compilations.add(t),(0,ll.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const d=o.toString();i=`${o.scopeRefs(ot.default.scope)}return ${d}`,this.opts.code.process&&(i=this.opts.code.process(i,t));const m=new Function(`${ot.default.self}`,`${ot.default.scope}`,i)(this,this.scope.get());if(this.scope.value(c,{ref:m}),m.errors=null,m.schema=t.schema,m.schemaEnv=t,t.$async&&(m.$async=!0),this.opts.code.source===!0&&(m.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:$}=u;m.evaluated={props:y instanceof Oe.Name?void 0:y,items:$ instanceof Oe.Name?void 0:$,dynamicProps:y instanceof Oe.Name,dynamicItems:$ instanceof Oe.Name},m.source&&(m.source.evaluated=(0,Oe.stringify)(m.evaluated))}return t.validate=m,t}catch(d){throw delete t.validate,delete t.validateName,i&&this.logger.error("Error compiling schema, function code:",i),d}finally{this._compilations.delete(t)}}pe.compileSchema=ss;function fl(t,e,r){var n;r=(0,je.resolveUrl)(this.opts.uriResolver,e,r);const s=t.refs[r];if(s)return s;let a=ml.call(this,t,r);if(a===void 0){const o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;o&&(a=new Tr({schema:o,schemaId:l,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=dl.call(this,a)}pe.resolveRef=fl;function dl(t){return(0,je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ss.call(this,t)}function Qo(t){for(const e of this._compilations)if(hl(e,t))return e}pe.getCompilingSchema=Qo;function hl(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function ml(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||jr.call(this,t,e)}function jr(t,e){const r=this.opts.uriResolver.parse(e),n=(0,je._getFullPath)(this.opts.uriResolver,r);let s=(0,je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return yn.call(this,r,t);const a=(0,je.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const l=jr.call(this,t,o);return typeof(l==null?void 0:l.schema)!="object"?void 0:yn.call(this,r,l)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||ss.call(this,o),a===(0,je.normalizeId)(e)){const{schema:l}=o,{schemaId:c}=this.opts,u=l[c];return u&&(s=(0,je.resolveUrl)(this.opts.uriResolver,s,u)),new Tr({schema:l,schemaId:c,root:t,baseId:s})}return yn.call(this,r,o)}}pe.resolveSchema=jr;const pl=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function yn(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const l of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,Ea.unescapeFragment)(l)];if(c===void 0)return;r=c;const u=typeof r=="object"&&r[this.opts.schemaId];!pl.has(l)&&u&&(e=(0,je.resolveUrl)(this.opts.uriResolver,e,u))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,Ea.schemaHasRulesButRef)(r,this.RULES)){const l=(0,je.resolveUrl)(this.opts.uriResolver,e,r.$ref);a=jr.call(this,n,l)}const{schemaId:o}=this.opts;if(a=a||new Tr({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}const yl="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",$l="Meta-schema for $data reference (JSON AnySchema extension proposal)",gl="object",vl=["$data"],_l={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},El=!1,wl={$id:yl,description:$l,type:gl,required:vl,properties:_l,additionalProperties:El};var as={},Ar={exports:{}};const bl=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),ei=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function ti(t){let e="",r=0,n=0;for(n=0;n<t.length;n++)if(r=t[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n];break}for(n+=1;n<t.length;n++){if(r=t[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n]}return e}const Sl=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function wa(t){return t.length=0,!0}function Pl(t,e,r){if(t.length){const n=ti(t);if(n!=="")e.push(n);else return r.error=!0,!1;t.length=0}return!0}function Nl(t){let e=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,o=!1,l=Pl;for(let c=0;c<t.length;c++){const u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(a===!0&&(o=!0),!l(s,n,r))break;if(++e>7){r.error=!0;break}c>0&&t[c-1]===":"&&(a=!0),n.push(":");continue}else if(u==="%"){if(!l(s,n,r))break;l=wa}else{s.push(u);continue}}return s.length&&(l===wa?r.zone=s.join(""):o?n.push(s.join("")):n.push(ti(s))),r.address=n.join(""),r}function ri(t){if(Rl(t,":")<2)return{host:t,isIPV6:!1};const e=Nl(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Rl(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}function Ol(t){let e=t;const r=[];let n=-1,s=0;for(;s=e.length;){if(s===1){if(e===".")break;if(e==="/"){r.push("/");break}else{r.push(e);break}}else if(s===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){r.push("/");break}}else if(s===3&&e==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),r.length!==0&&r.pop();continue}}if((n=e.indexOf("/",1))===-1){r.push(e);break}else r.push(e.slice(0,n)),e=e.slice(n)}return r.join("")}function Il(t,e){const r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function Tl(t){const e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host);if(!ei(r)){const n=ri(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}var ni={nonSimpleDomain:Sl,recomposeAuthority:Tl,normalizeComponentEncoding:Il,removeDotSegments:Ol,isIPv4:ei,isUUID:bl,normalizeIPv6:ri};const{isUUID:jl}=ni,Al=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function si(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function ai(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function oi(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function kl(t){return t.secure=si(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Cl(t){if((t.port===(si(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Dl(t,e){if(!t.path)return t.error="URN can not be parsed",t;const r=t.path.match(Al);if(r){const n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];const s=`${n}:${e.nid||t.nid}`,a=os(s);t.path=void 0,a&&(t=a.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Ll(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),s=`${r}:${e.nid||n}`,a=os(s);a&&(t=a.serialize(t,e));const o=t,l=t.nss;return o.path=`${n||e.nid}:${l}`,e.skipEscape=!0,o}function Ml(t,e){const r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!jl(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Vl(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const ii={scheme:"http",domainHost:!0,parse:ai,serialize:oi},Fl={scheme:"https",domainHost:ii.domainHost,parse:ai,serialize:oi},$r={scheme:"ws",domainHost:!0,parse:kl,serialize:Cl},zl={scheme:"wss",domainHost:$r.domainHost,parse:$r.parse,serialize:$r.serialize},Ul={scheme:"urn",parse:Dl,serialize:Ll,skipNormalize:!0},ql={scheme:"urn:uuid",parse:Ml,serialize:Vl,skipNormalize:!0},br={http:ii,https:Fl,ws:$r,wss:zl,urn:Ul,"urn:uuid":ql};Object.setPrototypeOf(br,null);function os(t){return t&&(br[t]||br[t.toLowerCase()])||void 0}var Gl={SCHEMES:br,getSchemeHandler:os};const{normalizeIPv6:Kl,removeDotSegments:Ft,recomposeAuthority:Hl,normalizeComponentEncoding:tr,isIPv4:Xl,nonSimpleDomain:Bl}=ni,{SCHEMES:Wl,getSchemeHandler:ci}=Gl;function Yl(t,e){return typeof t=="string"?t=Fe(Ke(t,e),e):typeof t=="object"&&(t=Ke(Fe(t,e),e)),t}function Jl(t,e,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=ui(Ke(t,n),Ke(e,n),n,!0);return n.skipEscape=!0,Fe(s,n)}function ui(t,e,r,n){const s={};return n||(t=Ke(Fe(t,r),r),e=Ke(Fe(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(s.scheme=e.scheme,s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=Ft(e.path||""),s.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=Ft(e.path||""),s.query=e.query):(e.path?(e.path[0]==="/"?s.path=Ft(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?s.path="/"+e.path:t.path?s.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:s.path=e.path,s.path=Ft(s.path)),s.query=e.query):(s.path=t.path,e.query!==void 0?s.query=e.query:s.query=t.query),s.userinfo=t.userinfo,s.host=t.host,s.port=t.port),s.scheme=t.scheme),s.fragment=e.fragment,s}function xl(t,e,r){return typeof t=="string"?(t=unescape(t),t=Fe(tr(Ke(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=Fe(tr(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=Fe(tr(Ke(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=Fe(tr(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function Fe(t,e){const r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),s=[],a=ci(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=Hl(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let l=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(l=Ft(l)),o===void 0&&l[0]==="/"&&l[1]==="/"&&(l="/%2F"+l.slice(2)),s.push(l)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const Zl=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function Ke(t,e){const r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;r.reference==="suffix"&&(r.scheme?t=r.scheme+":"+t:t="//"+t);const a=t.match(Zl);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Xl(n.host)===!1){const c=Kl(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=ci(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&Bl(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!o||o&&!o.skipNormalize)&&(t.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const is={SCHEMES:Wl,normalize:Yl,resolve:Jl,resolveComponent:ui,equal:xl,serialize:Fe,parse:Ke};Ar.exports=is;Ar.exports.default=is;Ar.exports.fastUri=is;var Ql=Ar.exports;Object.defineProperty(as,"__esModule",{value:!0});const li=Ql;li.code='require("ajv/dist/runtime/uri").default';as.default=li;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Ne;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=U;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ot,s=yt,a=mt,o=pe,l=U,c=ue,u=se,i=T,d=wl,_=as,m=(P,g)=>new RegExp(P,g);m.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},p={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function N(P){var g,b,E,f,h,S,L,M,J,W,ae,$t,Br,Wr,Yr,Jr,xr,Zr,Qr,en,tn,rn,nn,sn,an;const Ct=P.strict,on=(g=P.code)===null||g===void 0?void 0:g.optimize,ea=on===!0||on===void 0?1:on||0,ta=(E=(b=P.code)===null||b===void 0?void 0:b.regExp)!==null&&E!==void 0?E:m,zi=(f=P.uriResolver)!==null&&f!==void 0?f:_.default;return{strictSchema:(S=(h=P.strictSchema)!==null&&h!==void 0?h:Ct)!==null&&S!==void 0?S:!0,strictNumbers:(M=(L=P.strictNumbers)!==null&&L!==void 0?L:Ct)!==null&&M!==void 0?M:!0,strictTypes:(W=(J=P.strictTypes)!==null&&J!==void 0?J:Ct)!==null&&W!==void 0?W:"log",strictTuples:($t=(ae=P.strictTuples)!==null&&ae!==void 0?ae:Ct)!==null&&$t!==void 0?$t:"log",strictRequired:(Wr=(Br=P.strictRequired)!==null&&Br!==void 0?Br:Ct)!==null&&Wr!==void 0?Wr:!1,code:P.code?{...P.code,optimize:ea,regExp:ta}:{optimize:ea,regExp:ta},loopRequired:(Yr=P.loopRequired)!==null&&Yr!==void 0?Yr:w,loopEnum:(Jr=P.loopEnum)!==null&&Jr!==void 0?Jr:w,meta:(xr=P.meta)!==null&&xr!==void 0?xr:!0,messages:(Zr=P.messages)!==null&&Zr!==void 0?Zr:!0,inlineRefs:(Qr=P.inlineRefs)!==null&&Qr!==void 0?Qr:!0,schemaId:(en=P.schemaId)!==null&&en!==void 0?en:"$id",addUsedSchema:(tn=P.addUsedSchema)!==null&&tn!==void 0?tn:!0,validateSchema:(rn=P.validateSchema)!==null&&rn!==void 0?rn:!0,validateFormats:(nn=P.validateFormats)!==null&&nn!==void 0?nn:!0,unicodeRegExp:(sn=P.unicodeRegExp)!==null&&sn!==void 0?sn:!0,int32range:(an=P.int32range)!==null&&an!==void 0?an:!0,uriResolver:zi}}class I{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...N(g)};const{es5:b,lines:E}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:$,es5:b,lines:E}),this.logger=K(g.logger);const f=g.validateFormats;g.validateFormats=!1,this.RULES=(0,a.getRules)(),j.call(this,v,g,"NOT SUPPORTED"),j.call(this,p,g,"DEPRECATED","warn"),this._metaOpts=Re.call(this),g.formats&&$e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&be.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),te.call(this),g.validateFormats=f}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:b,schemaId:E}=this.opts;let f=d;E==="id"&&(f={...d},f.id=f.$id,delete f.$id),b&&g&&this.addMetaSchema(f,f[E],!1)}defaultMeta(){const{meta:g,schemaId:b}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[b]||g:void 0}validate(g,b){let E;if(typeof g=="string"){if(E=this.getSchema(g),!E)throw new Error(`no schema with key or ref "${g}"`)}else E=this.compile(g);const f=E(b);return"$async"in E||(this.errors=E.errors),f}compile(g,b){const E=this._addSchema(g,b);return E.validate||this._compileSchemaEnv(E)}compileAsync(g,b){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:E}=this.opts;return f.call(this,g,b);async function f(W,ae){await h.call(this,W.$schema);const $t=this._addSchema(W,ae);return $t.validate||S.call(this,$t)}async function h(W){W&&!this.getSchema(W)&&await f.call(this,{$ref:W},!0)}async function S(W){try{return this._compileSchemaEnv(W)}catch(ae){if(!(ae instanceof s.default))throw ae;return L.call(this,ae),await M.call(this,ae.missingSchema),S.call(this,W)}}function L({missingSchema:W,missingRef:ae}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${ae} cannot be resolved`)}async function M(W){const ae=await J.call(this,W);this.refs[W]||await h.call(this,ae.$schema),this.refs[W]||this.addSchema(ae,W,b)}async function J(W){const ae=this._loading[W];if(ae)return ae;try{return await(this._loading[W]=E(W))}finally{delete this._loading[W]}}}addSchema(g,b,E,f=this.opts.validateSchema){if(Array.isArray(g)){for(const S of g)this.addSchema(S,void 0,E,f);return this}let h;if(typeof g=="object"){const{schemaId:S}=this.opts;if(h=g[S],h!==void 0&&typeof h!="string")throw new Error(`schema ${S} must be string`)}return b=(0,c.normalizeId)(b||h),this._checkUnique(b),this.schemas[b]=this._addSchema(g,E,b,f,!0),this}addMetaSchema(g,b,E=this.opts.validateSchema){return this.addSchema(g,b,!0,E),this}validateSchema(g,b){if(typeof g=="boolean")return!0;let E;if(E=g.$schema,E!==void 0&&typeof E!="string")throw new Error("$schema must be a string");if(E=E||this.opts.defaultMeta||this.defaultMeta(),!E)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const f=this.validate(E,g);if(!f&&b){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return f}getSchema(g){let b;for(;typeof(b=Y.call(this,g))=="string";)g=b;if(b===void 0){const{schemaId:E}=this.opts,f=new o.SchemaEnv({schema:{},schemaId:E});if(b=o.resolveSchema.call(this,f,g),!b)return;this.refs[g]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const b=Y.call(this,g);return typeof b=="object"&&this._cache.delete(b.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const b=g;this._cache.delete(b);let E=g[this.opts.schemaId];return E&&(E=(0,c.normalizeId)(E),delete this.schemas[E],delete this.refs[E]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const b of g)this.addKeyword(b);return this}addKeyword(g,b){let E;if(typeof g=="string")E=g,typeof b=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=E);else if(typeof g=="object"&&b===void 0){if(b=g,E=b.keyword,Array.isArray(E)&&!E.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(R.call(this,E,b),!b)return(0,i.eachItem)(E,h=>O.call(this,h)),this;A.call(this,b);const f={...b,type:(0,u.getJSONTypes)(b.type),schemaType:(0,u.getJSONTypes)(b.schemaType)};return(0,i.eachItem)(E,f.type.length===0?h=>O.call(this,h,f):h=>f.type.forEach(S=>O.call(this,h,f,S))),this}getKeyword(g){const b=this.RULES.all[g];return typeof b=="object"?b.definition:!!b}removeKeyword(g){const{RULES:b}=this;delete b.keywords[g],delete b.all[g];for(const E of b.rules){const f=E.rules.findIndex(h=>h.keyword===g);f>=0&&E.rules.splice(f,1)}return this}addFormat(g,b){return typeof b=="string"&&(b=new RegExp(b)),this.formats[g]=b,this}errorsText(g=this.errors,{separator:b=", ",dataVar:E="data"}={}){return!g||g.length===0?"No errors":g.map(f=>`${E}${f.instancePath} ${f.message}`).reduce((f,h)=>f+b+h)}$dataMetaSchema(g,b){const E=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const f of b){const h=f.split("/").slice(1);let S=g;for(const L of h)S=S[L];for(const L in E){const M=E[L];if(typeof M!="object")continue;const{$data:J}=M.definition,W=S[L];J&&W&&(S[L]=k(W))}}return g}_removeAllSchemas(g,b){for(const E in g){const f=g[E];(!b||b.test(E))&&(typeof f=="string"?delete g[E]:f&&!f.meta&&(this._cache.delete(f.schema),delete g[E]))}}_addSchema(g,b,E,f=this.opts.validateSchema,h=this.opts.addUsedSchema){let S;const{schemaId:L}=this.opts;if(typeof g=="object")S=g[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let M=this._cache.get(g);if(M!==void 0)return M;E=(0,c.normalizeId)(S||E);const J=c.getSchemaRefs.call(this,g,E);return M=new o.SchemaEnv({schema:g,schemaId:L,meta:b,baseId:E,localRefs:J}),this._cache.set(M.schema,M),h&&!E.startsWith("#")&&(E&&this._checkUnique(E),this.refs[E]=M),f&&this.validateSchema(g,!0),M}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):o.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const b=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,g)}finally{this.opts=b}}}I.ValidationError=n.default,I.MissingRefError=s.default,t.default=I;function j(P,g,b,E="error"){for(const f in P){const h=f;h in g&&this.logger[E](`${b}: option ${f}. ${P[h]}`)}}function Y(P){return P=(0,c.normalizeId)(P),this.schemas[P]||this.refs[P]}function te(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const g in P)this.addSchema(P[g],g)}function $e(){for(const P in this.opts.formats){const g=this.opts.formats[P];g&&this.addFormat(P,g)}}function be(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in P){const b=P[g];b.keyword||(b.keyword=g),this.addKeyword(b)}}function Re(){const P={...this.opts};for(const g of y)delete P[g];return P}const F={log(){},warn(){},error(){}};function K(P){if(P===!1)return F;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function R(P,g){const{RULES:b}=this;if((0,i.eachItem)(P,E=>{if(b.keywords[E])throw new Error(`Keyword ${E} is already defined`);if(!Z.test(E))throw new Error(`Keyword ${E} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function O(P,g,b){var E;const f=g==null?void 0:g.post;if(b&&f)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let S=f?h.post:h.rules.find(({type:M})=>M===b);if(S||(S={type:b,rules:[]},h.rules.push(S)),h.keywords[P]=!0,!g)return;const L={keyword:P,definition:{...g,type:(0,u.getJSONTypes)(g.type),schemaType:(0,u.getJSONTypes)(g.schemaType)}};g.before?C.call(this,S,L,g.before):S.rules.push(L),h.all[P]=L,(E=g.implements)===null||E===void 0||E.forEach(M=>this.addKeyword(M))}function C(P,g,b){const E=P.rules.findIndex(f=>f.keyword===b);E>=0?P.rules.splice(E,0,g):(P.rules.push(g),this.logger.warn(`rule ${b} is not defined`))}function A(P){let{metaSchema:g}=P;g!==void 0&&(P.$data&&this.opts.$data&&(g=k(g)),P.validateSchema=this.compile(g,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function k(P){return{anyOf:[P,V]}}})(Wn);var cs={},kr={},us={};Object.defineProperty(us,"__esModule",{value:!0});const ef={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};us.default=ef;var He={};Object.defineProperty(He,"__esModule",{value:!0});He.callRef=He.getValidate=void 0;const tf=yt,ba=X,ve=U,vt=we,Sa=pe,rr=T,rf={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:o,opts:l,self:c}=n,{root:u}=a;if((r==="#"||r==="#/")&&s===u.baseId)return d();const i=Sa.resolveRef.call(c,u,s,r);if(i===void 0)throw new tf.default(n.opts.uriResolver,s,r);if(i instanceof Sa.SchemaEnv)return _(i);return m(i);function d(){if(a===u)return gr(t,o,a,a.$async);const y=e.scopeValue("root",{ref:u});return gr(t,(0,ve._)`${y}.validate`,u,u.$async)}function _(y){const $=fi(t,y);gr(t,$,y,y.$async)}function m(y){const $=e.scopeValue("schema",l.code.source===!0?{ref:y,code:(0,ve.stringify)(y)}:{ref:y}),v=e.name("valid"),p=t.subschema({schema:y,dataTypes:[],schemaPath:ve.nil,topSchemaRef:$,errSchemaPath:r},v);t.mergeEvaluated(p),t.ok(v)}}};function fi(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,ve._)`${r.scopeValue("wrapper",{ref:e})}.validate`}He.getValidate=fi;function gr(t,e,r,n){const{gen:s,it:a}=t,{allErrors:o,schemaEnv:l,opts:c}=a,u=c.passContext?vt.default.this:ve.nil;n?i():d();function i(){if(!l.$async)throw new Error("async schema referenced by sync schema");const y=s.let("valid");s.try(()=>{s.code((0,ve._)`await ${(0,ba.callValidateCode)(t,e,u)}`),m(e),o||s.assign(y,!0)},$=>{s.if((0,ve._)`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),_($),o||s.assign(y,!1)}),t.ok(y)}function d(){t.result((0,ba.callValidateCode)(t,e,u),()=>m(e),()=>_(e))}function _(y){const $=(0,ve._)`${y}.errors`;s.assign(vt.default.vErrors,(0,ve._)`${vt.default.vErrors} === null ? ${$} : ${vt.default.vErrors}.concat(${$})`),s.assign(vt.default.errors,(0,ve._)`${vt.default.vErrors}.length`)}function m(y){var $;if(!a.opts.unevaluated)return;const v=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(a.props=rr.mergeEvaluated.props(s,v.props,a.props));else{const p=s.var("props",(0,ve._)`${y}.evaluated.props`);a.props=rr.mergeEvaluated.props(s,p,a.props,ve.Name)}if(a.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(a.items=rr.mergeEvaluated.items(s,v.items,a.items));else{const p=s.var("items",(0,ve._)`${y}.evaluated.items`);a.items=rr.mergeEvaluated.items(s,p,a.items,ve.Name)}}}He.callRef=gr;He.default=rf;Object.defineProperty(kr,"__esModule",{value:!0});const nf=us,sf=He,af=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",nf.default,sf.default];kr.default=af;var Cr={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Sr=U,Je=Sr.operators,Pr={maximum:{okStr:"<=",ok:Je.LTE,fail:Je.GT},minimum:{okStr:">=",ok:Je.GTE,fail:Je.LT},exclusiveMaximum:{okStr:"<",ok:Je.LT,fail:Je.GTE},exclusiveMinimum:{okStr:">",ok:Je.GT,fail:Je.LTE}},of={message:({keyword:t,schemaCode:e})=>(0,Sr.str)`must be ${Pr[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Sr._)`{comparison: ${Pr[t].okStr}, limit: ${e}}`},cf={keyword:Object.keys(Pr),type:"number",schemaType:"number",$data:!0,error:of,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Sr._)`${r} ${Pr[e].fail} ${n} || isNaN(${r})`)}};ls.default=cf;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const qt=U,uf={message:({schemaCode:t})=>(0,qt.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,qt._)`{multipleOf: ${t}}`},lf={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:uf,code(t){const{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,o=e.let("res"),l=a?(0,qt._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,qt._)`${o} !== parseInt(${o})`;t.fail$data((0,qt._)`(${n} === 0 || (${o} = ${r}/${n}, ${l}))`)}};fs.default=lf;var ds={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});function di(t){const e=t.length;let r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}hs.default=di;di.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ds,"__esModule",{value:!0});const ct=U,ff=T,df=hs,hf={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,ct.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,ct._)`{limit: ${t}}`},mf={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:hf,code(t){const{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?ct.operators.GT:ct.operators.LT,o=s.opts.unicode===!1?(0,ct._)`${r}.length`:(0,ct._)`${(0,ff.useFunc)(t.gen,df.default)}(${r})`;t.fail$data((0,ct._)`${o} ${a} ${n}`)}};ds.default=mf;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const pf=X,Nr=U,yf={message:({schemaCode:t})=>(0,Nr.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Nr._)`{pattern: ${t}}`},$f={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:yf,code(t){const{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,o=a.opts.unicodeRegExp?"u":"",l=r?(0,Nr._)`(new RegExp(${s}, ${o}))`:(0,pf.usePattern)(t,n);t.fail$data((0,Nr._)`!${l}.test(${e})`)}};ms.default=$f;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const Gt=U,gf={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Gt.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Gt._)`{limit: ${t}}`},vf={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:gf,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?Gt.operators.GT:Gt.operators.LT;t.fail$data((0,Gt._)`Object.keys(${r}).length ${s} ${n}`)}};ps.default=vf;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const Mt=X,Kt=U,_f=T,Ef={message:({params:{missingProperty:t}})=>(0,Kt.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Kt._)`{missingProperty: ${t}}`},wf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ef,code(t){const{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:o}=t,{opts:l}=o;if(!a&&r.length===0)return;const c=r.length>=l.loopRequired;if(o.allErrors?u():i(),l.strictRequired){const m=t.parentSchema.properties,{definedProperties:y}=t.it;for(const $ of r)if((m==null?void 0:m[$])===void 0&&!y.has($)){const v=o.schemaEnv.baseId+o.errSchemaPath,p=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,_f.checkStrictMode)(o,p,o.opts.strictRequired)}}function u(){if(c||a)t.block$data(Kt.nil,d);else for(const m of r)(0,Mt.checkReportMissingProp)(t,m)}function i(){const m=e.let("missing");if(c||a){const y=e.let("valid",!0);t.block$data(y,()=>_(m,y)),t.ok(y)}else e.if((0,Mt.checkMissingProp)(t,r,m)),(0,Mt.reportMissingProp)(t,m),e.else()}function d(){e.forOf("prop",n,m=>{t.setParams({missingProperty:m}),e.if((0,Mt.noPropertyInData)(e,s,m,l.ownProperties),()=>t.error())})}function _(m,y){t.setParams({missingProperty:m}),e.forOf(m,n,()=>{e.assign(y,(0,Mt.propertyInData)(e,s,m,l.ownProperties)),e.if((0,Kt.not)(y),()=>{t.error(),e.break()})},Kt.nil)}}};ys.default=wf;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const Ht=U,bf={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Ht.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ht._)`{limit: ${t}}`},Sf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:bf,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Ht.operators.GT:Ht.operators.LT;t.fail$data((0,Ht._)`${r}.length ${s} ${n}`)}};$s.default=Sf;var gs={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});const hi=Mo;hi.code='require("ajv/dist/runtime/equal").default';Wt.default=hi;Object.defineProperty(gs,"__esModule",{value:!0});const $n=se,ce=U,Pf=T,Nf=Wt,Rf={message:({params:{i:t,j:e}})=>(0,ce.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ce._)`{i: ${t}, j: ${e}}`},Of={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Rf,code(t){const{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:l}=t;if(!n&&!s)return;const c=e.let("valid"),u=a.items?(0,$n.getSchemaTypes)(a.items):[];t.block$data(c,i,(0,ce._)`${o} === false`),t.ok(c);function i(){const y=e.let("i",(0,ce._)`${r}.length`),$=e.let("j");t.setParams({i:y,j:$}),e.assign(c,!0),e.if((0,ce._)`${y} > 1`,()=>(d()?_:m)(y,$))}function d(){return u.length>0&&!u.some(y=>y==="object"||y==="array")}function _(y,$){const v=e.name("item"),p=(0,$n.checkDataTypes)(u,v,l.opts.strictNumbers,$n.DataType.Wrong),w=e.const("indices",(0,ce._)`{}`);e.for((0,ce._)`;${y}--;`,()=>{e.let(v,(0,ce._)`${r}[${y}]`),e.if(p,(0,ce._)`continue`),u.length>1&&e.if((0,ce._)`typeof ${v} == "string"`,(0,ce._)`${v} += "_"`),e.if((0,ce._)`typeof ${w}[${v}] == "number"`,()=>{e.assign($,(0,ce._)`${w}[${v}]`),t.error(),e.assign(c,!1).break()}).code((0,ce._)`${w}[${v}] = ${y}`)})}function m(y,$){const v=(0,Pf.useFunc)(e,Nf.default),p=e.name("outer");e.label(p).for((0,ce._)`;${y}--;`,()=>e.for((0,ce._)`${$} = ${y}; ${$}--;`,()=>e.if((0,ce._)`${v}(${r}[${y}], ${r}[${$}])`,()=>{t.error(),e.assign(c,!1).break(p)})))}}};gs.default=Of;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Mn=U,If=T,Tf=Wt,jf={message:"must be equal to constant",params:({schemaCode:t})=>(0,Mn._)`{allowedValue: ${t}}`},Af={keyword:"const",$data:!0,error:jf,code(t){const{gen:e,data:r,$data:n,schemaCode:s,schema:a}=t;n||a&&typeof a=="object"?t.fail$data((0,Mn._)`!${(0,If.useFunc)(e,Tf.default)}(${r}, ${s})`):t.fail((0,Mn._)`${a} !== ${r}`)}};vs.default=Af;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const zt=U,kf=T,Cf=Wt,Df={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,zt._)`{allowedValues: ${t}}`},Lf={keyword:"enum",schemaType:"array",$data:!0,error:Df,code(t){const{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:o}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const l=s.length>=o.opts.loopEnum;let c;const u=()=>c??(c=(0,kf.useFunc)(e,Cf.default));let i;if(l||n)i=e.let("valid"),t.block$data(i,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const m=e.const("vSchema",a);i=(0,zt.or)(...s.map((y,$)=>_(m,$)))}t.pass(i);function d(){e.assign(i,!1),e.forOf("v",a,m=>e.if((0,zt._)`${u()}(${r}, ${m})`,()=>e.assign(i,!0).break()))}function _(m,y){const $=s[y];return typeof $=="object"&&$!==null?(0,zt._)`${u()}(${r}, ${m}[${y}])`:(0,zt._)`${r} === ${$}`}}};_s.default=Lf;Object.defineProperty(Cr,"__esModule",{value:!0});const Mf=ls,Vf=fs,Ff=ds,zf=ms,Uf=ps,qf=ys,Gf=$s,Kf=gs,Hf=vs,Xf=_s,Bf=[Mf.default,Vf.default,Ff.default,zf.default,Uf.default,qf.default,Gf.default,Kf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Hf.default,Xf.default];Cr.default=Bf;var Dr={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.validateAdditionalItems=void 0;const ut=U,Vn=T,Wf={message:({params:{len:t}})=>(0,ut.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ut._)`{limit: ${t}}`},Yf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Wf,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Vn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}mi(t,n)}};function mi(t,e){const{gen:r,schema:n,data:s,keyword:a,it:o}=t;o.items=!0;const l=r.const("len",(0,ut._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,ut._)`${l} <= ${e.length}`);else if(typeof n=="object"&&!(0,Vn.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,ut._)`${l} <= ${e.length}`);r.if((0,ut.not)(u),()=>c(u)),t.ok(u)}function c(u){r.forRange("i",e.length,l,i=>{t.subschema({keyword:a,dataProp:i,dataPropType:Vn.Type.Num},u),o.allErrors||r.if((0,ut.not)(u),()=>r.break())})}}It.validateAdditionalItems=mi;It.default=Yf;var Es={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateTuple=void 0;const Pa=U,vr=T,Jf=X,xf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return pi(t,"additionalItems",e);r.items=!0,!(0,vr.alwaysValidSchema)(r,e)&&t.ok((0,Jf.validateArray)(t))}};function pi(t,e,r=t.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:l}=t;i(s),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=vr.mergeEvaluated.items(n,r.length,l.items));const c=n.name("valid"),u=n.const("len",(0,Pa._)`${a}.length`);r.forEach((d,_)=>{(0,vr.alwaysValidSchema)(l,d)||(n.if((0,Pa._)`${u} > ${_}`,()=>t.subschema({keyword:o,schemaProp:_,dataProp:_},c)),t.ok(c))});function i(d){const{opts:_,errSchemaPath:m}=l,y=r.length,$=y===d.minItems&&(y===d.maxItems||d[e]===!1);if(_.strictTuples&&!$){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${m}"`;(0,vr.checkStrictMode)(l,v,_.strictTuples)}}}Tt.validateTuple=pi;Tt.default=xf;Object.defineProperty(Es,"__esModule",{value:!0});const Zf=Tt,Qf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Zf.validateTuple)(t,"items")};Es.default=Qf;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Na=U,ed=T,td=X,rd=It,nd={message:({params:{len:t}})=>(0,Na.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Na._)`{limit: ${t}}`},sd={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:nd,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,ed.alwaysValidSchema)(n,e)&&(s?(0,rd.validateAdditionalItems)(t,s):t.ok((0,td.validateArray)(t)))}};ws.default=sd;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Pe=U,nr=T,ad={message:({params:{min:t,max:e}})=>e===void 0?(0,Pe.str)`must contain at least ${t} valid item(s)`:(0,Pe.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Pe._)`{minContains: ${t}}`:(0,Pe._)`{minContains: ${t}, maxContains: ${e}}`},od={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ad,code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;let o,l;const{minContains:c,maxContains:u}=n;a.opts.next?(o=c===void 0?1:c,l=u):o=1;const i=e.const("len",(0,Pe._)`${s}.length`);if(t.setParams({min:o,max:l}),l===void 0&&o===0){(0,nr.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&o>l){(0,nr.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,nr.alwaysValidSchema)(a,r)){let $=(0,Pe._)`${i} >= ${o}`;l!==void 0&&($=(0,Pe._)`${$} && ${i} <= ${l}`),t.pass($);return}a.items=!0;const d=e.name("valid");l===void 0&&o===1?m(d,()=>e.if(d,()=>e.break())):o===0?(e.let(d,!0),l!==void 0&&e.if((0,Pe._)`${s}.length > 0`,_)):(e.let(d,!1),_()),t.result(d,()=>t.reset());function _(){const $=e.name("_valid"),v=e.let("count",0);m($,()=>e.if($,()=>y(v)))}function m($,v){e.forRange("i",0,i,p=>{t.subschema({keyword:"contains",dataProp:p,dataPropType:nr.Type.Num,compositeRule:!0},$),v()})}function y($){e.code((0,Pe._)`${$}++`),l===void 0?e.if((0,Pe._)`${$} >= ${o}`,()=>e.assign(d,!0).break()):(e.if((0,Pe._)`${$} > ${l}`,()=>e.assign(d,!1).break()),o===1?e.assign(d,!0):e.if((0,Pe._)`${$} >= ${o}`,()=>e.assign(d,!0)))}}};bs.default=od;var Lr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=U,r=T,n=X;t.error={message:({params:{property:c,depsCount:u,deps:i}})=>{const d=u===1?"property":"properties";return(0,e.str)`must have ${d} ${i} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:i,missingProperty:d}})=>(0,e._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${i}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[u,i]=a(c);o(c,u),l(c,i)}};function a({schema:c}){const u={},i={};for(const d in c){if(d==="__proto__")continue;const _=Array.isArray(c[d])?u:i;_[d]=c[d]}return[u,i]}function o(c,u=c.schema){const{gen:i,data:d,it:_}=c;if(Object.keys(u).length===0)return;const m=i.let("missing");for(const y in u){const $=u[y];if($.length===0)continue;const v=(0,n.propertyInData)(i,d,y,_.opts.ownProperties);c.setParams({property:y,depsCount:$.length,deps:$.join(", ")}),_.allErrors?i.if(v,()=>{for(const p of $)(0,n.checkReportMissingProp)(c,p)}):(i.if((0,e._)`${v} && (${(0,n.checkMissingProp)(c,$,m)})`),(0,n.reportMissingProp)(c,m),i.else())}}t.validatePropertyDeps=o;function l(c,u=c.schema){const{gen:i,data:d,keyword:_,it:m}=c,y=i.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(m,u[$])||(i.if((0,n.propertyInData)(i,d,$,m.opts.ownProperties),()=>{const v=c.subschema({keyword:_,schemaProp:$},y);c.mergeValidEvaluated(v,y)},()=>i.var(y,!0)),c.ok(y))}t.validateSchemaDeps=l,t.default=s})(Lr);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const yi=U,id=T,cd={message:"property name must be valid",params:({params:t})=>(0,yi._)`{propertyName: ${t.propertyName}}`},ud={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:cd,code(t){const{gen:e,schema:r,data:n,it:s}=t;if((0,id.alwaysValidSchema)(s,r))return;const a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if((0,yi.not)(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};Ss.default=ud;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const sr=X,Ie=U,ld=we,ar=T,fd={message:"must NOT have additional properties",params:({params:t})=>(0,Ie._)`{additionalProperty: ${t.additionalProperty}}`},dd={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:fd,code(t){const{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:l,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,ar.alwaysValidSchema)(o,r))return;const u=(0,sr.allSchemaProperties)(n.properties),i=(0,sr.allSchemaProperties)(n.patternProperties);d(),t.ok((0,Ie._)`${a} === ${ld.default.errors}`);function d(){e.forIn("key",s,v=>{!u.length&&!i.length?y(v):e.if(_(v),()=>y(v))})}function _(v){let p;if(u.length>8){const w=(0,ar.schemaRefOrVal)(o,n.properties,"properties");p=(0,sr.isOwnProperty)(e,w,v)}else u.length?p=(0,Ie.or)(...u.map(w=>(0,Ie._)`${v} === ${w}`)):p=Ie.nil;return i.length&&(p=(0,Ie.or)(p,...i.map(w=>(0,Ie._)`${(0,sr.usePattern)(t,w)}.test(${v})`))),(0,Ie.not)(p)}function m(v){e.code((0,Ie._)`delete ${s}[${v}]`)}function y(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){m(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),l||e.break();return}if(typeof r=="object"&&!(0,ar.alwaysValidSchema)(o,r)){const p=e.name("valid");c.removeAdditional==="failing"?($(v,p,!1),e.if((0,Ie.not)(p),()=>{t.reset(),m(v)})):($(v,p),l||e.if((0,Ie.not)(p),()=>e.break()))}}function $(v,p,w){const N={keyword:"additionalProperties",dataProp:v,dataPropType:ar.Type.Str};w===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(N,p)}}};Mr.default=dd;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const hd=Ne,Ra=X,gn=T,Oa=Mr,md={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Oa.default.code(new hd.KeywordCxt(a,Oa.default,"additionalProperties"));const o=(0,Ra.allSchemaProperties)(r);for(const d of o)a.definedProperties.add(d);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=gn.mergeEvaluated.props(e,(0,gn.toHash)(o),a.props));const l=o.filter(d=>!(0,gn.alwaysValidSchema)(a,r[d]));if(l.length===0)return;const c=e.name("valid");for(const d of l)u(d)?i(d):(e.if((0,Ra.propertyInData)(e,s,d,a.opts.ownProperties)),i(d),a.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(c);function u(d){return a.opts.useDefaults&&!a.compositeRule&&r[d].default!==void 0}function i(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};Ps.default=md;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Ia=X,or=U,Ta=T,ja=T,pd={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:o}=a,l=(0,Ia.allSchemaProperties)(r),c=l.filter($=>(0,Ta.alwaysValidSchema)(a,r[$]));if(l.length===0||c.length===l.length&&(!a.opts.unevaluated||a.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&s.properties,i=e.name("valid");a.props!==!0&&!(a.props instanceof or.Name)&&(a.props=(0,ja.evaluatedPropsToName)(e,a.props));const{props:d}=a;_();function _(){for(const $ of l)u&&m($),a.allErrors?y($):(e.var(i,!0),y($),e.if(i))}function m($){for(const v in u)new RegExp($).test(v)&&(0,Ta.checkStrictMode)(a,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function y($){e.forIn("key",n,v=>{e.if((0,or._)`${(0,Ia.usePattern)(t,$)}.test(${v})`,()=>{const p=c.includes($);p||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:ja.Type.Str},i),a.opts.unevaluated&&d!==!0?e.assign((0,or._)`${d}[${v}]`,!0):!p&&!a.allErrors&&e.if((0,or.not)(i),()=>e.break())})})}}};Ns.default=pd;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const yd=T,$d={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,yd.alwaysValidSchema)(n,r)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Rs.default=$d;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const gd=X,vd={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:gd.validateUnion,error:{message:"must match a schema in anyOf"}};Os.default=vd;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const _r=U,_d=T,Ed={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,_r._)`{passingSchemas: ${t.passing}}`},wd={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ed,code(t){const{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=e.let("valid",!1),l=e.let("passing",null),c=e.name("_valid");t.setParams({passing:l}),e.block(u),t.result(o,()=>t.reset(),()=>t.error(!0));function u(){a.forEach((i,d)=>{let _;(0,_d.alwaysValidSchema)(s,i)?e.var(c,!0):_=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&e.if((0,_r._)`${c} && ${o}`).assign(o,!1).assign(l,(0,_r._)`[${l}, ${d}]`).else(),e.if(c,()=>{e.assign(o,!0),e.assign(l,d),_&&t.mergeEvaluated(_,_r.Name)})})}}};Is.default=wd;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const bd=T,Sd={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=e.name("valid");r.forEach((a,o)=>{if((0,bd.alwaysValidSchema)(n,a))return;const l=t.subschema({keyword:"allOf",schemaProp:o},s);t.ok(s),t.mergeEvaluated(l)})}};Ts.default=Sd;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Rr=U,$i=T,Pd={message:({params:t})=>(0,Rr.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Rr._)`{failingKeyword: ${t.ifClause}}`},Nd={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Pd,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,$i.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Aa(n,"then"),a=Aa(n,"else");if(!s&&!a)return;const o=e.let("valid",!0),l=e.name("_valid");if(c(),t.reset(),s&&a){const i=e.let("ifClause");t.setParams({ifClause:i}),e.if(l,u("then",i),u("else",i))}else s?e.if(l,u("then")):e.if((0,Rr.not)(l),u("else"));t.pass(o,()=>t.error(!0));function c(){const i=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);t.mergeEvaluated(i)}function u(i,d){return()=>{const _=t.subschema({keyword:i},l);e.assign(o,l),t.mergeValidEvaluated(_,o),d?e.assign(d,(0,Rr._)`${i}`):t.setParams({ifClause:i})}}}};function Aa(t,e){const r=t.schema[e];return r!==void 0&&!(0,$i.alwaysValidSchema)(t,r)}js.default=Nd;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Rd=T,Od={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Rd.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};As.default=Od;Object.defineProperty(Dr,"__esModule",{value:!0});const Id=It,Td=Es,jd=Tt,Ad=ws,kd=bs,Cd=Lr,Dd=Ss,Ld=Mr,Md=Ps,Vd=Ns,Fd=Rs,zd=Os,Ud=Is,qd=Ts,Gd=js,Kd=As;function Hd(t=!1){const e=[Fd.default,zd.default,Ud.default,qd.default,Gd.default,Kd.default,Dd.default,Ld.default,Cd.default,Md.default,Vd.default];return t?e.push(Td.default,Ad.default):e.push(Id.default,jd.default),e.push(kd.default),e}Dr.default=Hd;var ks={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.dynamicAnchor=void 0;const vn=U,Xd=we,ka=pe,Bd=He,Wd={keyword:"$dynamicAnchor",schemaType:"string",code:t=>gi(t,t.schema)};function gi(t,e){const{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;const s=(0,vn._)`${Xd.default.dynamicAnchors}${(0,vn.getProperty)(e)}`,a=n.errSchemaPath==="#"?n.validateName:Yd(t);r.if((0,vn._)`!${s}`,()=>r.assign(s,a))}jt.dynamicAnchor=gi;function Yd(t){const{schemaEnv:e,schema:r,self:n}=t.it,{root:s,baseId:a,localRefs:o,meta:l}=e.root,{schemaId:c}=n.opts,u=new ka.SchemaEnv({schema:r,schemaId:c,root:s,baseId:a,localRefs:o,meta:l});return ka.compileSchema.call(n,u),(0,Bd.getValidate)(t,u)}jt.default=Wd;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.dynamicRef=void 0;const Ca=U,Jd=we,Da=He,xd={keyword:"$dynamicRef",schemaType:"string",code:t=>vi(t,t.schema)};function vi(t,e){const{gen:r,keyword:n,it:s}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const a=e.slice(1);if(s.allErrors)o();else{const c=r.let("valid",!1);o(c),t.ok(c)}function o(c){if(s.schemaEnv.root.dynamicAnchors[a]){const u=r.let("_v",(0,Ca._)`${Jd.default.dynamicAnchors}${(0,Ca.getProperty)(a)}`);r.if(u,l(u,c),l(s.validateName,c))}else l(s.validateName,c)()}function l(c,u){return u?()=>r.block(()=>{(0,Da.callRef)(t,c),r.let(u,!0)}):()=>(0,Da.callRef)(t,c)}}At.dynamicRef=vi;At.default=xd;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Zd=jt,Qd=T,eh={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,Zd.dynamicAnchor)(t,""):(0,Qd.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};Cs.default=eh;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const th=At,rh={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,th.dynamicRef)(t,t.schema)};Ds.default=rh;Object.defineProperty(ks,"__esModule",{value:!0});const nh=jt,sh=At,ah=Cs,oh=Ds,ih=[nh.default,sh.default,ah.default,oh.default];ks.default=ih;var Ls={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const La=Lr,ch={keyword:"dependentRequired",type:"object",schemaType:"object",error:La.error,code:t=>(0,La.validatePropertyDeps)(t)};Ms.default=ch;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const uh=Lr,lh={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,uh.validateSchemaDeps)(t)};Vs.default=lh;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const fh=T,dh={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,fh.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};Fs.default=dh;Object.defineProperty(Ls,"__esModule",{value:!0});const hh=Ms,mh=Vs,ph=Fs,yh=[hh.default,mh.default,ph.default];Ls.default=yh;var zs={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});const Ze=U,Ma=T,$h=we,gh={message:"must NOT have unevaluated properties",params:({params:t})=>(0,Ze._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},vh={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:gh,code(t){const{gen:e,schema:r,data:n,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,props:l}=a;l instanceof Ze.Name?e.if((0,Ze._)`${l} !== true`,()=>e.forIn("key",n,d=>e.if(u(l,d),()=>c(d)))):l!==!0&&e.forIn("key",n,d=>l===void 0?c(d):e.if(i(l,d),()=>c(d))),a.props=!0,t.ok((0,Ze._)`${s} === ${$h.default.errors}`);function c(d){if(r===!1){t.setParams({unevaluatedProperty:d}),t.error(),o||e.break();return}if(!(0,Ma.alwaysValidSchema)(a,r)){const _=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:d,dataPropType:Ma.Type.Str},_),o||e.if((0,Ze.not)(_),()=>e.break())}}function u(d,_){return(0,Ze._)`!${d} || !${d}[${_}]`}function i(d,_){const m=[];for(const y in d)d[y]===!0&&m.push((0,Ze._)`${_} !== ${y}`);return(0,Ze.and)(...m)}}};Us.default=vh;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const lt=U,Va=T,_h={message:({params:{len:t}})=>(0,lt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,lt._)`{limit: ${t}}`},Eh={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:_h,code(t){const{gen:e,schema:r,data:n,it:s}=t,a=s.items||0;if(a===!0)return;const o=e.const("len",(0,lt._)`${n}.length`);if(r===!1)t.setParams({len:a}),t.fail((0,lt._)`${o} > ${a}`);else if(typeof r=="object"&&!(0,Va.alwaysValidSchema)(s,r)){const c=e.var("valid",(0,lt._)`${o} <= ${a}`);e.if((0,lt.not)(c),()=>l(c,a)),t.ok(c)}s.items=!0;function l(c,u){e.forRange("i",u,o,i=>{t.subschema({keyword:"unevaluatedItems",dataProp:i,dataPropType:Va.Type.Num},c),s.allErrors||e.if((0,lt.not)(c),()=>e.break())})}}};qs.default=Eh;Object.defineProperty(zs,"__esModule",{value:!0});const wh=Us,bh=qs,Sh=[wh.default,bh.default];zs.default=Sh;var Vr={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});const re=U,Ph={message:({schemaCode:t})=>(0,re.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,re._)`{format: ${t}}`},Nh={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ph,code(t,e){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:l}=t,{opts:c,errSchemaPath:u,schemaEnv:i,self:d}=l;if(!c.validateFormats)return;s?_():m();function _(){const y=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),$=r.const("fDef",(0,re._)`${y}[${o}]`),v=r.let("fType"),p=r.let("format");r.if((0,re._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(v,(0,re._)`${$}.type || "string"`).assign(p,(0,re._)`${$}.validate`),()=>r.assign(v,(0,re._)`"string"`).assign(p,$)),t.fail$data((0,re.or)(w(),N()));function w(){return c.strictSchema===!1?re.nil:(0,re._)`${o} && !${p}`}function N(){const I=i.$async?(0,re._)`(${$}.async ? await ${p}(${n}) : ${p}(${n}))`:(0,re._)`${p}(${n})`,j=(0,re._)`(typeof ${p} == "function" ? ${I} : ${p}.test(${n}))`;return(0,re._)`${p} && ${p} !== true && ${v} === ${e} && !${j}`}}function m(){const y=d.formats[a];if(!y){w();return}if(y===!0)return;const[$,v,p]=N(y);$===e&&t.pass(I());function w(){if(c.strictSchema===!1){d.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${a}" ignored in schema at path "${u}"`}}function N(j){const Y=j instanceof RegExp?(0,re.regexpCode)(j):c.code.formats?(0,re._)`${c.code.formats}${(0,re.getProperty)(a)}`:void 0,te=r.scopeValue("formats",{key:a,ref:j,code:Y});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,re._)`${te}.validate`]:["string",j,te]}function I(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!i.$async)throw new Error("async format in sync schema");return(0,re._)`await ${p}(${n})`}return typeof v=="function"?(0,re._)`${p}(${n})`:(0,re._)`${p}.test(${n})`}}}};Gs.default=Nh;Object.defineProperty(Vr,"__esModule",{value:!0});const Rh=Gs,Oh=[Rh.default];Vr.default=Oh;var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.contentVocabulary=pt.metadataVocabulary=void 0;pt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];pt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(cs,"__esModule",{value:!0});const Ih=kr,Th=Cr,jh=Dr,Ah=ks,kh=Ls,Ch=zs,Dh=Vr,Fa=pt,Lh=[Ah.default,Ih.default,Th.default,(0,jh.default)(!0),Dh.default,Fa.metadataVocabulary,Fa.contentVocabulary,kh.default,Ch.default];cs.default=Lh;var Fr={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.DiscrError=void 0;var za;(function(t){t.Tag="tag",t.Mapping="mapping"})(za||(zr.DiscrError=za={}));Object.defineProperty(Fr,"__esModule",{value:!0});const Et=U,Fn=zr,Ua=pe,Mh=yt,Vh=T,Fh={message:({params:{discrError:t,tagName:e}})=>t===Fn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Et._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},zh={keyword:"discriminator",type:"object",schemaType:"object",error:Fh,code(t){const{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=e.let("valid",!1),u=e.const("tag",(0,Et._)`${r}${(0,Et.getProperty)(l)}`);e.if((0,Et._)`typeof ${u} == "string"`,()=>i(),()=>t.error(!1,{discrError:Fn.DiscrError.Tag,tag:u,tagName:l})),t.ok(c);function i(){const m=_();e.if(!1);for(const y in m)e.elseIf((0,Et._)`${u} === ${y}`),e.assign(c,d(m[y]));e.else(),t.error(!1,{discrError:Fn.DiscrError.Mapping,tag:u,tagName:l}),e.endIf()}function d(m){const y=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:m},y);return t.mergeEvaluated($,Et.Name),y}function _(){var m;const y={},$=p(s);let v=!0;for(let I=0;I<o.length;I++){let j=o[I];if(j!=null&&j.$ref&&!(0,Vh.schemaHasRulesButRef)(j,a.self.RULES)){const te=j.$ref;if(j=Ua.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,te),j instanceof Ua.SchemaEnv&&(j=j.schema),j===void 0)throw new Mh.default(a.opts.uriResolver,a.baseId,te)}const Y=(m=j==null?void 0:j.properties)===null||m===void 0?void 0:m[l];if(typeof Y!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);v=v&&($||p(j)),w(Y,I)}if(!v)throw new Error(`discriminator: "${l}" must be required`);return y;function p({required:I}){return Array.isArray(I)&&I.includes(l)}function w(I,j){if(I.const)N(I.const,j);else if(I.enum)for(const Y of I.enum)N(Y,j);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function N(I,j){if(typeof I!="string"||I in y)throw new Error(`discriminator: "${l}" values must be unique strings`);y[I]=j}}}};Fr.default=zh;var Ks={};const Uh="https://json-schema.org/draft/2020-12/schema",qh="https://json-schema.org/draft/2020-12/schema",Gh={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},Kh="meta",Hh="Core and Validation specifications meta-schema",Xh=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],Bh=["object","boolean"],Wh="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",Yh={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},Jh={$schema:Uh,$id:qh,$vocabulary:Gh,$dynamicAnchor:Kh,title:Hh,allOf:Xh,type:Bh,$comment:Wh,properties:Yh},xh="https://json-schema.org/draft/2020-12/schema",Zh="https://json-schema.org/draft/2020-12/meta/applicator",Qh={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},em="meta",tm="Applicator vocabulary meta-schema",rm=["object","boolean"],nm={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},sm={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},am={$schema:xh,$id:Zh,$vocabulary:Qh,$dynamicAnchor:em,title:tm,type:rm,properties:nm,$defs:sm},om="https://json-schema.org/draft/2020-12/schema",im="https://json-schema.org/draft/2020-12/meta/unevaluated",cm={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},um="meta",lm="Unevaluated applicator vocabulary meta-schema",fm=["object","boolean"],dm={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},hm={$schema:om,$id:im,$vocabulary:cm,$dynamicAnchor:um,title:lm,type:fm,properties:dm},mm="https://json-schema.org/draft/2020-12/schema",pm="https://json-schema.org/draft/2020-12/meta/content",ym={"https://json-schema.org/draft/2020-12/vocab/content":!0},$m="meta",gm="Content vocabulary meta-schema",vm=["object","boolean"],_m={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},Em={$schema:mm,$id:pm,$vocabulary:ym,$dynamicAnchor:$m,title:gm,type:vm,properties:_m},wm="https://json-schema.org/draft/2020-12/schema",bm="https://json-schema.org/draft/2020-12/meta/core",Sm={"https://json-schema.org/draft/2020-12/vocab/core":!0},Pm="meta",Nm="Core vocabulary meta-schema",Rm=["object","boolean"],Om={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Im={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},Tm={$schema:wm,$id:bm,$vocabulary:Sm,$dynamicAnchor:Pm,title:Nm,type:Rm,properties:Om,$defs:Im},jm="https://json-schema.org/draft/2020-12/schema",Am="https://json-schema.org/draft/2020-12/meta/format-annotation",km={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},Cm="meta",Dm="Format vocabulary meta-schema for annotation results",Lm=["object","boolean"],Mm={format:{type:"string"}},Vm={$schema:jm,$id:Am,$vocabulary:km,$dynamicAnchor:Cm,title:Dm,type:Lm,properties:Mm},Fm="https://json-schema.org/draft/2020-12/schema",zm="https://json-schema.org/draft/2020-12/meta/meta-data",Um={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},qm="meta",Gm="Meta-data vocabulary meta-schema",Km=["object","boolean"],Hm={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},Xm={$schema:Fm,$id:zm,$vocabulary:Um,$dynamicAnchor:qm,title:Gm,type:Km,properties:Hm},Bm="https://json-schema.org/draft/2020-12/schema",Wm="https://json-schema.org/draft/2020-12/meta/validation",Ym={"https://json-schema.org/draft/2020-12/vocab/validation":!0},Jm="meta",xm="Validation vocabulary meta-schema",Zm=["object","boolean"],Qm={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},ep={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},tp={$schema:Bm,$id:Wm,$vocabulary:Ym,$dynamicAnchor:Jm,title:xm,type:Zm,properties:Qm,$defs:ep};Object.defineProperty(Ks,"__esModule",{value:!0});const rp=Jh,np=am,sp=hm,ap=Em,op=Tm,ip=Vm,cp=Xm,up=tp,lp=["/properties"];function fp(t){return[rp,np,sp,ap,op,e(this,ip),cp,e(this,up)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,lp):n}}Ks.default=fp;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const r=Wn,n=cs,s=Fr,a=Ks,o="https://json-schema.org/draft/2020-12/schema";class l extends r.default{constructor(m={}){super({...m,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:m,meta:y}=this.opts;y&&(a.default.call(this,m),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv2020=l,t.exports=e=l,t.exports.Ajv2020=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Ne;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=U;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var i=Ot;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return i.default}});var d=yt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(An,An.exports);var dp=An.exports,zn={exports:{}},_i={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(F,K){return{validate:F,compare:K}}t.fullFormats={date:e(a,o),time:e(c(!0),u),"date-time":e(_(!0),m),"iso-time":e(c(),i),"iso-date-time":e(_(),y),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:p,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Re,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:N,int32:{type:"number",validate:Y},int64:{type:"number",validate:te},float:{type:"number",validate:$e},double:{type:"number",validate:$e},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,i),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(F){return F%4===0&&(F%100!==0||F%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(F){const K=n.exec(F);if(!K)return!1;const Z=+K[1],R=+K[2],O=+K[3];return R>=1&&R<=12&&O>=1&&O<=(R===2&&r(Z)?29:s[R])}function o(F,K){if(F&&K)return F>K?1:F<K?-1:0}const l=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(F){return function(Z){const R=l.exec(Z);if(!R)return!1;const O=+R[1],C=+R[2],A=+R[3],V=R[4],k=R[5]==="-"?-1:1,P=+(R[6]||0),g=+(R[7]||0);if(P>23||g>59||F&&!V)return!1;if(O<=23&&C<=59&&A<60)return!0;const b=C-g*k,E=O-P*k-(b<0?1:0);return(E===23||E===-1)&&(b===59||b===-1)&&A<61}}function u(F,K){if(!(F&&K))return;const Z=new Date("2020-01-01T"+F).valueOf(),R=new Date("2020-01-01T"+K).valueOf();if(Z&&R)return Z-R}function i(F,K){if(!(F&&K))return;const Z=l.exec(F),R=l.exec(K);if(Z&&R)return F=Z[1]+Z[2]+Z[3],K=R[1]+R[2]+R[3],F>K?1:F<K?-1:0}const d=/t|\s/i;function _(F){const K=c(F);return function(R){const O=R.split(d);return O.length===2&&a(O[0])&&K(O[1])}}function m(F,K){if(!(F&&K))return;const Z=new Date(F).valueOf(),R=new Date(K).valueOf();if(Z&&R)return Z-R}function y(F,K){if(!(F&&K))return;const[Z,R]=F.split(d),[O,C]=K.split(d),A=o(Z,O);if(A!==void 0)return A||u(R,C)}const $=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function p(F){return $.test(F)&&v.test(F)}const w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function N(F){return w.lastIndex=0,w.test(F)}const I=-2147483648,j=2**31-1;function Y(F){return Number.isInteger(F)&&F<=j&&F>=I}function te(F){return Number.isInteger(F)}function $e(){return!0}const be=/[^\\]\\Z/;function Re(F){if(be.test(F))return!1;try{return new RegExp(F),!0}catch{return!1}}})(_i);var Ei={},Un={exports:{}},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const hp=kr,mp=Cr,pp=Dr,yp=Vr,qa=pt,$p=[hp.default,mp.default,(0,pp.default)(),yp.default,qa.metadataVocabulary,qa.contentVocabulary];Hs.default=$p;const gp="http://json-schema.org/draft-07/schema#",vp="http://json-schema.org/draft-07/schema#",_p="Core schema meta-schema",Ep={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},wp=["object","boolean"],bp={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Sp={$schema:gp,$id:vp,title:_p,definitions:Ep,type:wp,properties:bp,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=Wn,n=Hs,s=Fr,a=Sp,o=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(y,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=Ne;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var i=U;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});var d=Ot;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var _=yt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Un,Un.exports);var Pp=Un.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Pp,r=U,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:l,schemaCode:c})=>(0,r.str)`should be ${s[l].okStr} ${c}`,params:({keyword:l,schemaCode:c})=>(0,r._)`{comparison: ${s[l].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(l){const{gen:c,data:u,schemaCode:i,keyword:d,it:_}=l,{opts:m,self:y}=_;if(!m.validateFormats)return;const $=new e.KeywordCxt(_,y.RULES.all.format.definition,"format");$.$data?v():p();function v(){const N=c.scopeValue("formats",{ref:y.formats,code:m.code.formats}),I=c.const("fmt",(0,r._)`${N}[${$.schemaCode}]`);l.fail$data((0,r.or)((0,r._)`typeof ${I} != "object"`,(0,r._)`${I} instanceof RegExp`,(0,r._)`typeof ${I}.compare != "function"`,w(I)))}function p(){const N=$.schema,I=y.formats[N];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${d}": format "${N}" does not define "compare" function`);const j=c.scopeValue("formats",{key:N,ref:I,code:m.code.formats?(0,r._)`${m.code.formats}${(0,r.getProperty)(N)}`:void 0});l.fail$data(w(j))}function w(N){return(0,r._)`${N}.compare(${u}, ${i}) ${s[d].fail} 0`}},dependencies:["format"]};const o=l=>(l.addKeyword(t.formatLimitDefinition),l);t.default=o})(Ei);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=_i,n=Ei,s=U,a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),l=(u,i={keywords:!0})=>{if(Array.isArray(i))return c(u,i,r.fullFormats,a),u;const[d,_]=i.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],m=i.formats||r.formatNames;return c(u,m,d,_),i.keywords&&(0,n.default)(u),u};l.get=(u,i="full")=>{const _=(i==="fast"?r.fastFormats:r.fullFormats)[u];if(!_)throw new Error(`Unknown format "${u}"`);return _};function c(u,i,d,_){var m,y;(m=(y=u.opts.code).formats)!==null&&m!==void 0||(y.formats=(0,s._)`require("ajv-formats/dist/formats").${_}`);for(const $ of i)u.addFormat($,d[$])}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l})(zn,zn.exports);var Np=zn.exports;const Rp=Hn(Np),Op=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(t,r),a=Object.getOwnPropertyDescriptor(e,r);!Ip(s,a)&&n||Object.defineProperty(t,r,a)},Ip=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Tp=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},jp=(t,e)=>`/* Wrapped ${t}*/
${e}`,Ap=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),kp=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Cp=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=jp.bind(null,n,e.toString());Object.defineProperty(s,"name",kp);const{writable:a,enumerable:o,configurable:l}=Ap;Object.defineProperty(t,"toString",{value:s,writable:a,enumerable:o,configurable:l})};function Dp(t,e,{ignoreNonConfigurable:r=!1}={}){const{name:n}=t;for(const s of Reflect.ownKeys(e))Op(t,e,s,r);return Tp(t,e),Cp(t,e,n),t}const Ga=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:a=!0}=e;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,l,c;const u=function(...i){const d=this,_=()=>{o=void 0,l&&(clearTimeout(l),l=void 0),a&&(c=t.apply(d,i))},m=()=>{l=void 0,o&&(clearTimeout(o),o=void 0),a&&(c=t.apply(d,i))},y=s&&!o;return clearTimeout(o),o=setTimeout(_,r),n>0&&n!==Number.POSITIVE_INFINITY&&!l&&(l=setTimeout(m,n)),y&&(c=t.apply(d,i)),c};return Dp(u,t),u.cancel=()=>{o&&(clearTimeout(o),o=void 0),l&&(clearTimeout(l),l=void 0)},u};var qn={exports:{}};const Lp="2.0.0",wi=256,Mp=Number.MAX_SAFE_INTEGER||9007199254740991,Vp=16,Fp=wi-6,zp=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ur={MAX_LENGTH:wi,MAX_SAFE_COMPONENT_LENGTH:Vp,MAX_SAFE_BUILD_LENGTH:Fp,MAX_SAFE_INTEGER:Mp,RELEASE_TYPES:zp,SEMVER_SPEC_VERSION:Lp,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Up=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var qr=Up;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Ur,a=qr;e=t.exports={};const o=e.re=[],l=e.safeRe=[],c=e.src=[],u=e.safeSrc=[],i=e.t={};let d=0;const _="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",s],[_,n]],y=v=>{for(const[p,w]of m)v=v.split(`${p}*`).join(`${p}{0,${w}}`).split(`${p}+`).join(`${p}{1,${w}}`);return v},$=(v,p,w)=>{const N=y(p),I=d++;a(v,I,p),i[v]=I,c[I]=p,u[I]=N,o[I]=new RegExp(p,w?"g":void 0),l[I]=new RegExp(N,w?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*"),$("NUMERICIDENTIFIERLOOSE","\\d+"),$("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),$("MAINVERSION",`(${c[i.NUMERICIDENTIFIER]})\\.(${c[i.NUMERICIDENTIFIER]})\\.(${c[i.NUMERICIDENTIFIER]})`),$("MAINVERSIONLOOSE",`(${c[i.NUMERICIDENTIFIERLOOSE]})\\.(${c[i.NUMERICIDENTIFIERLOOSE]})\\.(${c[i.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASEIDENTIFIER",`(?:${c[i.NONNUMERICIDENTIFIER]}|${c[i.NUMERICIDENTIFIER]})`),$("PRERELEASEIDENTIFIERLOOSE",`(?:${c[i.NONNUMERICIDENTIFIER]}|${c[i.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASE",`(?:-(${c[i.PRERELEASEIDENTIFIER]}(?:\\.${c[i.PRERELEASEIDENTIFIER]})*))`),$("PRERELEASELOOSE",`(?:-?(${c[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[i.PRERELEASEIDENTIFIERLOOSE]})*))`),$("BUILDIDENTIFIER",`${_}+`),$("BUILD",`(?:\\+(${c[i.BUILDIDENTIFIER]}(?:\\.${c[i.BUILDIDENTIFIER]})*))`),$("FULLPLAIN",`v?${c[i.MAINVERSION]}${c[i.PRERELEASE]}?${c[i.BUILD]}?`),$("FULL",`^${c[i.FULLPLAIN]}$`),$("LOOSEPLAIN",`[v=\\s]*${c[i.MAINVERSIONLOOSE]}${c[i.PRERELEASELOOSE]}?${c[i.BUILD]}?`),$("LOOSE",`^${c[i.LOOSEPLAIN]}$`),$("GTLT","((?:<|>)?=?)"),$("XRANGEIDENTIFIERLOOSE",`${c[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),$("XRANGEIDENTIFIER",`${c[i.NUMERICIDENTIFIER]}|x|X|\\*`),$("XRANGEPLAIN",`[v=\\s]*(${c[i.XRANGEIDENTIFIER]})(?:\\.(${c[i.XRANGEIDENTIFIER]})(?:\\.(${c[i.XRANGEIDENTIFIER]})(?:${c[i.PRERELEASE]})?${c[i.BUILD]}?)?)?`),$("XRANGEPLAINLOOSE",`[v=\\s]*(${c[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[i.XRANGEIDENTIFIERLOOSE]})(?:${c[i.PRERELEASELOOSE]})?${c[i.BUILD]}?)?)?`),$("XRANGE",`^${c[i.GTLT]}\\s*${c[i.XRANGEPLAIN]}$`),$("XRANGELOOSE",`^${c[i.GTLT]}\\s*${c[i.XRANGEPLAINLOOSE]}$`),$("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),$("COERCE",`${c[i.COERCEPLAIN]}(?:$|[^\\d])`),$("COERCEFULL",c[i.COERCEPLAIN]+`(?:${c[i.PRERELEASE]})?(?:${c[i.BUILD]})?(?:$|[^\\d])`),$("COERCERTL",c[i.COERCE],!0),$("COERCERTLFULL",c[i.COERCEFULL],!0),$("LONETILDE","(?:~>?)"),$("TILDETRIM",`(\\s*)${c[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",$("TILDE",`^${c[i.LONETILDE]}${c[i.XRANGEPLAIN]}$`),$("TILDELOOSE",`^${c[i.LONETILDE]}${c[i.XRANGEPLAINLOOSE]}$`),$("LONECARET","(?:\\^)"),$("CARETTRIM",`(\\s*)${c[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",$("CARET",`^${c[i.LONECARET]}${c[i.XRANGEPLAIN]}$`),$("CARETLOOSE",`^${c[i.LONECARET]}${c[i.XRANGEPLAINLOOSE]}$`),$("COMPARATORLOOSE",`^${c[i.GTLT]}\\s*(${c[i.LOOSEPLAIN]})$|^$`),$("COMPARATOR",`^${c[i.GTLT]}\\s*(${c[i.FULLPLAIN]})$|^$`),$("COMPARATORTRIM",`(\\s*)${c[i.GTLT]}\\s*(${c[i.LOOSEPLAIN]}|${c[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",$("HYPHENRANGE",`^\\s*(${c[i.XRANGEPLAIN]})\\s+-\\s+(${c[i.XRANGEPLAIN]})\\s*$`),$("HYPHENRANGELOOSE",`^\\s*(${c[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[i.XRANGEPLAINLOOSE]})\\s*$`),$("STAR","(<|>)?=?\\s*\\*"),$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(qn,qn.exports);var Yt=qn.exports;const qp=Object.freeze({loose:!0}),Gp=Object.freeze({}),Kp=t=>t?typeof t!="object"?qp:t:Gp;var Xs=Kp;const Ka=/^[0-9]+$/,bi=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const r=Ka.test(t),n=Ka.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Hp=(t,e)=>bi(e,t);var Si={compareIdentifiers:bi,rcompareIdentifiers:Hp};const ir=qr,{MAX_LENGTH:Ha,MAX_SAFE_INTEGER:cr}=Ur,{safeRe:ur,t:lr}=Yt,Xp=Xs,{compareIdentifiers:_n}=Si;let Bp=class De{constructor(e,r){if(r=Xp(r),e instanceof De){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ha)throw new TypeError(`version is longer than ${Ha} characters`);ir("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?ur[lr.LOOSE]:ur[lr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>cr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<cr)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ir("SemVer.compare",this.version,this.options,e),!(e instanceof De)){if(typeof e=="string"&&e===this.version)return 0;e=new De(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof De||(e=new De(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof De||(e=new De(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(ir("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return _n(n,s)}while(++r)}compareBuild(e){e instanceof De||(e=new De(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(ir("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return _n(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?ur[lr.PRERELEASELOOSE]:ur[lr.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),_n(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ye=Bp;const Xa=ye,Wp=(t,e,r=!1)=>{if(t instanceof Xa)return t;try{return new Xa(t,e)}catch(n){if(!r)return null;throw n}};var kt=Wp;const Yp=kt,Jp=(t,e)=>{const r=Yp(t,e);return r?r.version:null};var xp=Jp;const Zp=kt,Qp=(t,e)=>{const r=Zp(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var ey=Qp;const Ba=ye,ty=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Ba(t instanceof Ba?t.version:t,r).inc(e,n,s).version}catch{return null}};var ry=ty;const Wa=kt,ny=(t,e)=>{const r=Wa(t,null,!0),n=Wa(e,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,o=a?r:n,l=a?n:r,c=!!o.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}const i=c?"pre":"";return r.major!==n.major?i+"major":r.minor!==n.minor?i+"minor":r.patch!==n.patch?i+"patch":"prerelease"};var sy=ny;const ay=ye,oy=(t,e)=>new ay(t,e).major;var iy=oy;const cy=ye,uy=(t,e)=>new cy(t,e).minor;var ly=uy;const fy=ye,dy=(t,e)=>new fy(t,e).patch;var hy=dy;const my=kt,py=(t,e)=>{const r=my(t,e);return r&&r.prerelease.length?r.prerelease:null};var yy=py;const Ya=ye,$y=(t,e,r)=>new Ya(t,r).compare(new Ya(e,r));var Ae=$y;const gy=Ae,vy=(t,e,r)=>gy(e,t,r);var _y=vy;const Ey=Ae,wy=(t,e)=>Ey(t,e,!0);var by=wy;const Ja=ye,Sy=(t,e,r)=>{const n=new Ja(t,r),s=new Ja(e,r);return n.compare(s)||n.compareBuild(s)};var Bs=Sy;const Py=Bs,Ny=(t,e)=>t.sort((r,n)=>Py(r,n,e));var Ry=Ny;const Oy=Bs,Iy=(t,e)=>t.sort((r,n)=>Oy(n,r,e));var Ty=Iy;const jy=Ae,Ay=(t,e,r)=>jy(t,e,r)>0;var Gr=Ay;const ky=Ae,Cy=(t,e,r)=>ky(t,e,r)<0;var Ws=Cy;const Dy=Ae,Ly=(t,e,r)=>Dy(t,e,r)===0;var Pi=Ly;const My=Ae,Vy=(t,e,r)=>My(t,e,r)!==0;var Ni=Vy;const Fy=Ae,zy=(t,e,r)=>Fy(t,e,r)>=0;var Ys=zy;const Uy=Ae,qy=(t,e,r)=>Uy(t,e,r)<=0;var Js=qy;const Gy=Pi,Ky=Ni,Hy=Gr,Xy=Ys,By=Ws,Wy=Js,Yy=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Gy(t,r,n);case"!=":return Ky(t,r,n);case">":return Hy(t,r,n);case">=":return Xy(t,r,n);case"<":return By(t,r,n);case"<=":return Wy(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Ri=Yy;const Jy=ye,xy=kt,{safeRe:fr,t:dr}=Yt,Zy=(t,e)=>{if(t instanceof Jy)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?fr[dr.COERCEFULL]:fr[dr.COERCE]);else{const c=e.includePrerelease?fr[dr.COERCERTLFULL]:fr[dr.COERCERTL];let u;for(;(u=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return xy(`${n}.${s}.${a}${o}${l}`,e)};var Qy=Zy;class e${constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}}var t$=e$,En,xa;function ke(){if(xa)return En;xa=1;const t=/\s+/g;class e{constructor(O,C){if(C=s(C),O instanceof e)return O.loose===!!C.loose&&O.includePrerelease===!!C.includePrerelease?O:new e(O.raw,C);if(O instanceof a)return this.raw=O.value,this.set=[[O]],this.formatted=void 0,this;if(this.options=C,this.loose=!!C.loose,this.includePrerelease=!!C.includePrerelease,this.raw=O.trim().replace(t," "),this.set=this.raw.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(V=>!$(V[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const V of this.set)if(V.length===1&&v(V[0])){this.set=[V];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let O=0;O<this.set.length;O++){O>0&&(this.formatted+="||");const C=this.set[O];for(let A=0;A<C.length;A++)A>0&&(this.formatted+=" "),this.formatted+=C[A].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(O){const A=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+O,V=n.get(A);if(V)return V;const k=this.options.loose,P=k?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];O=O.replace(P,K(this.options.includePrerelease)),o("hyphen replace",O),O=O.replace(c[u.COMPARATORTRIM],i),o("comparator trim",O),O=O.replace(c[u.TILDETRIM],d),o("tilde trim",O),O=O.replace(c[u.CARETTRIM],_),o("caret trim",O);let g=O.split(" ").map(h=>w(h,this.options)).join(" ").split(/\s+/).map(h=>F(h,this.options));k&&(g=g.filter(h=>(o("loose invalid filter",h,this.options),!!h.match(c[u.COMPARATORLOOSE])))),o("range list",g);const b=new Map,E=g.map(h=>new a(h,this.options));for(const h of E){if($(h))return[h];b.set(h.value,h)}b.size>1&&b.has("")&&b.delete("");const f=[...b.values()];return n.set(A,f),f}intersects(O,C){if(!(O instanceof e))throw new TypeError("a Range is required");return this.set.some(A=>p(A,C)&&O.set.some(V=>p(V,C)&&A.every(k=>V.every(P=>k.intersects(P,C)))))}test(O){if(!O)return!1;if(typeof O=="string")try{O=new l(O,this.options)}catch{return!1}for(let C=0;C<this.set.length;C++)if(Z(this.set[C],O,this.options))return!0;return!1}}En=e;const r=t$,n=new r,s=Xs,a=Kr(),o=qr,l=ye,{safeRe:c,t:u,comparatorTrimReplace:i,tildeTrimReplace:d,caretTrimReplace:_}=Yt,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=Ur,$=R=>R.value==="<0.0.0-0",v=R=>R.value==="",p=(R,O)=>{let C=!0;const A=R.slice();let V=A.pop();for(;C&&A.length;)C=A.every(k=>V.intersects(k,O)),V=A.pop();return C},w=(R,O)=>(R=R.replace(c[u.BUILD],""),o("comp",R,O),R=Y(R,O),o("caret",R),R=I(R,O),o("tildes",R),R=$e(R,O),o("xrange",R),R=Re(R,O),o("stars",R),R),N=R=>!R||R.toLowerCase()==="x"||R==="*",I=(R,O)=>R.trim().split(/\s+/).map(C=>j(C,O)).join(" "),j=(R,O)=>{const C=O.loose?c[u.TILDELOOSE]:c[u.TILDE];return R.replace(C,(A,V,k,P,g)=>{o("tilde",R,A,V,k,P,g);let b;return N(V)?b="":N(k)?b=`>=${V}.0.0 <${+V+1}.0.0-0`:N(P)?b=`>=${V}.${k}.0 <${V}.${+k+1}.0-0`:g?(o("replaceTilde pr",g),b=`>=${V}.${k}.${P}-${g} <${V}.${+k+1}.0-0`):b=`>=${V}.${k}.${P} <${V}.${+k+1}.0-0`,o("tilde return",b),b})},Y=(R,O)=>R.trim().split(/\s+/).map(C=>te(C,O)).join(" "),te=(R,O)=>{o("caret",R,O);const C=O.loose?c[u.CARETLOOSE]:c[u.CARET],A=O.includePrerelease?"-0":"";return R.replace(C,(V,k,P,g,b)=>{o("caret",R,V,k,P,g,b);let E;return N(k)?E="":N(P)?E=`>=${k}.0.0${A} <${+k+1}.0.0-0`:N(g)?k==="0"?E=`>=${k}.${P}.0${A} <${k}.${+P+1}.0-0`:E=`>=${k}.${P}.0${A} <${+k+1}.0.0-0`:b?(o("replaceCaret pr",b),k==="0"?P==="0"?E=`>=${k}.${P}.${g}-${b} <${k}.${P}.${+g+1}-0`:E=`>=${k}.${P}.${g}-${b} <${k}.${+P+1}.0-0`:E=`>=${k}.${P}.${g}-${b} <${+k+1}.0.0-0`):(o("no pr"),k==="0"?P==="0"?E=`>=${k}.${P}.${g}${A} <${k}.${P}.${+g+1}-0`:E=`>=${k}.${P}.${g}${A} <${k}.${+P+1}.0-0`:E=`>=${k}.${P}.${g} <${+k+1}.0.0-0`),o("caret return",E),E})},$e=(R,O)=>(o("replaceXRanges",R,O),R.split(/\s+/).map(C=>be(C,O)).join(" ")),be=(R,O)=>{R=R.trim();const C=O.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return R.replace(C,(A,V,k,P,g,b)=>{o("xRange",R,A,V,k,P,g,b);const E=N(k),f=E||N(P),h=f||N(g),S=h;return V==="="&&S&&(V=""),b=O.includePrerelease?"-0":"",E?V===">"||V==="<"?A="<0.0.0-0":A="*":V&&S?(f&&(P=0),g=0,V===">"?(V=">=",f?(k=+k+1,P=0,g=0):(P=+P+1,g=0)):V==="<="&&(V="<",f?k=+k+1:P=+P+1),V==="<"&&(b="-0"),A=`${V+k}.${P}.${g}${b}`):f?A=`>=${k}.0.0${b} <${+k+1}.0.0-0`:h&&(A=`>=${k}.${P}.0${b} <${k}.${+P+1}.0-0`),o("xRange return",A),A})},Re=(R,O)=>(o("replaceStars",R,O),R.trim().replace(c[u.STAR],"")),F=(R,O)=>(o("replaceGTE0",R,O),R.trim().replace(c[O.includePrerelease?u.GTE0PRE:u.GTE0],"")),K=R=>(O,C,A,V,k,P,g,b,E,f,h,S)=>(N(A)?C="":N(V)?C=`>=${A}.0.0${R?"-0":""}`:N(k)?C=`>=${A}.${V}.0${R?"-0":""}`:P?C=`>=${C}`:C=`>=${C}${R?"-0":""}`,N(E)?b="":N(f)?b=`<${+E+1}.0.0-0`:N(h)?b=`<${E}.${+f+1}.0-0`:S?b=`<=${E}.${f}.${h}-${S}`:R?b=`<${E}.${f}.${+h+1}-0`:b=`<=${b}`,`${C} ${b}`.trim()),Z=(R,O,C)=>{for(let A=0;A<R.length;A++)if(!R[A].test(O))return!1;if(O.prerelease.length&&!C.includePrerelease){for(let A=0;A<R.length;A++)if(o(R[A].semver),R[A].semver!==a.ANY&&R[A].semver.prerelease.length>0){const V=R[A].semver;if(V.major===O.major&&V.minor===O.minor&&V.patch===O.patch)return!0}return!1}return!0};return En}var wn,Za;function Kr(){if(Za)return wn;Za=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(i,d){if(d=r(d),i instanceof e){if(i.loose===!!d.loose)return i;i=i.value}i=i.trim().split(/\s+/).join(" "),o("comparator",i,d),this.options=d,this.loose=!!d.loose,this.parse(i),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(i){const d=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],_=i.match(d);if(!_)throw new TypeError(`Invalid comparator: ${i}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new l(_[2],this.options.loose):this.semver=t}toString(){return this.value}test(i){if(o("Comparator.test",i,this.options.loose),this.semver===t||i===t)return!0;if(typeof i=="string")try{i=new l(i,this.options)}catch{return!1}return a(i,this.operator,this.semver,this.options)}intersects(i,d){if(!(i instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(i.value,d).test(this.value):i.operator===""?i.value===""?!0:new c(this.value,d).test(i.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||i.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||i.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&i.operator.startsWith(">")||this.operator.startsWith("<")&&i.operator.startsWith("<")||this.semver.version===i.semver.version&&this.operator.includes("=")&&i.operator.includes("=")||a(this.semver,"<",i.semver,d)&&this.operator.startsWith(">")&&i.operator.startsWith("<")||a(this.semver,">",i.semver,d)&&this.operator.startsWith("<")&&i.operator.startsWith(">")))}}wn=e;const r=Xs,{safeRe:n,t:s}=Yt,a=Ri,o=qr,l=ye,c=ke();return wn}const r$=ke(),n$=(t,e,r)=>{try{e=new r$(e,r)}catch{return!1}return e.test(t)};var Hr=n$;const s$=ke(),a$=(t,e)=>new s$(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var o$=a$;const i$=ye,c$=ke(),u$=(t,e,r)=>{let n=null,s=null,a=null;try{a=new c$(e,r)}catch{return null}return t.forEach(o=>{a.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new i$(n,r))}),n};var l$=u$;const f$=ye,d$=ke(),h$=(t,e,r)=>{let n=null,s=null,a=null;try{a=new d$(e,r)}catch{return null}return t.forEach(o=>{a.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new f$(n,r))}),n};var m$=h$;const bn=ye,p$=ke(),Qa=Gr,y$=(t,e)=>{t=new p$(t,e);let r=new bn("0.0.0");if(t.test(r)||(r=new bn("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let a=null;s.forEach(o=>{const l=new bn(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!a||Qa(l,a))&&(a=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||Qa(r,a))&&(r=a)}return r&&t.test(r)?r:null};var $$=y$;const g$=ke(),v$=(t,e)=>{try{return new g$(t,e).range||"*"}catch{return null}};var _$=v$;const E$=ye,Oi=Kr(),{ANY:w$}=Oi,b$=ke(),S$=Hr,eo=Gr,to=Ws,P$=Js,N$=Ys,R$=(t,e,r,n)=>{t=new E$(t,n),e=new b$(e,n);let s,a,o,l,c;switch(r){case">":s=eo,a=P$,o=to,l=">",c=">=";break;case"<":s=to,a=N$,o=eo,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(S$(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const i=e.set[u];let d=null,_=null;if(i.forEach(m=>{m.semver===w$&&(m=new Oi(">=0.0.0")),d=d||m,_=_||m,s(m.semver,d.semver,n)?d=m:o(m.semver,_.semver,n)&&(_=m)}),d.operator===l||d.operator===c||(!_.operator||_.operator===l)&&a(t,_.semver))return!1;if(_.operator===c&&o(t,_.semver))return!1}return!0};var xs=R$;const O$=xs,I$=(t,e,r)=>O$(t,e,">",r);var T$=I$;const j$=xs,A$=(t,e,r)=>j$(t,e,"<",r);var k$=A$;const ro=ke(),C$=(t,e,r)=>(t=new ro(t,r),e=new ro(e,r),t.intersects(e,r));var D$=C$;const L$=Hr,M$=Ae;var V$=(t,e,r)=>{const n=[];let s=null,a=null;const o=t.sort((i,d)=>M$(i,d,r));for(const i of o)L$(i,e,r)?(a=i,s||(s=i)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const l=[];for(const[i,d]of n)i===d?l.push(i):!d&&i===o[0]?l.push("*"):d?i===o[0]?l.push(`<=${d}`):l.push(`${i} - ${d}`):l.push(`>=${i}`);const c=l.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const no=ke(),Zs=Kr(),{ANY:Sn}=Zs,Vt=Hr,Qs=Ae,F$=(t,e,r={})=>{if(t===e)return!0;t=new no(t,r),e=new no(e,r);let n=!1;e:for(const s of t.set){for(const a of e.set){const o=U$(s,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},z$=[new Zs(">=0.0.0-0")],so=[new Zs(">=0.0.0")],U$=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Sn){if(e.length===1&&e[0].semver===Sn)return!0;r.includePrerelease?t=z$:t=so}if(e.length===1&&e[0].semver===Sn){if(r.includePrerelease)return!0;e=so}const n=new Set;let s,a;for(const m of t)m.operator===">"||m.operator===">="?s=ao(s,m,r):m.operator==="<"||m.operator==="<="?a=oo(a,m,r):n.add(m.semver);if(n.size>1)return null;let o;if(s&&a){if(o=Qs(s.semver,a.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const m of n){if(s&&!Vt(m,String(s),r)||a&&!Vt(m,String(a),r))return null;for(const y of e)if(!Vt(m,String(y),r))return!1;return!0}let l,c,u,i,d=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&a.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const m of e){if(i=i||m.operator===">"||m.operator===">=",u=u||m.operator==="<"||m.operator==="<=",s){if(_&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===_.major&&m.semver.minor===_.minor&&m.semver.patch===_.patch&&(_=!1),m.operator===">"||m.operator===">="){if(l=ao(s,m,r),l===m&&l!==s)return!1}else if(s.operator===">="&&!Vt(s.semver,String(m),r))return!1}if(a){if(d&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===d.major&&m.semver.minor===d.minor&&m.semver.patch===d.patch&&(d=!1),m.operator==="<"||m.operator==="<="){if(c=oo(a,m,r),c===m&&c!==a)return!1}else if(a.operator==="<="&&!Vt(a.semver,String(m),r))return!1}if(!m.operator&&(a||s)&&o!==0)return!1}return!(s&&u&&!a&&o!==0||a&&i&&!s&&o!==0||_||d)},ao=(t,e,r)=>{if(!t)return e;const n=Qs(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},oo=(t,e,r)=>{if(!t)return e;const n=Qs(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var q$=F$;const Pn=Yt,io=Ur,G$=ye,co=Si,K$=kt,H$=xp,X$=ey,B$=ry,W$=sy,Y$=iy,J$=ly,x$=hy,Z$=yy,Q$=Ae,e0=_y,t0=by,r0=Bs,n0=Ry,s0=Ty,a0=Gr,o0=Ws,i0=Pi,c0=Ni,u0=Ys,l0=Js,f0=Ri,d0=Qy,h0=Kr(),m0=ke(),p0=Hr,y0=o$,$0=l$,g0=m$,v0=$$,_0=_$,E0=xs,w0=T$,b0=k$,S0=D$,P0=V$,N0=q$;var R0={parse:K$,valid:H$,clean:X$,inc:B$,diff:W$,major:Y$,minor:J$,patch:x$,prerelease:Z$,compare:Q$,rcompare:e0,compareLoose:t0,compareBuild:r0,sort:n0,rsort:s0,gt:a0,lt:o0,eq:i0,neq:c0,gte:u0,lte:l0,cmp:f0,coerce:d0,Comparator:h0,Range:m0,satisfies:p0,toComparators:y0,maxSatisfying:$0,minSatisfying:g0,minVersion:v0,validRange:_0,outside:E0,gtr:w0,ltr:b0,intersects:S0,simplifyRange:P0,subset:N0,SemVer:G$,re:Pn.re,src:Pn.src,tokens:Pn.t,SEMVER_SPEC_VERSION:io.SEMVER_SPEC_VERSION,RELEASE_TYPES:io.RELEASE_TYPES,compareIdentifiers:co.compareIdentifiers,rcompareIdentifiers:co.rcompareIdentifiers};const _t=Hn(R0),O0=Object.prototype.toString,I0="[object Uint8Array]",T0="[object ArrayBuffer]";function Ii(t,e,r){return t?t.constructor===e?!0:O0.call(t)===r:!1}function Ti(t){return Ii(t,Uint8Array,I0)}function j0(t){return Ii(t,ArrayBuffer,T0)}function A0(t){return Ti(t)||j0(t)}function k0(t){if(!Ti(t))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof t}\``)}function C0(t){if(!A0(t))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``)}function Nn(t,e){if(t.length===0)return new Uint8Array(0);e??(e=t.reduce((s,a)=>s+a.length,0));const r=new Uint8Array(e);let n=0;for(const s of t)k0(s),r.set(s,n),n+=s.length;return r}const hr={utf8:new globalThis.TextDecoder("utf8")};function mr(t,e="utf8"){return C0(t),hr[e]??(hr[e]=new globalThis.TextDecoder(e)),hr[e].decode(t)}function D0(t){if(typeof t!="string")throw new TypeError(`Expected \`string\`, got \`${typeof t}\``)}const L0=new globalThis.TextEncoder;function pr(t){return D0(t),L0.encode(t)}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const Rn="aes-256-cbc",xe=()=>Object.create(null),uo=t=>t!==void 0,On=(t,e)=>{const r=new Set(["undefined","symbol","function"]),n=typeof e;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${t}\` is not allowed as it's not supported by JSON`)},Qe="__internal__",In=`${Qe}.migrations.version`;var tt,Te,ge,Se,ft,dt,Nt,Le,ie,ji,Ai,ki,Ci,Di,Li,Mi,Vi;class M0{constructor(e={}){Ce(this,ie);Dt(this,"path");Dt(this,"events");Ce(this,tt);Ce(this,Te);Ce(this,ge);Ce(this,Se,{});Ce(this,ft,!1);Ce(this,dt);Ce(this,Nt);Ce(this,Le);Dt(this,"_deserialize",e=>JSON.parse(e));Dt(this,"_serialize",e=>JSON.stringify(e,void 0,"	"));const r=ze(this,ie,ji).call(this,e);_e(this,ge,r),ze(this,ie,Ai).call(this,r),ze(this,ie,Ci).call(this,r),ze(this,ie,Di).call(this,r),this.events=new EventTarget,_e(this,Te,r.encryptionKey),this.path=ze(this,ie,Li).call(this,r),ze(this,ie,Mi).call(this,r),r.watch&&this._watch()}get(e,r){if(q(this,ge).accessPropertiesByDotNotation)return this._get(e,r);const{store:n}=this;return e in n?n[e]:r}set(e,r){if(typeof e!="string"&&typeof e!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if(typeof e!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(e))throw new TypeError(`Please don't use the ${Qe} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(a,o)=>{if(On(a,o),q(this,ge).accessPropertiesByDotNotation)Qt(n,a,o);else{if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=o}};if(typeof e=="object"){const a=e;for(const[o,l]of Object.entries(a))s(o,l)}else s(e,r);this.store=n}has(e){return q(this,ge).accessPropertiesByDotNotation?dn(this.store,e):e in this.store}appendToArray(e,r){On(e,r);const n=q(this,ge).accessPropertiesByDotNotation?this._get(e,[]):e in this.store?this.store[e]:[];if(!Array.isArray(n))throw new TypeError(`The key \`${e}\` is already set to a non-array value`);this.set(e,[...n,r])}reset(...e){for(const r of e)uo(q(this,Se)[r])&&this.set(r,q(this,Se)[r])}delete(e){const{store:r}=this;q(this,ge).accessPropertiesByDotNotation?ac(r,e):delete r[e],this.store=r}clear(){const e=xe();for(const r of Object.keys(q(this,Se)))uo(q(this,Se)[r])&&(On(r,q(this,Se)[r]),q(this,ge).accessPropertiesByDotNotation?Qt(e,r,q(this,Se)[r]):e[r]=q(this,Se)[r]);this.store=e}onDidChange(e,r){if(typeof e!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleValueChange(()=>this.get(e),r)}onDidAnyChange(e){if(typeof e!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`);return this._handleStoreChange(e)}get size(){return Object.keys(this.store).filter(r=>!this._isReservedKeyPath(r)).length}get store(){var e;try{const r=G.readFileSync(this.path,q(this,Te)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);return q(this,ft)||this._validate(s),Object.assign(xe(),s)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return this._ensureDirectory(),xe();if(q(this,ge).clearInvalidConfig){const n=r;if(n.name==="SyntaxError"||(e=n.message)!=null&&e.startsWith("Config schema violation:"))return xe()}throw r}}set store(e){if(this._ensureDirectory(),!dn(e,Qe))try{const r=G.readFileSync(this.path,q(this,Te)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);dn(s,Qe)&&Qt(e,Qe,ua(s,Qe))}catch{}q(this,ft)||this._validate(e),this._write(e),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[e,r]of Object.entries(this.store))this._isReservedKeyPath(e)||(yield[e,r])}_closeWatcher(){q(this,dt)&&(q(this,dt).close(),_e(this,dt,void 0)),q(this,Nt)&&(G.unwatchFile(this.path),_e(this,Nt,!1)),_e(this,Le,void 0)}_decryptData(e){if(!q(this,Te))return typeof e=="string"?e:mr(e);try{const r=e.slice(0,16),n=at.pbkdf2Sync(q(this,Te),r,1e4,32,"sha512"),s=at.createDecipheriv(Rn,n,r),a=e.slice(17),o=typeof a=="string"?pr(a):a;return mr(Nn([s.update(o),s.final()]))}catch{try{const r=e.slice(0,16),n=at.pbkdf2Sync(q(this,Te),r.toString(),1e4,32,"sha512"),s=at.createDecipheriv(Rn,n,r),a=e.slice(17),o=typeof a=="string"?pr(a):a;return mr(Nn([s.update(o),s.final()]))}catch{}}return typeof e=="string"?e:mr(e)}_handleStoreChange(e){let r=this.store;const n=()=>{const s=r,a=this.store;oe.isDeepStrictEqual(a,s)||(r=a,e.call(this,a,s))};return this.events.addEventListener("change",n),()=>{this.events.removeEventListener("change",n)}}_handleValueChange(e,r){let n=e();const s=()=>{const a=n,o=e();oe.isDeepStrictEqual(o,a)||(n=o,r.call(this,o,a))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_validate(e){if(!q(this,tt)||q(this,tt).call(this,e)||!q(this,tt).errors)return;const n=q(this,tt).errors.map(({instancePath:s,message:a=""})=>`\`${s.slice(1)}\` ${a}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){G.mkdirSync(B.dirname(this.path),{recursive:!0})}_write(e){let r=this._serialize(e);if(q(this,Te)){const n=at.randomBytes(16),s=at.pbkdf2Sync(q(this,Te),n,1e4,32,"sha512"),a=at.createCipheriv(Rn,s,n);r=Nn([n,pr(":"),a.update(pr(r)),a.final()])}if(ee.env.SNAP)G.writeFileSync(this.path,r,{mode:q(this,ge).configFileMode});else try{Eo(this.path,r,{mode:q(this,ge).configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){G.writeFileSync(this.path,r,{mode:q(this,ge).configFileMode});return}throw n}}_watch(){if(this._ensureDirectory(),G.existsSync(this.path)||this._write(xe()),ee.platform==="win32"||ee.platform==="darwin"){q(this,Le)??_e(this,Le,Ga(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100}));const e=B.dirname(this.path),r=B.basename(this.path);_e(this,dt,G.watch(e,{persistent:!1,encoding:"utf8"},(n,s)=>{s&&s!==r||typeof q(this,Le)=="function"&&q(this,Le).call(this)}))}else q(this,Le)??_e(this,Le,Ga(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3})),G.watchFile(this.path,{persistent:!1},(e,r)=>{typeof q(this,Le)=="function"&&q(this,Le).call(this)}),_e(this,Nt,!0)}_migrate(e,r,n){let s=this._get(In,"0.0.0");const a=Object.keys(e).filter(l=>this._shouldPerformMigration(l,s,r));let o=structuredClone(this.store);for(const l of a)try{n&&n(this,{fromVersion:s,toVersion:l,finalVersion:r,versions:a});const c=e[l];c==null||c(this),this._set(In,l),s=l,o=structuredClone(this.store)}catch(c){this.store=o;try{this._write(o)}catch{}const u=c instanceof Error?c.message:String(c);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${u}`)}(this._isVersionInRangeFormat(s)||!_t.eq(s,r))&&this._set(In,r)}_containsReservedKey(e){return typeof e=="string"?this._isReservedKeyPath(e):!e||typeof e!="object"?!1:this._objectContainsReservedKey(e)}_objectContainsReservedKey(e){if(!e||typeof e!="object")return!1;for(const[r,n]of Object.entries(e))if(this._isReservedKeyPath(r)||this._objectContainsReservedKey(n))return!0;return!1}_isReservedKeyPath(e){return e===Qe||e.startsWith(`${Qe}.`)}_isVersionInRangeFormat(e){return _t.clean(e)===null}_shouldPerformMigration(e,r,n){return this._isVersionInRangeFormat(e)?r!=="0.0.0"&&_t.satisfies(r,e)?!1:_t.satisfies(n,e):!(_t.lte(e,r)||_t.gt(e,n))}_get(e,r){return ua(this.store,e,r)}_set(e,r){const{store:n}=this;Qt(n,e,r),this.store=n}}tt=new WeakMap,Te=new WeakMap,ge=new WeakMap,Se=new WeakMap,ft=new WeakMap,dt=new WeakMap,Nt=new WeakMap,Le=new WeakMap,ie=new WeakSet,ji=function(e){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...e};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=uc(r.projectName,{suffix:r.projectSuffix}).config}return typeof r.fileExtension=="string"&&(r.fileExtension=r.fileExtension.replace(/^\.+/,"")),r},Ai=function(e){if(!(e.schema??e.ajvOptions??e.rootSchema))return;if(e.schema&&typeof e.schema!="object")throw new TypeError("The `schema` option must be an object.");const r=Rp.default,n=new dp.Ajv2020({allErrors:!0,useDefaults:!0,...e.ajvOptions});r(n);const s={...e.rootSchema,type:"object",properties:e.schema};_e(this,tt,n.compile(s)),ze(this,ie,ki).call(this,e.schema)},ki=function(e){const r=Object.entries(e??{});for(const[n,s]of r){if(!s||typeof s!="object"||!Object.hasOwn(s,"default"))continue;const{default:a}=s;a!==void 0&&(q(this,Se)[n]=a)}},Ci=function(e){e.defaults&&Object.assign(q(this,Se),e.defaults)},Di=function(e){e.serialize&&(this._serialize=e.serialize),e.deserialize&&(this._deserialize=e.deserialize)},Li=function(e){const r=typeof e.fileExtension=="string"?e.fileExtension:void 0,n=r?`.${r}`:"";return B.resolve(e.cwd,`${e.configName??"config"}${n}`)},Mi=function(e){if(e.migrations){ze(this,ie,Vi).call(this,e),this._validate(this.store);return}const r=this.store,n=Object.assign(xe(),e.defaults??{},r);this._validate(n);try{na.deepEqual(r,n)}catch{this.store=n}},Vi=function(e){const{migrations:r,projectVersion:n}=e;if(r){if(!n)throw new Error("Please specify the `projectVersion` option.");_e(this,ft,!0);try{const s=this.store,a=Object.assign(xe(),e.defaults??{},s);try{na.deepEqual(s,a)}catch{this._write(a)}this._migrate(r,n,e.beforeEachMigration)}finally{_e(this,ft,!1)}}};const{app:Er,ipcMain:Gn,shell:V0}=ne;let lo=!1;const fo=()=>{if(!Gn||!Er)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const t={defaultCwd:Er.getPath("userData"),appVersion:Er.getVersion()};return lo||(Gn.on("electron-store-get-data",e=>{e.returnValue=t}),lo=!0),t};class F0 extends M0{constructor(e){let r,n;if(ee.type==="renderer"){const s=ne.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Gn&&Er&&({defaultCwd:r,appVersion:n}=fo());e={name:"config",...e},e.projectVersion||(e.projectVersion=n),e.cwd?e.cwd=B.isAbsolute(e.cwd)?e.cwd:B.join(r,e.cwd):e.cwd=r,e.configName=e.name,delete e.name,super(e)}static initRenderer(){fo()}async openInEditor(){const e=await V0.openPath(this.path);if(e)throw new Error(e)}}let Fi=new F0;rc&&ne.app.quit();const ho=()=>{new ne.BrowserWindow({width:1600,height:1200,webPreferences:{preload:B.join(__dirname,"preload.js")}}).loadFile(B.join(__dirname,"../renderer/main_window/index.html"))};ne.app.whenReady().then(()=>{ho(),ne.app.on("activate",()=>{ne.BrowserWindow.getAllWindows().length===0&&ho()})});ne.app.on("window-all-closed",()=>{process.platform!=="darwin"&&ne.app.quit()});ne.ipcMain.on("electron-store-get",async(t,e)=>{console.log("Getting value for key:",e),t.returnValue=Fi.get(e)});ne.ipcMain.on("electron-store-set",async(t,e,r)=>{console.log("Setting value for key:",e,"to",r),Fi.set(e,r)});ne.ipcMain.on("open-external-link",async(t,e)=>{console.log("Opening external link:",e),ne.shell.openExternal(e)});const z0="graphicScreen.css",U0="graphicScreen.original.css",Kn=()=>B.join(ne.app.getPath("userData"),U0);async function Xr(){return{path:B.join(ne.app.getPath("userData"),z0),location:"userData"}}ne.ipcMain.handle("save-custom-css",async(t,e)=>{try{const r=await Xr();if(r.location==="project")try{await rt.access(Kn())}catch{try{const n=await rt.readFile(r.path,"utf8");await rt.writeFile(Kn(),n,"utf8")}catch(n){console.warn("Could not create backup of original graphicScreen.css:",n)}}return await rt.writeFile(r.path,e,"utf8"),{success:!0,path:r.path,location:r.location}}catch(r){return console.error("Failed to save graphicScreen.css:",r),{success:!1,error:String(r)}}});ne.ipcMain.handle("restore-original-css",async()=>{try{const t=Kn();await rt.access(t);const e=await rt.readFile(t,"utf8");let r=await Xr();return await rt.writeFile(r.path,e,"utf8"),{success:!0,path:r.path,location:r.location}}catch(t){return console.error("Failed to restore original graphicScreen.css:",t),{success:!1,error:String(t)}}});ne.ipcMain.handle("load-custom-css",async()=>{try{const t=await Xr();return{exists:!0,content:await rt.readFile(t.path,"utf8"),path:t.path,location:t.location}}catch(t){return{exists:!1,error:String(t)}}});ne.ipcMain.handle("get-custom-css-path",async()=>(await Xr()).path);
