"use strict";var qi=Object.defineProperty;var na=t=>{throw TypeError(t)};var Gi=(t,e,r)=>e in t?qi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Dt=(t,e,r)=>Gi(t,typeof e!="symbol"?e+"":e,r),cn=(t,e,r)=>e.has(t)||na("Cannot "+r);var q=(t,e,r)=>(cn(t,e,"read from private field"),r?r.call(t):e.get(t)),Ce=(t,e,r)=>e.has(t)?na("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),_e=(t,e,r,n)=>(cn(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ue=(t,e,r)=>(cn(t,e,"access private method"),r);const te=require("electron"),B=require("node:path"),Ve=require("node:fs/promises"),Ki=require("path"),Hi=require("child_process"),Xi=require("tty"),Bi=require("util"),Wi=require("fs"),Yi=require("net"),ee=require("node:process"),oe=require("node:util"),G=require("node:fs"),at=require("node:crypto"),sa=require("node:assert"),mo=require("node:os");require("node:events");require("node:stream");function Hn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tn={exports:{}},Jt={exports:{}},xt={exports:{}},un,aa;function Ji(){if(aa)return un;aa=1;var t=1e3,e=t*60,r=e*60,n=r*24,s=n*365.25;un=function(u,i){i=i||{};var d=typeof u;if(d==="string"&&u.length>0)return a(u);if(d==="number"&&isNaN(u)===!1)return i.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(i){var d=parseFloat(i[1]),_=(i[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function o(u){return u>=n?Math.round(u/n)+"d":u>=r?Math.round(u/r)+"h":u>=e?Math.round(u/e)+"m":u>=t?Math.round(u/t)+"s":u+"ms"}function l(u){return c(u,n,"day")||c(u,r,"hour")||c(u,e,"minute")||c(u,t,"second")||u+" ms"}function c(u,i,d){if(!(u<i))return u<i*1.5?Math.floor(u/i)+" "+d:Math.ceil(u/i)+" "+d+"s"}return un}var oa;function yo(){return oa||(oa=1,function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=c,e.disable=o,e.enable=a,e.enabled=l,e.humanize=Ji(),e.names=[],e.skips=[],e.formatters={};var r;function n(u){var i=0,d;for(d in u)i=(i<<5)-i+u.charCodeAt(d),i|=0;return e.colors[Math.abs(i)%e.colors.length]}function s(u){function i(){if(i.enabled){var d=i,_=+new Date,p=_-(r||_);d.diff=p,d.prev=r,d.curr=_,r=_;for(var y=new Array(arguments.length),$=0;$<y.length;$++)y[$]=arguments[$];y[0]=e.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var v=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(w,N){if(w==="%%")return w;v++;var I=e.formatters[N];if(typeof I=="function"){var j=y[v];w=I.call(d,j),y.splice(v,1),v--}return w}),e.formatArgs.call(d,y);var m=i.log||e.log||console.log.bind(console);m.apply(d,y)}}return i.namespace=u,i.enabled=e.enabled(u),i.useColors=e.useColors(),i.color=n(u),typeof e.init=="function"&&e.init(i),i}function a(u){e.save(u),e.names=[],e.skips=[];for(var i=(typeof u=="string"?u:"").split(/[\s,]+/),d=i.length,_=0;_<d;_++)i[_]&&(u=i[_].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.substr(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function o(){e.enable("")}function l(u){var i,d;for(i=0,d=e.skips.length;i<d;i++)if(e.skips[i].test(u))return!1;for(i=0,d=e.names.length;i<d;i++)if(e.names[i].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}}(xt,xt.exports)),xt.exports}var ia;function xi(){return ia||(ia=1,function(t,e){e=t.exports=yo(),e.log=s,e.formatArgs=n,e.save=a,e.load=o,e.useColors=r,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function n(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var i="color: "+this.color;c.splice(1,0,i,"color: inherit");var d=0,_=0;c[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(d++,p==="%c"&&(_=d))}),c.splice(_,0,i)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function o(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}e.enable(o());function l(){try{return window.localStorage}catch{}}}(Jt,Jt.exports)),Jt.exports}var Zt={exports:{}},ca;function Zi(){return ca||(ca=1,function(t,e){var r=Xi,n=Bi;e=t.exports=yo(),e.init=_,e.log=c,e.formatArgs=l,e.save=u,e.load=i,e.useColors=o,e.colors=[6,2,3,4,5,1],e.inspectOpts=Object.keys(process.env).filter(function(p){return/^debug_/i.test(p)}).reduce(function(p,y){var $=y.substring(6).toLowerCase().replace(/_([a-z])/g,function(m,w){return w.toUpperCase()}),v=process.env[y];return/^(yes|on|true|enabled)$/i.test(v)?v=!0:/^(no|off|false|disabled)$/i.test(v)?v=!1:v==="null"?v=null:v=Number(v),p[$]=v,p},{});var s=parseInt(process.env.DEBUG_FD,10)||2;s!==1&&s!==2&&n.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=s===1?process.stdout:s===2?process.stderr:d(s);function o(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:r.isatty(s)}e.formatters.o=function(p){return this.inspectOpts.colors=this.useColors,n.inspect(p,this.inspectOpts).split(`
`).map(function(y){return y.trim()}).join(" ")},e.formatters.O=function(p){return this.inspectOpts.colors=this.useColors,n.inspect(p,this.inspectOpts)};function l(p){var y=this.namespace,$=this.useColors;if($){var v=this.color,m="  \x1B[3"+v+";1m"+y+" \x1B[0m";p[0]=m+p[0].split(`
`).join(`
`+m),p.push("\x1B[3"+v+"m+"+e.humanize(this.diff)+"\x1B[0m")}else p[0]=new Date().toUTCString()+" "+y+" "+p[0]}function c(){return a.write(n.format.apply(n,arguments)+`
`)}function u(p){p==null?delete process.env.DEBUG:process.env.DEBUG=p}function i(){return process.env.DEBUG}function d(p){var y,$=process.binding("tty_wrap");switch($.guessHandleType(p)){case"TTY":y=new r.WriteStream(p),y._type="tty",y._handle&&y._handle.unref&&y._handle.unref();break;case"FILE":var v=Wi;y=new v.SyncWriteStream(p,{autoClose:!1}),y._type="fs";break;case"PIPE":case"TCP":var m=Yi;y=new m.Socket({fd:p,readable:!1,writable:!0}),y.readable=!1,y.read=null,y._type="pipe",y._handle&&y._handle.unref&&y._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return y.fd=p,y._isStdio=!0,y}function _(p){p.inspectOpts={};for(var y=Object.keys(e.inspectOpts),$=0;$<y.length;$++)p.inspectOpts[y[$]]=e.inspectOpts[y[$]]}e.enable(i())}(Zt,Zt.exports)),Zt.exports}typeof process<"u"&&process.type==="renderer"?Tn.exports=xi():Tn.exports=Zi();var Qi=Tn.exports,jn=Ki,ec=Hi.spawn,$o=Qi("electron-squirrel-startup"),ln=te.app,ua=function(t,e){var r=jn.resolve(jn.dirname(process.execPath),"..","Update.exe");$o("Spawning `%s` with args `%s`",r,t),ec(r,t,{detached:!0}).on("close",e)},tc=function(){if(process.platform==="win32"){var t=process.argv[1];$o("processing squirrel command `%s`",t);var e=jn.basename(process.execPath);if(t==="--squirrel-install"||t==="--squirrel-updated")return ua(["--createShortcut="+e],ln.quit),!0;if(t==="--squirrel-uninstall")return ua(["--removeShortcut="+e],ln.quit),!0;if(t==="--squirrel-obsolete")return ln.quit(),!0}return!1},rc=tc();const nc=Hn(rc),ht=t=>{const e=typeof t;return t!==null&&(e==="object"||e==="function")},go=new Set(["__proto__","prototype","constructor"]),vo=1e6,sc=t=>t>="0"&&t<="9";function _o(t){if(t==="0")return!0;if(/^[1-9]\d*$/.test(t)){const e=Number.parseInt(t,10);return e<=Number.MAX_SAFE_INTEGER&&e<=vo}return!1}function fn(t,e){return go.has(t)?!1:(t&&_o(t)?e.push(Number.parseInt(t,10)):e.push(t),!0)}function ac(t){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);const e=[];let r="",n="start",s=!1,a=0;for(const o of t){if(a++,s){r+=o,s=!1;continue}if(o==="\\"){if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);s=!0,n=n==="start"?"property":n;continue}switch(o){case".":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="property";break}if(!fn(r,e))return[];r="",n="property";break}case"[":{if(n==="index")throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd"){n="index";break}if(n==="property"||n==="start"){if((r||n==="property")&&!fn(r,e))return[];r=""}n="index";break}case"]":{if(n==="index"){if(r==="")r=(e.pop()||"")+"[]",n="property";else{const l=Number.parseInt(r,10);!Number.isNaN(l)&&Number.isFinite(l)&&l>=0&&l<=Number.MAX_SAFE_INTEGER&&l<=vo&&r===String(l)?e.push(l):e.push(r),r="",n="indexEnd"}break}if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);r+=o;break}default:{if(n==="index"&&!sc(o))throw new Error(`Invalid character '${o}' in an index at position ${a}`);if(n==="indexEnd")throw new Error(`Invalid character '${o}' after an index at position ${a}`);n==="start"&&(n="property"),r+=o}}}switch(s&&(r+="\\"),n){case"property":{if(!fn(r,e))return[];break}case"index":throw new Error("Index was not closed");case"start":{e.push("");break}}return e}function Or(t){if(typeof t=="string")return ac(t);if(Array.isArray(t)){const e=[];for(const[r,n]of t.entries()){if(typeof n!="string"&&typeof n!="number")throw new TypeError(`Expected a string or number for path segment at index ${r}, got ${typeof n}`);if(typeof n=="number"&&!Number.isFinite(n))throw new TypeError(`Path segment at index ${r} must be a finite number, got ${n}`);if(go.has(n))return[];typeof n=="string"&&_o(n)?e.push(Number.parseInt(n,10)):e.push(n)}return e}return[]}function la(t,e,r){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return r===void 0?t:r;const n=Or(e);if(n.length===0)return r;for(let s=0;s<n.length;s++){const a=n[s];if(t=t[a],t==null){if(s!==n.length-1)return r;break}}return t===void 0?r:t}function Qt(t,e,r){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return t;const n=t,s=Or(e);if(s.length===0)return t;for(let a=0;a<s.length;a++){const o=s[a];if(a===s.length-1)t[o]=r;else if(!ht(t[o])){const c=typeof s[a+1]=="number";t[o]=c?[]:{}}t=t[o]}return n}function oc(t,e){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return!1;const r=Or(e);if(r.length===0)return!1;for(let n=0;n<r.length;n++){const s=r[n];if(n===r.length-1)return Object.hasOwn(t,s)?(delete t[s],!0):!1;if(t=t[s],!ht(t))return!1}}function dn(t,e){if(!ht(t)||typeof e!="string"&&!Array.isArray(e))return!1;const r=Or(e);if(r.length===0)return!1;for(const n of r){if(!ht(t)||!(n in t))return!1;t=t[n]}return!0}const tt=mo.homedir(),Xn=mo.tmpdir(),{env:wt}=ee,ic=t=>{const e=B.join(tt,"Library");return{data:B.join(e,"Application Support",t),config:B.join(e,"Preferences",t),cache:B.join(e,"Caches",t),log:B.join(e,"Logs",t),temp:B.join(Xn,t)}},cc=t=>{const e=wt.APPDATA||B.join(tt,"AppData","Roaming"),r=wt.LOCALAPPDATA||B.join(tt,"AppData","Local");return{data:B.join(r,t,"Data"),config:B.join(e,t,"Config"),cache:B.join(r,t,"Cache"),log:B.join(r,t,"Log"),temp:B.join(Xn,t)}},uc=t=>{const e=B.basename(tt);return{data:B.join(wt.XDG_DATA_HOME||B.join(tt,".local","share"),t),config:B.join(wt.XDG_CONFIG_HOME||B.join(tt,".config"),t),cache:B.join(wt.XDG_CACHE_HOME||B.join(tt,".cache"),t),log:B.join(wt.XDG_STATE_HOME||B.join(tt,".local","state"),t),temp:B.join(Xn,e,t)}};function lc(t,{suffix:e="nodejs"}={}){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return e&&(t+=`-${e}`),ee.platform==="darwin"?ic(t):ee.platform==="win32"?cc(t):uc(t)}const Be=(t,e)=>{const{onError:r}=e;return function(...s){return t.apply(void 0,s).catch(r)}},qe=(t,e)=>{const{onError:r}=e;return function(...s){try{return t.apply(void 0,s)}catch(a){return r(a)}}},fc=250,We=(t,e)=>{const{isRetriable:r}=e;return function(s){const{timeout:a}=s,o=s.interval??fc,l=Date.now()+a;return function c(...u){return t.apply(void 0,u).catch(i=>{if(!r(i)||Date.now()>=l)throw i;const d=Math.round(o*Math.random());return d>0?new Promise(p=>setTimeout(p,d)).then(()=>c.apply(void 0,u)):c.apply(void 0,u)})}}},Ye=(t,e)=>{const{isRetriable:r}=e;return function(s){const{timeout:a}=s,o=Date.now()+a;return function(...c){for(;;)try{return t.apply(void 0,c)}catch(u){if(!r(u)||Date.now()>=o)throw u;continue}}}},bt={isChangeErrorOk:t=>{if(!bt.isNodeError(t))return!1;const{code:e}=t;return e==="ENOSYS"||!dc&&(e==="EINVAL"||e==="EPERM")},isNodeError:t=>t instanceof Error,isRetriableError:t=>{if(!bt.isNodeError(t))return!1;const{code:e}=t;return e==="EMFILE"||e==="ENFILE"||e==="EAGAIN"||e==="EBUSY"||e==="EACCESS"||e==="EACCES"||e==="EACCS"||e==="EPERM"},onChangeError:t=>{if(!bt.isNodeError(t))throw t;if(!bt.isChangeErrorOk(t))throw t}},er={onError:bt.onChangeError},Ee={onError:()=>{}},dc=ee.getuid?!ee.getuid():!1,le={isRetriable:bt.isRetriableError},de={attempt:{chmod:Be(oe.promisify(G.chmod),er),chown:Be(oe.promisify(G.chown),er),close:Be(oe.promisify(G.close),Ee),fsync:Be(oe.promisify(G.fsync),Ee),mkdir:Be(oe.promisify(G.mkdir),Ee),realpath:Be(oe.promisify(G.realpath),Ee),stat:Be(oe.promisify(G.stat),Ee),unlink:Be(oe.promisify(G.unlink),Ee),chmodSync:qe(G.chmodSync,er),chownSync:qe(G.chownSync,er),closeSync:qe(G.closeSync,Ee),existsSync:qe(G.existsSync,Ee),fsyncSync:qe(G.fsync,Ee),mkdirSync:qe(G.mkdirSync,Ee),realpathSync:qe(G.realpathSync,Ee),statSync:qe(G.statSync,Ee),unlinkSync:qe(G.unlinkSync,Ee)},retry:{close:We(oe.promisify(G.close),le),fsync:We(oe.promisify(G.fsync),le),open:We(oe.promisify(G.open),le),readFile:We(oe.promisify(G.readFile),le),rename:We(oe.promisify(G.rename),le),stat:We(oe.promisify(G.stat),le),write:We(oe.promisify(G.write),le),writeFile:We(oe.promisify(G.writeFile),le),closeSync:Ye(G.closeSync,le),fsyncSync:Ye(G.fsyncSync,le),openSync:Ye(G.openSync,le),readFileSync:Ye(G.readFileSync,le),renameSync:Ye(G.renameSync,le),statSync:Ye(G.statSync,le),writeSync:Ye(G.writeSync,le),writeFileSync:Ye(G.writeFileSync,le)}},hc="utf8",fa=438,pc=511,mc={},yc=ee.geteuid?ee.geteuid():-1,$c=ee.getegid?ee.getegid():-1,gc=1e3,vc=!!ee.getuid;ee.getuid&&ee.getuid();const da=128,_c=t=>t instanceof Error&&"code"in t,ha=t=>typeof t=="string",hn=t=>t===void 0,Ec=ee.platform==="linux",Eo=ee.platform==="win32",Bn=["SIGHUP","SIGINT","SIGTERM"];Eo||Bn.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");Ec&&Bn.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");class wc{constructor(){this.callbacks=new Set,this.exited=!1,this.exit=e=>{if(!this.exited){this.exited=!0;for(const r of this.callbacks)r();e&&(Eo&&e!=="SIGINT"&&e!=="SIGTERM"&&e!=="SIGKILL"?ee.kill(ee.pid,"SIGTERM"):ee.kill(ee.pid,e))}},this.hook=()=>{ee.once("exit",()=>this.exit());for(const e of Bn)try{ee.once(e,()=>this.exit(e))}catch{}},this.register=e=>(this.callbacks.add(e),()=>{this.callbacks.delete(e)}),this.hook()}}const bc=new wc,Sc=bc.register,he={store:{},create:t=>{const e=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),s=`.tmp-${Date.now().toString().slice(-10)}${e}`;return`${t}${s}`},get:(t,e,r=!0)=>{const n=he.truncate(e(t));return n in he.store?he.get(t,e,r):(he.store[n]=r,[n,()=>delete he.store[n]])},purge:t=>{he.store[t]&&(delete he.store[t],de.attempt.unlink(t))},purgeSync:t=>{he.store[t]&&(delete he.store[t],de.attempt.unlinkSync(t))},purgeSyncAll:()=>{for(const t in he.store)he.purgeSync(t)},truncate:t=>{const e=B.basename(t);if(e.length<=da)return t;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(e);if(!r)return t;const n=e.length-da;return`${t.slice(0,-e.length)}${r[1]}${r[2].slice(0,-n)}${r[3]}`}};Sc(he.purgeSyncAll);function wo(t,e,r=mc){if(ha(r))return wo(t,e,{encoding:r});const s={timeout:r.timeout??gc};let a=null,o=null,l=null;try{const c=de.attempt.realpathSync(t),u=!!c;t=c||t,[o,a]=he.get(t,r.tmpCreate||he.create,r.tmpPurge!==!1);const i=vc&&hn(r.chown),d=hn(r.mode);if(u&&(i||d)){const _=de.attempt.statSync(t);_&&(r={...r},i&&(r.chown={uid:_.uid,gid:_.gid}),d&&(r.mode=_.mode))}if(!u){const _=B.dirname(t);de.attempt.mkdirSync(_,{mode:pc,recursive:!0})}l=de.retry.openSync(s)(o,"w",r.mode||fa),r.tmpCreated&&r.tmpCreated(o),ha(e)?de.retry.writeSync(s)(l,e,0,r.encoding||hc):hn(e)||de.retry.writeSync(s)(l,e,0,e.length,0),r.fsync!==!1&&(r.fsyncWait!==!1?de.retry.fsyncSync(s)(l):de.attempt.fsync(l)),de.retry.closeSync(s)(l),l=null,r.chown&&(r.chown.uid!==yc||r.chown.gid!==$c)&&de.attempt.chownSync(o,r.chown.uid,r.chown.gid),r.mode&&r.mode!==fa&&de.attempt.chmodSync(o,r.mode);try{de.retry.renameSync(s)(o,t)}catch(_){if(!_c(_)||_.code!=="ENAMETOOLONG")throw _;de.retry.renameSync(s)(o,he.truncate(t))}a(),o=null}finally{l&&de.attempt.closeSync(l),o&&he.purge(o)}}var An={exports:{}},Wn={},Ne={},Rt={},Bt={},U={},Xt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(w){if(super(),!t.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((N,I)=>`${N}${I}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((N,I)=>(I instanceof r&&(N[I.str]=(N[I.str]||0)+1),N),{})}}t._Code=n,t.nil=new n("");function s(m,...w){const N=[m[0]];let I=0;for(;I<w.length;)l(N,w[I]),N.push(m[++I]);return new n(N)}t._=s;const a=new n("+");function o(m,...w){const N=[p(m[0])];let I=0;for(;I<w.length;)N.push(a),l(N,w[I]),N.push(a,p(m[++I]));return c(N),new n(N)}t.str=o;function l(m,w){w instanceof n?m.push(...w._items):w instanceof r?m.push(w):m.push(d(w))}t.addCodeArg=l;function c(m){let w=1;for(;w<m.length-1;){if(m[w]===a){const N=u(m[w-1],m[w+1]);if(N!==void 0){m.splice(w-1,3,N);continue}m[w++]="+"}w++}}function u(m,w){if(w==='""')return m;if(m==='""')return w;if(typeof m=="string")return w instanceof r||m[m.length-1]!=='"'?void 0:typeof w!="string"?`${m.slice(0,-1)}${w}"`:w[0]==='"'?m.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(m instanceof r))return`"${m}${w.slice(1)}`}function i(m,w){return w.emptyStr()?m:m.emptyStr()?w:o`${m}${w}`}t.strConcat=i;function d(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:p(Array.isArray(m)?m.join(","):m)}function _(m){return new n(p(m))}t.stringify=_;function p(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=p;function y(m){return typeof m=="string"&&t.IDENTIFIER.test(m)?new n(`.${m}`):s`[${m}]`}t.getProperty=y;function $(m){if(typeof m=="string"&&t.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}t.getEsmExportName=$;function v(m){return new n(m.toString())}t.regexpCode=v})(Xt);var kn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Xt;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:u,parent:i}={}){this._names={},this._prefixes=u,this._parent=i}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const i=this._names[u]||this._nameGroup(u);return`${u}${i.index++}`}_nameGroup(u){var i,d;if(!((d=(i=this._parent)===null||i===void 0?void 0:i._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=s;class a extends e.Name{constructor(u,i){super(i),this.prefix=u}setValue(u,{property:i,itemIndex:d}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(i)}[${d}]`}}t.ValueScopeName=a;const o=(0,e._)`\n`;class l extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:e.nil}}get(){return this._scope}name(u){return new a(u,this._newName(u))}value(u,i){var d;if(i.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const _=this.toName(u),{prefix:p}=_,y=(d=i.key)!==null&&d!==void 0?d:i.ref;let $=this._values[p];if($){const w=$.get(y);if(w)return w}else $=this._values[p]=new Map;$.set(y,_);const v=this._scope[p]||(this._scope[p]=[]),m=v.length;return v[m]=i.ref,_.setValue(i,{property:p,itemIndex:m}),_}getValue(u,i){const d=this._values[u];if(d)return d.get(i)}scopeRefs(u,i=this._values){return this._reduceValues(i,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${u}${d.scopePath}`})}scopeCode(u=this._values,i,d){return this._reduceValues(u,_=>{if(_.value===void 0)throw new Error(`CodeGen: name "${_}" has no value`);return _.value.code},i,d)}_reduceValues(u,i,d={},_){let p=e.nil;for(const y in u){const $=u[y];if(!$)continue;const v=d[y]=d[y]||new Map;$.forEach(m=>{if(v.has(m))return;v.set(m,n.Started);let w=i(m);if(w){const N=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,e._)`${p}${N} ${m} = ${w};${this.opts._n}`}else if(w=_==null?void 0:_(m))p=(0,e._)`${p}${w}${this.opts._n}`;else throw new r(m);v.set(m,n.Completed)})}return p}}t.ValueScope=l})(kn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Xt,r=kn;var n=Xt;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=kn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(f,h){return this}}class o extends a{constructor(f,h,S){super(),this.varKind=f,this.name=h,this.rhs=S}render({es5:f,_n:h}){const S=f?r.varKinds.var:this.varKind,L=this.rhs===void 0?"":` = ${this.rhs}`;return`${S} ${this.name}${L};`+h}optimizeNames(f,h){if(f[this.name.str])return this.rhs&&(this.rhs=R(this.rhs,f,h)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class l extends a{constructor(f,h,S){super(),this.lhs=f,this.rhs=h,this.sideEffects=S}render({_n:f}){return`${this.lhs} = ${this.rhs};`+f}optimizeNames(f,h){if(!(this.lhs instanceof e.Name&&!f[this.lhs.str]&&!this.sideEffects))return this.rhs=R(this.rhs,f,h),this}get names(){const f=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Z(f,this.rhs)}}class c extends l{constructor(f,h,S,L){super(f,S,L),this.op=h}render({_n:f}){return`${this.lhs} ${this.op}= ${this.rhs};`+f}}class u extends a{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`${this.label}:`+f}}class i extends a{constructor(f){super(),this.label=f,this.names={}}render({_n:f}){return`break${this.label?` ${this.label}`:""};`+f}}class d extends a{constructor(f){super(),this.error=f}render({_n:f}){return`throw ${this.error};`+f}get names(){return this.error.names}}class _ extends a{constructor(f){super(),this.code=f}render({_n:f}){return`${this.code};`+f}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(f,h){return this.code=R(this.code,f,h),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class p extends a{constructor(f=[]){super(),this.nodes=f}render(f){return this.nodes.reduce((h,S)=>h+S.render(f),"")}optimizeNodes(){const{nodes:f}=this;let h=f.length;for(;h--;){const S=f[h].optimizeNodes();Array.isArray(S)?f.splice(h,1,...S):S?f[h]=S:f.splice(h,1)}return f.length>0?this:void 0}optimizeNames(f,h){const{nodes:S}=this;let L=S.length;for(;L--;){const M=S[L];M.optimizeNames(f,h)||(O(f,M.names),S.splice(L,1))}return S.length>0?this:void 0}get names(){return this.nodes.reduce((f,h)=>K(f,h.names),{})}}class y extends p{render(f){return"{"+f._n+super.render(f)+"}"+f._n}}class $ extends p{}class v extends y{}v.kind="else";class m extends y{constructor(f,h){super(h),this.condition=f}render(f){let h=`if(${this.condition})`+super.render(f);return this.else&&(h+="else "+this.else.render(f)),h}optimizeNodes(){super.optimizeNodes();const f=this.condition;if(f===!0)return this.nodes;let h=this.else;if(h){const S=h.optimizeNodes();h=this.else=Array.isArray(S)?new v(S):S}if(h)return f===!1?h instanceof m?h:h.nodes:this.nodes.length?this:new m(C(f),h instanceof m?[h]:h.nodes);if(!(f===!1||!this.nodes.length))return this}optimizeNames(f,h){var S;if(this.else=(S=this.else)===null||S===void 0?void 0:S.optimizeNames(f,h),!!(super.optimizeNames(f,h)||this.else))return this.condition=R(this.condition,f,h),this}get names(){const f=super.names;return Z(f,this.condition),this.else&&K(f,this.else.names),f}}m.kind="if";class w extends y{}w.kind="for";class N extends w{constructor(f){super(),this.iteration=f}render(f){return`for(${this.iteration})`+super.render(f)}optimizeNames(f,h){if(super.optimizeNames(f,h))return this.iteration=R(this.iteration,f,h),this}get names(){return K(super.names,this.iteration.names)}}class I extends w{constructor(f,h,S,L){super(),this.varKind=f,this.name=h,this.from=S,this.to=L}render(f){const h=f.es5?r.varKinds.var:this.varKind,{name:S,from:L,to:M}=this;return`for(${h} ${S}=${L}; ${S}<${M}; ${S}++)`+super.render(f)}get names(){const f=Z(super.names,this.from);return Z(f,this.to)}}class j extends w{constructor(f,h,S,L){super(),this.loop=f,this.varKind=h,this.name=S,this.iterable=L}render(f){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(f)}optimizeNames(f,h){if(super.optimizeNames(f,h))return this.iterable=R(this.iterable,f,h),this}get names(){return K(super.names,this.iterable.names)}}class Y extends y{constructor(f,h,S){super(),this.name=f,this.args=h,this.async=S}render(f){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(f)}}Y.kind="func";class re extends p{render(f){return"return "+super.render(f)}}re.kind="return";class $e extends y{render(f){let h="try"+super.render(f);return this.catch&&(h+=this.catch.render(f)),this.finally&&(h+=this.finally.render(f)),h}optimizeNodes(){var f,h;return super.optimizeNodes(),(f=this.catch)===null||f===void 0||f.optimizeNodes(),(h=this.finally)===null||h===void 0||h.optimizeNodes(),this}optimizeNames(f,h){var S,L;return super.optimizeNames(f,h),(S=this.catch)===null||S===void 0||S.optimizeNames(f,h),(L=this.finally)===null||L===void 0||L.optimizeNames(f,h),this}get names(){const f=super.names;return this.catch&&K(f,this.catch.names),this.finally&&K(f,this.finally.names),f}}class be extends y{constructor(f){super(),this.error=f}render(f){return`catch(${this.error})`+super.render(f)}}be.kind="catch";class Re extends y{render(f){return"finally"+super.render(f)}}Re.kind="finally";class F{constructor(f,h={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...h,_n:h.lines?`
`:""},this._extScope=f,this._scope=new r.Scope({parent:f}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(f){return this._scope.name(f)}scopeName(f){return this._extScope.name(f)}scopeValue(f,h){const S=this._extScope.value(f,h);return(this._values[S.prefix]||(this._values[S.prefix]=new Set)).add(S),S}getScopeValue(f,h){return this._extScope.getValue(f,h)}scopeRefs(f){return this._extScope.scopeRefs(f,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(f,h,S,L){const M=this._scope.toName(h);return S!==void 0&&L&&(this._constants[M.str]=S),this._leafNode(new o(f,M,S)),M}const(f,h,S){return this._def(r.varKinds.const,f,h,S)}let(f,h,S){return this._def(r.varKinds.let,f,h,S)}var(f,h,S){return this._def(r.varKinds.var,f,h,S)}assign(f,h,S){return this._leafNode(new l(f,h,S))}add(f,h){return this._leafNode(new c(f,t.operators.ADD,h))}code(f){return typeof f=="function"?f():f!==e.nil&&this._leafNode(new _(f)),this}object(...f){const h=["{"];for(const[S,L]of f)h.length>1&&h.push(","),h.push(S),(S!==L||this.opts.es5)&&(h.push(":"),(0,e.addCodeArg)(h,L));return h.push("}"),new e._Code(h)}if(f,h,S){if(this._blockNode(new m(f)),h&&S)this.code(h).else().code(S).endIf();else if(h)this.code(h).endIf();else if(S)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(f){return this._elseNode(new m(f))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(m,v)}_for(f,h){return this._blockNode(f),h&&this.code(h).endFor(),this}for(f,h){return this._for(new N(f),h)}forRange(f,h,S,L,M=this.opts.es5?r.varKinds.var:r.varKinds.let){const J=this._scope.toName(f);return this._for(new I(M,J,h,S),()=>L(J))}forOf(f,h,S,L=r.varKinds.const){const M=this._scope.toName(f);if(this.opts.es5){const J=h instanceof e.Name?h:this.var("_arr",h);return this.forRange("_i",0,(0,e._)`${J}.length`,W=>{this.var(M,(0,e._)`${J}[${W}]`),S(M)})}return this._for(new j("of",L,M,h),()=>S(M))}forIn(f,h,S,L=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(f,(0,e._)`Object.keys(${h})`,S);const M=this._scope.toName(f);return this._for(new j("in",L,M,h),()=>S(M))}endFor(){return this._endBlockNode(w)}label(f){return this._leafNode(new u(f))}break(f){return this._leafNode(new i(f))}return(f){const h=new re;if(this._blockNode(h),this.code(f),h.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(re)}try(f,h,S){if(!h&&!S)throw new Error('CodeGen: "try" without "catch" and "finally"');const L=new $e;if(this._blockNode(L),this.code(f),h){const M=this.name("e");this._currNode=L.catch=new be(M),h(M)}return S&&(this._currNode=L.finally=new Re,this.code(S)),this._endBlockNode(be,Re)}throw(f){return this._leafNode(new d(f))}block(f,h){return this._blockStarts.push(this._nodes.length),f&&this.code(f).endBlock(h),this}endBlock(f){const h=this._blockStarts.pop();if(h===void 0)throw new Error("CodeGen: not in self-balancing block");const S=this._nodes.length-h;if(S<0||f!==void 0&&S!==f)throw new Error(`CodeGen: wrong number of nodes: ${S} vs ${f} expected`);return this._nodes.length=h,this}func(f,h=e.nil,S,L){return this._blockNode(new Y(f,h,S)),L&&this.code(L).endFunc(),this}endFunc(){return this._endBlockNode(Y)}optimize(f=1){for(;f-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(f){return this._currNode.nodes.push(f),this}_blockNode(f){this._currNode.nodes.push(f),this._nodes.push(f)}_endBlockNode(f,h){const S=this._currNode;if(S instanceof f||h&&S instanceof h)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${h?`${f.kind}/${h.kind}`:f.kind}"`)}_elseNode(f){const h=this._currNode;if(!(h instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=h.else=f,this}get _root(){return this._nodes[0]}get _currNode(){const f=this._nodes;return f[f.length-1]}set _currNode(f){const h=this._nodes;h[h.length-1]=f}}t.CodeGen=F;function K(E,f){for(const h in f)E[h]=(E[h]||0)+(f[h]||0);return E}function Z(E,f){return f instanceof e._CodeOrName?K(E,f.names):E}function R(E,f,h){if(E instanceof e.Name)return S(E);if(!L(E))return E;return new e._Code(E._items.reduce((M,J)=>(J instanceof e.Name&&(J=S(J)),J instanceof e._Code?M.push(...J._items):M.push(J),M),[]));function S(M){const J=h[M.str];return J===void 0||f[M.str]!==1?M:(delete f[M.str],J)}function L(M){return M instanceof e._Code&&M._items.some(J=>J instanceof e.Name&&f[J.str]===1&&h[J.str]!==void 0)}}function O(E,f){for(const h in f)E[h]=(E[h]||0)-(f[h]||0)}function C(E){return typeof E=="boolean"||typeof E=="number"||E===null?!E:(0,e._)`!${b(E)}`}t.not=C;const A=g(t.operators.AND);function V(...E){return E.reduce(A)}t.and=V;const k=g(t.operators.OR);function P(...E){return E.reduce(k)}t.or=P;function g(E){return(f,h)=>f===e.nil?h:h===e.nil?f:(0,e._)`${b(f)} ${E} ${b(h)}`}function b(E){return E instanceof e.Name?E:(0,e._)`(${E})`}})(U);var T={};Object.defineProperty(T,"__esModule",{value:!0});T.checkStrictMode=T.getErrorPath=T.Type=T.useFunc=T.setEvaluated=T.evaluatedPropsToName=T.mergeEvaluated=T.eachItem=T.unescapeJsonPointer=T.escapeJsonPointer=T.escapeFragment=T.unescapeFragment=T.schemaRefOrVal=T.schemaHasRulesButRef=T.schemaHasRules=T.checkUnknownRules=T.alwaysValidSchema=T.toHash=void 0;const x=U,Pc=Xt;function Nc(t){const e={};for(const r of t)e[r]=!0;return e}T.toHash=Nc;function Rc(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(bo(t,e),!So(e,t.self.RULES.all))}T.alwaysValidSchema=Rc;function bo(t,e=t.schema){const{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;const s=n.RULES.keywords;for(const a in e)s[a]||Ro(t,`unknown keyword: "${a}"`)}T.checkUnknownRules=bo;function So(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(e[r])return!0;return!1}T.schemaHasRules=So;function Oc(t,e){if(typeof t=="boolean")return!t;for(const r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}T.schemaHasRulesButRef=Oc;function Ic({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,x._)`${r}`}return(0,x._)`${t}${e}${(0,x.getProperty)(n)}`}T.schemaRefOrVal=Ic;function Tc(t){return Po(decodeURIComponent(t))}T.unescapeFragment=Tc;function jc(t){return encodeURIComponent(Yn(t))}T.escapeFragment=jc;function Yn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}T.escapeJsonPointer=Yn;function Po(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}T.unescapeJsonPointer=Po;function Ac(t,e){if(Array.isArray(t))for(const r of t)e(r);else e(t)}T.eachItem=Ac;function pa({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,a,o,l)=>{const c=o===void 0?a:o instanceof x.Name?(a instanceof x.Name?t(s,a,o):e(s,a,o),o):a instanceof x.Name?(e(s,o,a),a):r(a,o);return l===x.Name&&!(c instanceof x.Name)?n(s,c):c}}T.mergeEvaluated={props:pa({mergeNames:(t,e,r)=>t.if((0,x._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,x._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,x._)`${r} || {}`).code((0,x._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,x._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,x._)`${r} || {}`),Jn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:{...t,...e},resultToName:No}),items:pa({mergeNames:(t,e,r)=>t.if((0,x._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,x._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,x._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,x._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function No(t,e){if(e===!0)return t.var("props",!0);const r=t.var("props",(0,x._)`{}`);return e!==void 0&&Jn(t,r,e),r}T.evaluatedPropsToName=No;function Jn(t,e,r){Object.keys(r).forEach(n=>t.assign((0,x._)`${e}${(0,x.getProperty)(n)}`,!0))}T.setEvaluated=Jn;const ma={};function kc(t,e){return t.scopeValue("func",{ref:e,code:ma[e.code]||(ma[e.code]=new Pc._Code(e.code))})}T.useFunc=kc;var Cn;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Cn||(T.Type=Cn={}));function Cc(t,e,r){if(t instanceof x.Name){const n=e===Cn.Num;return r?n?(0,x._)`"[" + ${t} + "]"`:(0,x._)`"['" + ${t} + "']"`:n?(0,x._)`"/" + ${t}`:(0,x._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,x.getProperty)(t).toString():"/"+Yn(t)}T.getErrorPath=Cc;function Ro(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}T.checkStrictMode=Ro;var we={};Object.defineProperty(we,"__esModule",{value:!0});const fe=U,Dc={data:new fe.Name("data"),valCxt:new fe.Name("valCxt"),instancePath:new fe.Name("instancePath"),parentData:new fe.Name("parentData"),parentDataProperty:new fe.Name("parentDataProperty"),rootData:new fe.Name("rootData"),dynamicAnchors:new fe.Name("dynamicAnchors"),vErrors:new fe.Name("vErrors"),errors:new fe.Name("errors"),this:new fe.Name("this"),self:new fe.Name("self"),scope:new fe.Name("scope"),json:new fe.Name("json"),jsonPos:new fe.Name("jsonPos"),jsonLen:new fe.Name("jsonLen"),jsonPart:new fe.Name("jsonPart")};we.default=Dc;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=U,r=T,n=we;t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:m})=>m?(0,e.str)`"${v}" keyword must be ${m} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function s(v,m=t.keywordError,w,N){const{it:I}=v,{gen:j,compositeRule:Y,allErrors:re}=I,$e=d(v,m,w);N??(Y||re)?c(j,$e):u(I,(0,e._)`[${$e}]`)}t.reportError=s;function a(v,m=t.keywordError,w){const{it:N}=v,{gen:I,compositeRule:j,allErrors:Y}=N,re=d(v,m,w);c(I,re),j||Y||u(N,n.default.vErrors)}t.reportExtraError=a;function o(v,m){v.assign(n.default.errors,m),v.if((0,e._)`${n.default.vErrors} !== null`,()=>v.if(m,()=>v.assign((0,e._)`${n.default.vErrors}.length`,m),()=>v.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function l({gen:v,keyword:m,schemaValue:w,data:N,errsCount:I,it:j}){if(I===void 0)throw new Error("ajv implementation error");const Y=v.name("err");v.forRange("i",I,n.default.errors,re=>{v.const(Y,(0,e._)`${n.default.vErrors}[${re}]`),v.if((0,e._)`${Y}.instancePath === undefined`,()=>v.assign((0,e._)`${Y}.instancePath`,(0,e.strConcat)(n.default.instancePath,j.errorPath))),v.assign((0,e._)`${Y}.schemaPath`,(0,e.str)`${j.errSchemaPath}/${m}`),j.opts.verbose&&(v.assign((0,e._)`${Y}.schema`,w),v.assign((0,e._)`${Y}.data`,N))})}t.extendErrors=l;function c(v,m){const w=v.const("err",m);v.if((0,e._)`${n.default.vErrors} === null`,()=>v.assign(n.default.vErrors,(0,e._)`[${w}]`),(0,e._)`${n.default.vErrors}.push(${w})`),v.code((0,e._)`${n.default.errors}++`)}function u(v,m){const{gen:w,validateName:N,schemaEnv:I}=v;I.$async?w.throw((0,e._)`new ${v.ValidationError}(${m})`):(w.assign((0,e._)`${N}.errors`,m),w.return(!1))}const i={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(v,m,w){const{createErrors:N}=v.it;return N===!1?(0,e._)`{}`:_(v,m,w)}function _(v,m,w={}){const{gen:N,it:I}=v,j=[p(I,w),y(v,w)];return $(v,m,j),N.object(...j)}function p({errorPath:v},{instancePath:m}){const w=m?(0,e.str)`${v}${(0,r.getErrorPath)(m,r.Type.Str)}`:v;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,w)]}function y({keyword:v,it:{errSchemaPath:m}},{schemaPath:w,parentSchema:N}){let I=N?m:(0,e.str)`${m}/${v}`;return w&&(I=(0,e.str)`${I}${(0,r.getErrorPath)(w,r.Type.Str)}`),[i.schemaPath,I]}function $(v,{params:m,message:w},N){const{keyword:I,data:j,schemaValue:Y,it:re}=v,{opts:$e,propertyName:be,topSchemaRef:Re,schemaPath:F}=re;N.push([i.keyword,I],[i.params,typeof m=="function"?m(v):m||(0,e._)`{}`]),$e.messages&&N.push([i.message,typeof w=="function"?w(v):w]),$e.verbose&&N.push([i.schema,Y],[i.parentSchema,(0,e._)`${Re}${F}`],[n.default.data,j]),be&&N.push([i.propertyName,be])}})(Bt);Object.defineProperty(Rt,"__esModule",{value:!0});Rt.boolOrEmptySchema=Rt.topBoolOrEmptySchema=void 0;const Lc=Bt,Mc=U,Vc=we,Fc={message:"boolean schema is false"};function zc(t){const{gen:e,schema:r,validateName:n}=t;r===!1?Oo(t,!1):typeof r=="object"&&r.$async===!0?e.return(Vc.default.data):(e.assign((0,Mc._)`${n}.errors`,null),e.return(!0))}Rt.topBoolOrEmptySchema=zc;function Uc(t,e){const{gen:r,schema:n}=t;n===!1?(r.var(e,!1),Oo(t)):r.var(e,!0)}Rt.boolOrEmptySchema=Uc;function Oo(t,e){const{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Lc.reportError)(s,Fc,void 0,e)}var se={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.getRules=pt.isJSONType=void 0;const qc=["string","number","integer","boolean","null","object","array"],Gc=new Set(qc);function Kc(t){return typeof t=="string"&&Gc.has(t)}pt.isJSONType=Kc;function Hc(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}pt.getRules=Hc;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.shouldUseRule=Ge.shouldUseGroup=Ge.schemaHasRulesForType=void 0;function Xc({schema:t,self:e},r){const n=e.RULES.types[r];return n&&n!==!0&&Io(t,n)}Ge.schemaHasRulesForType=Xc;function Io(t,e){return e.rules.some(r=>To(t,r))}Ge.shouldUseGroup=Io;function To(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Ge.shouldUseRule=To;Object.defineProperty(se,"__esModule",{value:!0});se.reportTypeError=se.checkDataTypes=se.checkDataType=se.coerceAndCheckDataType=se.getJSONTypes=se.getSchemaTypes=se.DataType=void 0;const Bc=pt,Wc=Ge,Yc=Bt,H=U,jo=T;var St;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(St||(se.DataType=St={}));function Jc(t){const e=Ao(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}se.getSchemaTypes=Jc;function Ao(t){const e=Array.isArray(t)?t:t?[t]:[];if(e.every(Bc.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}se.getJSONTypes=Ao;function xc(t,e){const{gen:r,data:n,opts:s}=t,a=Zc(e,s.coerceTypes),o=e.length>0&&!(a.length===0&&e.length===1&&(0,Wc.schemaHasRulesForType)(t,e[0]));if(o){const l=xn(e,n,s.strictNumbers,St.Wrong);r.if(l,()=>{a.length?Qc(t,e,a):Zn(t)})}return o}se.coerceAndCheckDataType=xc;const ko=new Set(["string","number","integer","boolean","null"]);function Zc(t,e){return e?t.filter(r=>ko.has(r)||e==="array"&&r==="array"):[]}function Qc(t,e,r){const{gen:n,data:s,opts:a}=t,o=n.let("dataType",(0,H._)`typeof ${s}`),l=n.let("coerced",(0,H._)`undefined`);a.coerceTypes==="array"&&n.if((0,H._)`${o} == 'object' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,(0,H._)`${s}[0]`).assign(o,(0,H._)`typeof ${s}`).if(xn(e,s,a.strictNumbers),()=>n.assign(l,s))),n.if((0,H._)`${l} !== undefined`);for(const u of r)(ko.has(u)||u==="array"&&a.coerceTypes==="array")&&c(u);n.else(),Zn(t),n.endIf(),n.if((0,H._)`${l} !== undefined`,()=>{n.assign(s,l),eu(t,l)});function c(u){switch(u){case"string":n.elseIf((0,H._)`${o} == "number" || ${o} == "boolean"`).assign(l,(0,H._)`"" + ${s}`).elseIf((0,H._)`${s} === null`).assign(l,(0,H._)`""`);return;case"number":n.elseIf((0,H._)`${o} == "boolean" || ${s} === null
              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(l,(0,H._)`+${s}`);return;case"integer":n.elseIf((0,H._)`${o} === "boolean" || ${s} === null
              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(l,(0,H._)`+${s}`);return;case"boolean":n.elseIf((0,H._)`${s} === "false" || ${s} === 0 || ${s} === null`).assign(l,!1).elseIf((0,H._)`${s} === "true" || ${s} === 1`).assign(l,!0);return;case"null":n.elseIf((0,H._)`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(l,null);return;case"array":n.elseIf((0,H._)`${o} === "string" || ${o} === "number"
              || ${o} === "boolean" || ${s} === null`).assign(l,(0,H._)`[${s}]`)}}}function eu({gen:t,parentData:e,parentDataProperty:r},n){t.if((0,H._)`${e} !== undefined`,()=>t.assign((0,H._)`${e}[${r}]`,n))}function Dn(t,e,r,n=St.Correct){const s=n===St.Correct?H.operators.EQ:H.operators.NEQ;let a;switch(t){case"null":return(0,H._)`${e} ${s} null`;case"array":a=(0,H._)`Array.isArray(${e})`;break;case"object":a=(0,H._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=o((0,H._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=o();break;default:return(0,H._)`typeof ${e} ${s} ${t}`}return n===St.Correct?a:(0,H.not)(a);function o(l=H.nil){return(0,H.and)((0,H._)`typeof ${e} == "number"`,l,r?(0,H._)`isFinite(${e})`:H.nil)}}se.checkDataType=Dn;function xn(t,e,r,n){if(t.length===1)return Dn(t[0],e,r,n);let s;const a=(0,jo.toHash)(t);if(a.array&&a.object){const o=(0,H._)`typeof ${e} != "object"`;s=a.null?o:(0,H._)`!${e} || ${o}`,delete a.null,delete a.array,delete a.object}else s=H.nil;a.number&&delete a.integer;for(const o in a)s=(0,H.and)(s,Dn(o,e,r,n));return s}se.checkDataTypes=xn;const tu={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,H._)`{type: ${t}}`:(0,H._)`{type: ${e}}`};function Zn(t){const e=ru(t);(0,Yc.reportError)(e,tu)}se.reportTypeError=Zn;function ru(t){const{gen:e,data:r,schema:n}=t,s=(0,jo.schemaRefOrVal)(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.assignDefaults=void 0;const gt=U,nu=T;function su(t,e){const{properties:r,items:n}=t.schema;if(e==="object"&&r)for(const s in r)ya(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>ya(t,a,s.default))}Ir.assignDefaults=su;function ya(t,e,r){const{gen:n,compositeRule:s,data:a,opts:o}=t;if(r===void 0)return;const l=(0,gt._)`${a}${(0,gt.getProperty)(e)}`;if(s){(0,nu.checkStrictMode)(t,`default is ignored for: ${l}`);return}let c=(0,gt._)`${l} === undefined`;o.useDefaults==="empty"&&(c=(0,gt._)`${c} || ${l} === null || ${l} === ""`),n.if(c,(0,gt._)`${l} = ${(0,gt.stringify)(r)}`)}var Fe={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const Q=U,Qn=T,Je=we,au=T;function ou(t,e){const{gen:r,data:n,it:s}=t;r.if(ts(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Q._)`${e}`},!0),t.error()})}X.checkReportMissingProp=ou;function iu({gen:t,data:e,it:{opts:r}},n,s){return(0,Q.or)(...n.map(a=>(0,Q.and)(ts(t,e,a,r.ownProperties),(0,Q._)`${s} = ${a}`)))}X.checkMissingProp=iu;function cu(t,e){t.setParams({missingProperty:e},!0),t.error()}X.reportMissingProp=cu;function Co(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Q._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=Co;function es(t,e,r){return(0,Q._)`${Co(t)}.call(${e}, ${r})`}X.isOwnProperty=es;function uu(t,e,r,n){const s=(0,Q._)`${e}${(0,Q.getProperty)(r)} !== undefined`;return n?(0,Q._)`${s} && ${es(t,e,r)}`:s}X.propertyInData=uu;function ts(t,e,r,n){const s=(0,Q._)`${e}${(0,Q.getProperty)(r)} === undefined`;return n?(0,Q.or)(s,(0,Q.not)(es(t,e,r))):s}X.noPropertyInData=ts;function Do(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}X.allSchemaProperties=Do;function lu(t,e){return Do(e).filter(r=>!(0,Qn.alwaysValidSchema)(t,e[r]))}X.schemaProperties=lu;function fu({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},l,c,u){const i=u?(0,Q._)`${t}, ${e}, ${n}${s}`:e,d=[[Je.default.instancePath,(0,Q.strConcat)(Je.default.instancePath,a)],[Je.default.parentData,o.parentData],[Je.default.parentDataProperty,o.parentDataProperty],[Je.default.rootData,Je.default.rootData]];o.opts.dynamicRef&&d.push([Je.default.dynamicAnchors,Je.default.dynamicAnchors]);const _=(0,Q._)`${i}, ${r.object(...d)}`;return c!==Q.nil?(0,Q._)`${l}.call(${c}, ${_})`:(0,Q._)`${l}(${_})`}X.callValidateCode=fu;const du=(0,Q._)`new RegExp`;function hu({gen:t,it:{opts:e}},r){const n=e.unicodeRegExp?"u":"",{regExp:s}=e.code,a=s(r,n);return t.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Q._)`${s.code==="new RegExp"?du:(0,au.useFunc)(t,s)}(${r}, ${n})`})}X.usePattern=hu;function pu(t){const{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){const l=e.let("valid",!0);return o(()=>e.assign(l,!1)),l}return e.var(a,!0),o(()=>e.break()),a;function o(l){const c=e.const("len",(0,Q._)`${r}.length`);e.forRange("i",0,c,u=>{t.subschema({keyword:n,dataProp:u,dataPropType:Qn.Type.Num},a),e.if((0,Q.not)(a),l)})}}X.validateArray=pu;function mu(t){const{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,Qn.alwaysValidSchema)(s,c))&&!s.opts.unevaluated)return;const o=e.let("valid",!1),l=e.name("_valid");e.block(()=>r.forEach((c,u)=>{const i=t.subschema({keyword:n,schemaProp:u,compositeRule:!0},l);e.assign(o,(0,Q._)`${o} || ${l}`),t.mergeValidEvaluated(i,l)||e.if((0,Q.not)(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}X.validateUnion=mu;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.validateKeywordUsage=Fe.validSchemaType=Fe.funcKeywordCode=Fe.macroKeywordCode=void 0;const pe=U,it=we,yu=X,$u=Bt;function gu(t,e){const{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=t,l=e.macro.call(o.self,s,a,o),c=Lo(r,n,l);o.opts.validateSchema!==!1&&o.self.validateSchema(l,!0);const u=r.name("valid");t.subschema({schema:l,schemaPath:pe.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:c,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}Fe.macroKeywordCode=gu;function vu(t,e){var r;const{gen:n,keyword:s,schema:a,parentSchema:o,$data:l,it:c}=t;Eu(c,e);const u=!l&&e.compile?e.compile.call(c.self,a,o,c):e.validate,i=Lo(n,s,u),d=n.let("valid");t.block$data(d,_),t.ok((r=e.valid)!==null&&r!==void 0?r:d);function _(){if(e.errors===!1)$(),e.modifying&&$a(t),v(()=>t.error());else{const m=e.async?p():y();e.modifying&&$a(t),v(()=>_u(t,m))}}function p(){const m=n.let("ruleErrs",null);return n.try(()=>$((0,pe._)`await `),w=>n.assign(d,!1).if((0,pe._)`${w} instanceof ${c.ValidationError}`,()=>n.assign(m,(0,pe._)`${w}.errors`),()=>n.throw(w))),m}function y(){const m=(0,pe._)`${i}.errors`;return n.assign(m,null),$(pe.nil),m}function $(m=e.async?(0,pe._)`await `:pe.nil){const w=c.opts.passContext?it.default.this:it.default.self,N=!("compile"in e&&!l||e.schema===!1);n.assign(d,(0,pe._)`${m}${(0,yu.callValidateCode)(t,i,w,N)}`,e.modifying)}function v(m){var w;n.if((0,pe.not)((w=e.valid)!==null&&w!==void 0?w:d),m)}}Fe.funcKeywordCode=vu;function $a(t){const{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,(0,pe._)`${n.parentData}[${n.parentDataProperty}]`))}function _u(t,e){const{gen:r}=t;r.if((0,pe._)`Array.isArray(${e})`,()=>{r.assign(it.default.vErrors,(0,pe._)`${it.default.vErrors} === null ? ${e} : ${it.default.vErrors}.concat(${e})`).assign(it.default.errors,(0,pe._)`${it.default.vErrors}.length`),(0,$u.extendErrors)(t)},()=>t.error())}function Eu({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Lo(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,pe.stringify)(r)})}function wu(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t>"u")}Fe.validSchemaType=wu;function bu({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");const o=s.dependencies;if(o!=null&&o.some(l=>!Object.prototype.hasOwnProperty.call(t,l)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){const c=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Fe.validateKeywordUsage=bu;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.extendSubschemaMode=st.extendSubschemaData=st.getSubschema=void 0;const Me=U,Mo=T;function Su(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const l=t.schema[e];return r===void 0?{schema:l,schemaPath:(0,Me._)`${t.schemaPath}${(0,Me.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:l[r],schemaPath:(0,Me._)`${t.schemaPath}${(0,Me.getProperty)(e)}${(0,Me.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Mo.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}st.getSubschema=Su;function Pu(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=e;if(r!==void 0){const{errorPath:u,dataPathArr:i,opts:d}=e,_=l.let("data",(0,Me._)`${e.data}${(0,Me.getProperty)(r)}`,!0);c(_),t.errorPath=(0,Me.str)`${u}${(0,Mo.getErrorPath)(r,n,d.jsPropertySyntax)}`,t.parentDataProperty=(0,Me._)`${r}`,t.dataPathArr=[...i,t.parentDataProperty]}if(s!==void 0){const u=s instanceof Me.Name?s:l.let("data",s,!0);c(u),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function c(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}st.extendSubschemaData=Pu;function Nu(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}st.extendSubschemaMode=Nu;var ue={},Vo=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},Fo={exports:{}},nt=Fo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};yr(e,n,s,t,"",t)};nt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};nt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};nt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};nt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function yr(t,e,r,n,s,a,o,l,c,u){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,o,l,c,u);for(var i in n){var d=n[i];if(Array.isArray(d)){if(i in nt.arrayKeywords)for(var _=0;_<d.length;_++)yr(t,e,r,d[_],s+"/"+i+"/"+_,a,s,i,n,_)}else if(i in nt.propsKeywords){if(d&&typeof d=="object")for(var p in d)yr(t,e,r,d[p],s+"/"+i+"/"+Ru(p),a,s,i,n,p)}else(i in nt.keywords||t.allKeys&&!(i in nt.skipKeywords))&&yr(t,e,r,d,s+"/"+i,a,s,i,n)}r(n,s,a,o,l,c,u)}}function Ru(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Ou=Fo.exports;Object.defineProperty(ue,"__esModule",{value:!0});ue.getSchemaRefs=ue.resolveUrl=ue.normalizeId=ue._getFullPath=ue.getFullPath=ue.inlineRef=void 0;const Iu=T,Tu=Vo,ju=Ou,Au=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ku(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Ln(t):e?zo(t)<=e:!1}ue.inlineRef=ku;const Cu=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Ln(t){for(const e in t){if(Cu.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Ln)||typeof r=="object"&&Ln(r))return!0}return!1}function zo(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Au.has(r)&&(typeof t[r]=="object"&&(0,Iu.eachItem)(t[r],n=>e+=zo(n)),e===1/0))return 1/0}return e}function Uo(t,e="",r){r!==!1&&(e=Pt(e));const n=t.parse(e);return qo(t,n)}ue.getFullPath=Uo;function qo(t,e){return t.serialize(e).split("#")[0]+"#"}ue._getFullPath=qo;const Du=/#\/?$/;function Pt(t){return t?t.replace(Du,""):""}ue.normalizeId=Pt;function Lu(t,e,r){return r=Pt(r),t.resolve(e,r)}ue.resolveUrl=Lu;const Mu=/^[a-z_][-a-z0-9._]*$/i;function Vu(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=Pt(t[r]||e),a={"":s},o=Uo(n,s,!1),l={},c=new Set;return ju(t,{allKeys:!0},(d,_,p,y)=>{if(y===void 0)return;const $=o+_;let v=a[y];typeof d[r]=="string"&&(v=m.call(this,d[r])),w.call(this,d.$anchor),w.call(this,d.$dynamicAnchor),a[_]=v;function m(N){const I=this.opts.uriResolver.resolve;if(N=Pt(v?I(v,N):N),c.has(N))throw i(N);c.add(N);let j=this.refs[N];return typeof j=="string"&&(j=this.refs[j]),typeof j=="object"?u(d,j.schema,N):N!==Pt($)&&(N[0]==="#"?(u(d,l[N],N),l[N]=d):this.refs[N]=$),N}function w(N){if(typeof N=="string"){if(!Mu.test(N))throw new Error(`invalid anchor "${N}"`);m.call(this,`#${N}`)}}}),l;function u(d,_,p){if(_!==void 0&&!Tu(d,_))throw i(p)}function i(d){return new Error(`reference "${d}" resolves to more than one schema`)}}ue.getSchemaRefs=Vu;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getData=Ne.KeywordCxt=Ne.validateFunctionCode=void 0;const Go=Rt,ga=se,rs=Ge,wr=se,Fu=Ir,Ut=Fe,pn=st,D=U,z=we,zu=ue,Ke=T,Lt=Bt;function Uu(t){if(Xo(t)&&(Bo(t),Ho(t))){Ku(t);return}Ko(t,()=>(0,Go.topBoolOrEmptySchema)(t))}Ne.validateFunctionCode=Uu;function Ko({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,(0,D._)`${z.default.data}, ${z.default.valCxt}`,n.$async,()=>{t.code((0,D._)`"use strict"; ${va(r,s)}`),Gu(t,s),t.code(a)}):t.func(e,(0,D._)`${z.default.data}, ${qu(s)}`,n.$async,()=>t.code(va(r,s)).code(a))}function qu(t){return(0,D._)`{${z.default.instancePath}="", ${z.default.parentData}, ${z.default.parentDataProperty}, ${z.default.rootData}=${z.default.data}${t.dynamicRef?(0,D._)`, ${z.default.dynamicAnchors}={}`:D.nil}}={}`}function Gu(t,e){t.if(z.default.valCxt,()=>{t.var(z.default.instancePath,(0,D._)`${z.default.valCxt}.${z.default.instancePath}`),t.var(z.default.parentData,(0,D._)`${z.default.valCxt}.${z.default.parentData}`),t.var(z.default.parentDataProperty,(0,D._)`${z.default.valCxt}.${z.default.parentDataProperty}`),t.var(z.default.rootData,(0,D._)`${z.default.valCxt}.${z.default.rootData}`),e.dynamicRef&&t.var(z.default.dynamicAnchors,(0,D._)`${z.default.valCxt}.${z.default.dynamicAnchors}`)},()=>{t.var(z.default.instancePath,(0,D._)`""`),t.var(z.default.parentData,(0,D._)`undefined`),t.var(z.default.parentDataProperty,(0,D._)`undefined`),t.var(z.default.rootData,z.default.data),e.dynamicRef&&t.var(z.default.dynamicAnchors,(0,D._)`{}`)})}function Ku(t){const{schema:e,opts:r,gen:n}=t;Ko(t,()=>{r.$comment&&e.$comment&&Yo(t),Yu(t),n.let(z.default.vErrors,null),n.let(z.default.errors,0),r.unevaluated&&Hu(t),Wo(t),Zu(t)})}function Hu(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,D._)`${r}.evaluated`),e.if((0,D._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,D._)`${t.evaluated}.props`,(0,D._)`undefined`)),e.if((0,D._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,D._)`${t.evaluated}.items`,(0,D._)`undefined`))}function va(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,D._)`/*# sourceURL=${r} */`:D.nil}function Xu(t,e){if(Xo(t)&&(Bo(t),Ho(t))){Bu(t,e);return}(0,Go.boolOrEmptySchema)(t,e)}function Ho({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Xo(t){return typeof t.schema!="boolean"}function Bu(t,e){const{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Yo(t),Ju(t),xu(t);const a=n.const("_errs",z.default.errors);Wo(t,a),n.var(e,(0,D._)`${a} === ${z.default.errors}`)}function Bo(t){(0,Ke.checkUnknownRules)(t),Wu(t)}function Wo(t,e){if(t.opts.jtd)return _a(t,[],!1,e);const r=(0,ga.getSchemaTypes)(t.schema),n=(0,ga.coerceAndCheckDataType)(t,r);_a(t,r,!n,e)}function Wu(t){const{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&(0,Ke.schemaHasRulesButRef)(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Yu(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ke.checkStrictMode)(t,"default is ignored in the schema root")}function Ju(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,zu.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function xu(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Yo({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){const a=r.$comment;if(s.$comment===!0)t.code((0,D._)`${z.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){const o=(0,D.str)`${n}/$comment`,l=t.scopeValue("root",{ref:e.root});t.code((0,D._)`${z.default.self}.opts.$comment(${a}, ${o}, ${l}.schema)`)}}function Zu(t){const{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if((0,D._)`${z.default.errors} === 0`,()=>e.return(z.default.data),()=>e.throw((0,D._)`new ${s}(${z.default.vErrors})`)):(e.assign((0,D._)`${n}.errors`,z.default.vErrors),a.unevaluated&&Qu(t),e.return((0,D._)`${z.default.errors} === 0`))}function Qu({gen:t,evaluated:e,props:r,items:n}){r instanceof D.Name&&t.assign((0,D._)`${e}.props`,r),n instanceof D.Name&&t.assign((0,D._)`${e}.items`,n)}function _a(t,e,r,n){const{gen:s,schema:a,data:o,allErrors:l,opts:c,self:u}=t,{RULES:i}=u;if(a.$ref&&(c.ignoreKeywordsWithRef||!(0,Ke.schemaHasRulesButRef)(a,i))){s.block(()=>Zo(t,"$ref",i.all.$ref.definition));return}c.jtd||el(t,e),s.block(()=>{for(const _ of i.rules)d(_);d(i.post)});function d(_){(0,rs.shouldUseGroup)(a,_)&&(_.type?(s.if((0,wr.checkDataType)(_.type,o,c.strictNumbers)),Ea(t,_),e.length===1&&e[0]===_.type&&r&&(s.else(),(0,wr.reportTypeError)(t)),s.endIf()):Ea(t,_),l||s.if((0,D._)`${z.default.errors} === ${n||0}`))}}function Ea(t,e){const{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&(0,Fu.assignDefaults)(t,e.type),r.block(()=>{for(const a of e.rules)(0,rs.shouldUseRule)(n,a)&&Zo(t,a.keyword,a.definition,e.type)})}function el(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(tl(t,e),t.opts.allowUnionTypes||rl(t,e),nl(t,t.dataTypes))}function tl(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Jo(t.dataTypes,r)||ns(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),al(t,e)}}function rl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ns(t,"use allowUnionTypes to allow union type keyword")}function nl(t,e){const r=t.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,rs.shouldUseRule)(t.schema,s)){const{type:a}=s.definition;a.length&&!a.some(o=>sl(e,o))&&ns(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function sl(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Jo(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function al(t,e){const r=[];for(const n of t.dataTypes)Jo(e,n)?r.push(n):e.includes("integer")&&n==="number"&&r.push("integer");t.dataTypes=r}function ns(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Ke.checkStrictMode)(t,e,t.opts.strictTypes)}class xo{constructor(e,r,n){if((0,Ut.validateKeywordUsage)(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ke.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Qo(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ut.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",z.default.errors))}result(e,r,n){this.failResult((0,D.not)(e),r,n)}failResult(e,r,n){this.gen.if(e),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,D.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,D._)`${r} !== undefined && (${(0,D.or)(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?Lt.reportExtraError:Lt.reportError)(this,this.def.error,r)}$dataError(){(0,Lt.reportError)(this,this.def.$dataError||Lt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Lt.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=D.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=D.nil,r=D.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if((0,D.or)((0,D._)`${s} === undefined`,r)),e!==D.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==D.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return(0,D.or)(o(),l());function o(){if(n.length){if(!(r instanceof D.Name))throw new Error("ajv implementation error");const c=Array.isArray(n)?n:[n];return(0,D._)`${(0,wr.checkDataTypes)(c,r,a.opts.strictNumbers,wr.DataType.Wrong)}`}return D.nil}function l(){if(s.validateSchema){const c=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,D._)`!${c}(${r})`}return D.nil}}subschema(e,r){const n=(0,pn.getSubschema)(this.it,e);(0,pn.extendSubschemaData)(n,this.it,e),(0,pn.extendSubschemaMode)(n,e);const s={...this.it,...n,items:void 0,props:void 0};return Xu(s,r),s}mergeEvaluated(e,r){const{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Ke.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Ke.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,D.Name)),!0}}Ne.KeywordCxt=xo;function Zo(t,e,r,n){const s=new xo(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?(0,Ut.funcKeywordCode)(s,r):"macro"in r?(0,Ut.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,Ut.funcKeywordCode)(s,r)}const ol=/^\/(?:[^~]|~0|~1)*$/,il=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Qo(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return z.default.rootData;if(t[0]==="/"){if(!ol.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=z.default.rootData}else{const u=il.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const i=+u[1];if(s=u[2],s==="#"){if(i>=e)throw new Error(c("property/index",i));return n[e-i]}if(i>e)throw new Error(c("data",i));if(a=r[e-i],!s)return a}let o=a;const l=s.split("/");for(const u of l)u&&(a=(0,D._)`${a}${(0,D.getProperty)((0,Ke.unescapeJsonPointer)(u))}`,o=(0,D._)`${o} && ${a}`);return o;function c(u,i){return`Cannot access ${u} ${i} levels up, current level is ${e}`}}Ne.getData=Qo;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});class cl extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Ot.default=cl;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});const mn=ue;class ul extends Error{constructor(e,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,mn.resolveUrl)(e,r,n),this.missingSchema=(0,mn.normalizeId)((0,mn.getFullPath)(e,this.missingRef))}}yt.default=ul;var me={};Object.defineProperty(me,"__esModule",{value:!0});me.resolveSchema=me.getCompilingSchema=me.resolveRef=me.compileSchema=me.SchemaEnv=void 0;const Oe=U,ll=Ot,ot=we,je=ue,wa=T,fl=Ne;class Tr{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}me.SchemaEnv=Tr;function ss(t){const e=ei.call(this,t);if(e)return e;const r=(0,je.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Oe.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a});let l;t.$async&&(l=o.scopeValue("Error",{ref:ll.default,code:(0,Oe._)`require("ajv/dist/runtime/validation_error").default`}));const c=o.scopeName("validate");t.validateName=c;const u={gen:o,allErrors:this.opts.allErrors,data:ot.default.data,parentData:ot.default.parentData,parentDataProperty:ot.default.parentDataProperty,dataNames:[ot.default.data],dataPathArr:[Oe.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Oe.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:l,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Oe.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Oe._)`""`,opts:this.opts,self:this};let i;try{this._compilations.add(t),(0,fl.validateFunctionCode)(u),o.optimize(this.opts.code.optimize);const d=o.toString();i=`${o.scopeRefs(ot.default.scope)}return ${d}`,this.opts.code.process&&(i=this.opts.code.process(i,t));const p=new Function(`${ot.default.self}`,`${ot.default.scope}`,i)(this,this.scope.get());if(this.scope.value(c,{ref:p}),p.errors=null,p.schema=t.schema,p.schemaEnv=t,t.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:c,validateCode:d,scopeValues:o._values}),this.opts.unevaluated){const{props:y,items:$}=u;p.evaluated={props:y instanceof Oe.Name?void 0:y,items:$ instanceof Oe.Name?void 0:$,dynamicProps:y instanceof Oe.Name,dynamicItems:$ instanceof Oe.Name},p.source&&(p.source.evaluated=(0,Oe.stringify)(p.evaluated))}return t.validate=p,t}catch(d){throw delete t.validate,delete t.validateName,i&&this.logger.error("Error compiling schema, function code:",i),d}finally{this._compilations.delete(t)}}me.compileSchema=ss;function dl(t,e,r){var n;r=(0,je.resolveUrl)(this.opts.uriResolver,e,r);const s=t.refs[r];if(s)return s;let a=ml.call(this,t,r);if(a===void 0){const o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;o&&(a=new Tr({schema:o,schemaId:l,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=hl.call(this,a)}me.resolveRef=dl;function hl(t){return(0,je.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ss.call(this,t)}function ei(t){for(const e of this._compilations)if(pl(e,t))return e}me.getCompilingSchema=ei;function pl(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function ml(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||jr.call(this,t,e)}function jr(t,e){const r=this.opts.uriResolver.parse(e),n=(0,je._getFullPath)(this.opts.uriResolver,r);let s=(0,je.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&n===s)return yn.call(this,r,t);const a=(0,je.normalizeId)(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){const l=jr.call(this,t,o);return typeof(l==null?void 0:l.schema)!="object"?void 0:yn.call(this,r,l)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||ss.call(this,o),a===(0,je.normalizeId)(e)){const{schema:l}=o,{schemaId:c}=this.opts,u=l[c];return u&&(s=(0,je.resolveUrl)(this.opts.uriResolver,s,u)),new Tr({schema:l,schemaId:c,root:t,baseId:s})}return yn.call(this,r,o)}}me.resolveSchema=jr;const yl=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function yn(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const l of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,wa.unescapeFragment)(l)];if(c===void 0)return;r=c;const u=typeof r=="object"&&r[this.opts.schemaId];!yl.has(l)&&u&&(e=(0,je.resolveUrl)(this.opts.uriResolver,e,u))}let a;if(typeof r!="boolean"&&r.$ref&&!(0,wa.schemaHasRulesButRef)(r,this.RULES)){const l=(0,je.resolveUrl)(this.opts.uriResolver,e,r.$ref);a=jr.call(this,n,l)}const{schemaId:o}=this.opts;if(a=a||new Tr({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}const $l="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gl="Meta-schema for $data reference (JSON AnySchema extension proposal)",vl="object",_l=["$data"],El={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wl=!1,bl={$id:$l,description:gl,type:vl,required:_l,properties:El,additionalProperties:wl};var as={},Ar={exports:{}};const Sl=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),ti=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function ri(t){let e="",r=0,n=0;for(n=0;n<t.length;n++)if(r=t[n].charCodeAt(0),r!==48){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n];break}for(n+=1;n<t.length;n++){if(r=t[n].charCodeAt(0),!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";e+=t[n]}return e}const Pl=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function ba(t){return t.length=0,!0}function Nl(t,e,r){if(t.length){const n=ri(t);if(n!=="")e.push(n);else return r.error=!0,!1;t.length=0}return!0}function Rl(t){let e=0;const r={error:!1,address:"",zone:""},n=[],s=[];let a=!1,o=!1,l=Nl;for(let c=0;c<t.length;c++){const u=t[c];if(!(u==="["||u==="]"))if(u===":"){if(a===!0&&(o=!0),!l(s,n,r))break;if(++e>7){r.error=!0;break}c>0&&t[c-1]===":"&&(a=!0),n.push(":");continue}else if(u==="%"){if(!l(s,n,r))break;l=ba}else{s.push(u);continue}}return s.length&&(l===ba?r.zone=s.join(""):o?n.push(s.join("")):n.push(ri(s))),r.address=n.join(""),r}function ni(t){if(Ol(t,":")<2)return{host:t,isIPV6:!1};const e=Rl(t);if(e.error)return{host:t,isIPV6:!1};{let r=e.address,n=e.address;return e.zone&&(r+="%"+e.zone,n+="%25"+e.zone),{host:r,isIPV6:!0,escapedHost:n}}}function Ol(t,e){let r=0;for(let n=0;n<t.length;n++)t[n]===e&&r++;return r}function Il(t){let e=t;const r=[];let n=-1,s=0;for(;s=e.length;){if(s===1){if(e===".")break;if(e==="/"){r.push("/");break}else{r.push(e);break}}else if(s===2){if(e[0]==="."){if(e[1]===".")break;if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&(e[1]==="."||e[1]==="/")){r.push("/");break}}else if(s===3&&e==="/.."){r.length!==0&&r.pop(),r.push("/");break}if(e[0]==="."){if(e[1]==="."){if(e[2]==="/"){e=e.slice(3);continue}}else if(e[1]==="/"){e=e.slice(2);continue}}else if(e[0]==="/"&&e[1]==="."){if(e[2]==="/"){e=e.slice(2);continue}else if(e[2]==="."&&e[3]==="/"){e=e.slice(3),r.length!==0&&r.pop();continue}}if((n=e.indexOf("/",1))===-1){r.push(e);break}else r.push(e.slice(0,n)),e=e.slice(n)}return r.join("")}function Tl(t,e){const r=e!==!0?escape:unescape;return t.scheme!==void 0&&(t.scheme=r(t.scheme)),t.userinfo!==void 0&&(t.userinfo=r(t.userinfo)),t.host!==void 0&&(t.host=r(t.host)),t.path!==void 0&&(t.path=r(t.path)),t.query!==void 0&&(t.query=r(t.query)),t.fragment!==void 0&&(t.fragment=r(t.fragment)),t}function jl(t){const e=[];if(t.userinfo!==void 0&&(e.push(t.userinfo),e.push("@")),t.host!==void 0){let r=unescape(t.host);if(!ti(r)){const n=ni(r);n.isIPV6===!0?r=`[${n.escapedHost}]`:r=t.host}e.push(r)}return(typeof t.port=="number"||typeof t.port=="string")&&(e.push(":"),e.push(String(t.port))),e.length?e.join(""):void 0}var si={nonSimpleDomain:Pl,recomposeAuthority:jl,normalizeComponentEncoding:Tl,removeDotSegments:Il,isIPv4:ti,isUUID:Sl,normalizeIPv6:ni};const{isUUID:Al}=si,kl=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function ai(t){return t.secure===!0?!0:t.secure===!1?!1:t.scheme?t.scheme.length===3&&(t.scheme[0]==="w"||t.scheme[0]==="W")&&(t.scheme[1]==="s"||t.scheme[1]==="S")&&(t.scheme[2]==="s"||t.scheme[2]==="S"):!1}function oi(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function ii(t){const e=String(t.scheme).toLowerCase()==="https";return(t.port===(e?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function Cl(t){return t.secure=ai(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function Dl(t){if((t.port===(ai(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[e,r]=t.resourceName.split("?");t.path=e&&e!=="/"?e:void 0,t.query=r,t.resourceName=void 0}return t.fragment=void 0,t}function Ll(t,e){if(!t.path)return t.error="URN can not be parsed",t;const r=t.path.match(kl);if(r){const n=e.scheme||t.scheme||"urn";t.nid=r[1].toLowerCase(),t.nss=r[2];const s=`${n}:${e.nid||t.nid}`,a=os(s);t.path=void 0,a&&(t=a.parse(t,e))}else t.error=t.error||"URN can not be parsed.";return t}function Ml(t,e){if(t.nid===void 0)throw new Error("URN without nid cannot be serialized");const r=e.scheme||t.scheme||"urn",n=t.nid.toLowerCase(),s=`${r}:${e.nid||n}`,a=os(s);a&&(t=a.serialize(t,e));const o=t,l=t.nss;return o.path=`${n||e.nid}:${l}`,e.skipEscape=!0,o}function Vl(t,e){const r=t;return r.uuid=r.nss,r.nss=void 0,!e.tolerant&&(!r.uuid||!Al(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function Fl(t){const e=t;return e.nss=(t.uuid||"").toLowerCase(),e}const ci={scheme:"http",domainHost:!0,parse:oi,serialize:ii},zl={scheme:"https",domainHost:ci.domainHost,parse:oi,serialize:ii},$r={scheme:"ws",domainHost:!0,parse:Cl,serialize:Dl},Ul={scheme:"wss",domainHost:$r.domainHost,parse:$r.parse,serialize:$r.serialize},ql={scheme:"urn",parse:Ll,serialize:Ml,skipNormalize:!0},Gl={scheme:"urn:uuid",parse:Vl,serialize:Fl,skipNormalize:!0},br={http:ci,https:zl,ws:$r,wss:Ul,urn:ql,"urn:uuid":Gl};Object.setPrototypeOf(br,null);function os(t){return t&&(br[t]||br[t.toLowerCase()])||void 0}var Kl={SCHEMES:br,getSchemeHandler:os};const{normalizeIPv6:Hl,removeDotSegments:Ft,recomposeAuthority:Xl,normalizeComponentEncoding:tr,isIPv4:Bl,nonSimpleDomain:Wl}=si,{SCHEMES:Yl,getSchemeHandler:ui}=Kl;function Jl(t,e){return typeof t=="string"?t=ze(He(t,e),e):typeof t=="object"&&(t=He(ze(t,e),e)),t}function xl(t,e,r){const n=r?Object.assign({scheme:"null"},r):{scheme:"null"},s=li(He(t,n),He(e,n),n,!0);return n.skipEscape=!0,ze(s,n)}function li(t,e,r,n){const s={};return n||(t=He(ze(t,r),r),e=He(ze(e,r),r)),r=r||{},!r.tolerant&&e.scheme?(s.scheme=e.scheme,s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=Ft(e.path||""),s.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(s.userinfo=e.userinfo,s.host=e.host,s.port=e.port,s.path=Ft(e.path||""),s.query=e.query):(e.path?(e.path[0]==="/"?s.path=Ft(e.path):((t.userinfo!==void 0||t.host!==void 0||t.port!==void 0)&&!t.path?s.path="/"+e.path:t.path?s.path=t.path.slice(0,t.path.lastIndexOf("/")+1)+e.path:s.path=e.path,s.path=Ft(s.path)),s.query=e.query):(s.path=t.path,e.query!==void 0?s.query=e.query:s.query=t.query),s.userinfo=t.userinfo,s.host=t.host,s.port=t.port),s.scheme=t.scheme),s.fragment=e.fragment,s}function Zl(t,e,r){return typeof t=="string"?(t=unescape(t),t=ze(tr(He(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=ze(tr(t,!0),{...r,skipEscape:!0})),typeof e=="string"?(e=unescape(e),e=ze(tr(He(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=ze(tr(e,!0),{...r,skipEscape:!0})),t.toLowerCase()===e.toLowerCase()}function ze(t,e){const r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},n=Object.assign({},e),s=[],a=ui(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),r.path!==void 0&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),n.reference!=="suffix"&&r.scheme&&s.push(r.scheme,":");const o=Xl(r);if(o!==void 0&&(n.reference!=="suffix"&&s.push("//"),s.push(o),r.path&&r.path[0]!=="/"&&s.push("/")),r.path!==void 0){let l=r.path;!n.absolutePath&&(!a||!a.absolutePath)&&(l=Ft(l)),o===void 0&&l[0]==="/"&&l[1]==="/"&&(l="/%2F"+l.slice(2)),s.push(l)}return r.query!==void 0&&s.push("?",r.query),r.fragment!==void 0&&s.push("#",r.fragment),s.join("")}const Ql=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function He(t,e){const r=Object.assign({},e),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let s=!1;r.reference==="suffix"&&(r.scheme?t=r.scheme+":"+t:t="//"+t);const a=t.match(Ql);if(a){if(n.scheme=a[1],n.userinfo=a[3],n.host=a[4],n.port=parseInt(a[5],10),n.path=a[6]||"",n.query=a[7],n.fragment=a[8],isNaN(n.port)&&(n.port=a[5]),n.host)if(Bl(n.host)===!1){const c=Hl(n.host);n.host=c.host.toLowerCase(),s=c.isIPV6}else s=!0;n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&n.query===void 0&&!n.path?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");const o=ui(r.scheme||n.scheme);if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&n.host&&(r.domainHost||o&&o.domainHost)&&s===!1&&Wl(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(l){n.error=n.error||"Host's domain name can not be converted to ASCII: "+l}(!o||o&&!o.skipNormalize)&&(t.indexOf("%")!==-1&&(n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),n.host!==void 0&&(n.host=unescape(n.host))),n.path&&(n.path=escape(unescape(n.path))),n.fragment&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),o&&o.parse&&o.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}const is={SCHEMES:Yl,normalize:Jl,resolve:xl,resolveComponent:li,equal:Zl,serialize:ze,parse:He};Ar.exports=is;Ar.exports.default=is;Ar.exports.fastUri=is;var ef=Ar.exports;Object.defineProperty(as,"__esModule",{value:!0});const fi=ef;fi.code='require("ajv/dist/runtime/uri").default';as.default=fi;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Ne;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=U;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ot,s=yt,a=pt,o=me,l=U,c=ue,u=se,i=T,d=bl,_=as,p=(P,g)=>new RegExp(P,g);p.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function N(P){var g,b,E,f,h,S,L,M,J,W,ae,$t,Br,Wr,Yr,Jr,xr,Zr,Qr,en,tn,rn,nn,sn,an;const Ct=P.strict,on=(g=P.code)===null||g===void 0?void 0:g.optimize,ta=on===!0||on===void 0?1:on||0,ra=(E=(b=P.code)===null||b===void 0?void 0:b.regExp)!==null&&E!==void 0?E:p,Ui=(f=P.uriResolver)!==null&&f!==void 0?f:_.default;return{strictSchema:(S=(h=P.strictSchema)!==null&&h!==void 0?h:Ct)!==null&&S!==void 0?S:!0,strictNumbers:(M=(L=P.strictNumbers)!==null&&L!==void 0?L:Ct)!==null&&M!==void 0?M:!0,strictTypes:(W=(J=P.strictTypes)!==null&&J!==void 0?J:Ct)!==null&&W!==void 0?W:"log",strictTuples:($t=(ae=P.strictTuples)!==null&&ae!==void 0?ae:Ct)!==null&&$t!==void 0?$t:"log",strictRequired:(Wr=(Br=P.strictRequired)!==null&&Br!==void 0?Br:Ct)!==null&&Wr!==void 0?Wr:!1,code:P.code?{...P.code,optimize:ta,regExp:ra}:{optimize:ta,regExp:ra},loopRequired:(Yr=P.loopRequired)!==null&&Yr!==void 0?Yr:w,loopEnum:(Jr=P.loopEnum)!==null&&Jr!==void 0?Jr:w,meta:(xr=P.meta)!==null&&xr!==void 0?xr:!0,messages:(Zr=P.messages)!==null&&Zr!==void 0?Zr:!0,inlineRefs:(Qr=P.inlineRefs)!==null&&Qr!==void 0?Qr:!0,schemaId:(en=P.schemaId)!==null&&en!==void 0?en:"$id",addUsedSchema:(tn=P.addUsedSchema)!==null&&tn!==void 0?tn:!0,validateSchema:(rn=P.validateSchema)!==null&&rn!==void 0?rn:!0,validateFormats:(nn=P.validateFormats)!==null&&nn!==void 0?nn:!0,unicodeRegExp:(sn=P.unicodeRegExp)!==null&&sn!==void 0?sn:!0,int32range:(an=P.int32range)!==null&&an!==void 0?an:!0,uriResolver:Ui}}class I{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...N(g)};const{es5:b,lines:E}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:$,es5:b,lines:E}),this.logger=K(g.logger);const f=g.validateFormats;g.validateFormats=!1,this.RULES=(0,a.getRules)(),j.call(this,v,g,"NOT SUPPORTED"),j.call(this,m,g,"DEPRECATED","warn"),this._metaOpts=Re.call(this),g.formats&&$e.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&be.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),re.call(this),g.validateFormats=f}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:b,schemaId:E}=this.opts;let f=d;E==="id"&&(f={...d},f.id=f.$id,delete f.$id),b&&g&&this.addMetaSchema(f,f[E],!1)}defaultMeta(){const{meta:g,schemaId:b}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[b]||g:void 0}validate(g,b){let E;if(typeof g=="string"){if(E=this.getSchema(g),!E)throw new Error(`no schema with key or ref "${g}"`)}else E=this.compile(g);const f=E(b);return"$async"in E||(this.errors=E.errors),f}compile(g,b){const E=this._addSchema(g,b);return E.validate||this._compileSchemaEnv(E)}compileAsync(g,b){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:E}=this.opts;return f.call(this,g,b);async function f(W,ae){await h.call(this,W.$schema);const $t=this._addSchema(W,ae);return $t.validate||S.call(this,$t)}async function h(W){W&&!this.getSchema(W)&&await f.call(this,{$ref:W},!0)}async function S(W){try{return this._compileSchemaEnv(W)}catch(ae){if(!(ae instanceof s.default))throw ae;return L.call(this,ae),await M.call(this,ae.missingSchema),S.call(this,W)}}function L({missingSchema:W,missingRef:ae}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${ae} cannot be resolved`)}async function M(W){const ae=await J.call(this,W);this.refs[W]||await h.call(this,ae.$schema),this.refs[W]||this.addSchema(ae,W,b)}async function J(W){const ae=this._loading[W];if(ae)return ae;try{return await(this._loading[W]=E(W))}finally{delete this._loading[W]}}}addSchema(g,b,E,f=this.opts.validateSchema){if(Array.isArray(g)){for(const S of g)this.addSchema(S,void 0,E,f);return this}let h;if(typeof g=="object"){const{schemaId:S}=this.opts;if(h=g[S],h!==void 0&&typeof h!="string")throw new Error(`schema ${S} must be string`)}return b=(0,c.normalizeId)(b||h),this._checkUnique(b),this.schemas[b]=this._addSchema(g,E,b,f,!0),this}addMetaSchema(g,b,E=this.opts.validateSchema){return this.addSchema(g,b,!0,E),this}validateSchema(g,b){if(typeof g=="boolean")return!0;let E;if(E=g.$schema,E!==void 0&&typeof E!="string")throw new Error("$schema must be a string");if(E=E||this.opts.defaultMeta||this.defaultMeta(),!E)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const f=this.validate(E,g);if(!f&&b){const h="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(h);else throw new Error(h)}return f}getSchema(g){let b;for(;typeof(b=Y.call(this,g))=="string";)g=b;if(b===void 0){const{schemaId:E}=this.opts,f=new o.SchemaEnv({schema:{},schemaId:E});if(b=o.resolveSchema.call(this,f,g),!b)return;this.refs[g]=b}return b.validate||this._compileSchemaEnv(b)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const b=Y.call(this,g);return typeof b=="object"&&this._cache.delete(b.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const b=g;this._cache.delete(b);let E=g[this.opts.schemaId];return E&&(E=(0,c.normalizeId)(E),delete this.schemas[E],delete this.refs[E]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const b of g)this.addKeyword(b);return this}addKeyword(g,b){let E;if(typeof g=="string")E=g,typeof b=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),b.keyword=E);else if(typeof g=="object"&&b===void 0){if(b=g,E=b.keyword,Array.isArray(E)&&!E.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(R.call(this,E,b),!b)return(0,i.eachItem)(E,h=>O.call(this,h)),this;A.call(this,b);const f={...b,type:(0,u.getJSONTypes)(b.type),schemaType:(0,u.getJSONTypes)(b.schemaType)};return(0,i.eachItem)(E,f.type.length===0?h=>O.call(this,h,f):h=>f.type.forEach(S=>O.call(this,h,f,S))),this}getKeyword(g){const b=this.RULES.all[g];return typeof b=="object"?b.definition:!!b}removeKeyword(g){const{RULES:b}=this;delete b.keywords[g],delete b.all[g];for(const E of b.rules){const f=E.rules.findIndex(h=>h.keyword===g);f>=0&&E.rules.splice(f,1)}return this}addFormat(g,b){return typeof b=="string"&&(b=new RegExp(b)),this.formats[g]=b,this}errorsText(g=this.errors,{separator:b=", ",dataVar:E="data"}={}){return!g||g.length===0?"No errors":g.map(f=>`${E}${f.instancePath} ${f.message}`).reduce((f,h)=>f+b+h)}$dataMetaSchema(g,b){const E=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const f of b){const h=f.split("/").slice(1);let S=g;for(const L of h)S=S[L];for(const L in E){const M=E[L];if(typeof M!="object")continue;const{$data:J}=M.definition,W=S[L];J&&W&&(S[L]=k(W))}}return g}_removeAllSchemas(g,b){for(const E in g){const f=g[E];(!b||b.test(E))&&(typeof f=="string"?delete g[E]:f&&!f.meta&&(this._cache.delete(f.schema),delete g[E]))}}_addSchema(g,b,E,f=this.opts.validateSchema,h=this.opts.addUsedSchema){let S;const{schemaId:L}=this.opts;if(typeof g=="object")S=g[L];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let M=this._cache.get(g);if(M!==void 0)return M;E=(0,c.normalizeId)(S||E);const J=c.getSchemaRefs.call(this,g,E);return M=new o.SchemaEnv({schema:g,schemaId:L,meta:b,baseId:E,localRefs:J}),this._cache.set(M.schema,M),h&&!E.startsWith("#")&&(E&&this._checkUnique(E),this.refs[E]=M),f&&this.validateSchema(g,!0),M}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):o.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const b=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,g)}finally{this.opts=b}}}I.ValidationError=n.default,I.MissingRefError=s.default,t.default=I;function j(P,g,b,E="error"){for(const f in P){const h=f;h in g&&this.logger[E](`${b}: option ${f}. ${P[h]}`)}}function Y(P){return P=(0,c.normalizeId)(P),this.schemas[P]||this.refs[P]}function re(){const P=this.opts.schemas;if(P)if(Array.isArray(P))this.addSchema(P);else for(const g in P)this.addSchema(P[g],g)}function $e(){for(const P in this.opts.formats){const g=this.opts.formats[P];g&&this.addFormat(P,g)}}function be(P){if(Array.isArray(P)){this.addVocabulary(P);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in P){const b=P[g];b.keyword||(b.keyword=g),this.addKeyword(b)}}function Re(){const P={...this.opts};for(const g of y)delete P[g];return P}const F={log(){},warn(){},error(){}};function K(P){if(P===!1)return F;if(P===void 0)return console;if(P.log&&P.warn&&P.error)return P;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function R(P,g){const{RULES:b}=this;if((0,i.eachItem)(P,E=>{if(b.keywords[E])throw new Error(`Keyword ${E} is already defined`);if(!Z.test(E))throw new Error(`Keyword ${E} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function O(P,g,b){var E;const f=g==null?void 0:g.post;if(b&&f)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:h}=this;let S=f?h.post:h.rules.find(({type:M})=>M===b);if(S||(S={type:b,rules:[]},h.rules.push(S)),h.keywords[P]=!0,!g)return;const L={keyword:P,definition:{...g,type:(0,u.getJSONTypes)(g.type),schemaType:(0,u.getJSONTypes)(g.schemaType)}};g.before?C.call(this,S,L,g.before):S.rules.push(L),h.all[P]=L,(E=g.implements)===null||E===void 0||E.forEach(M=>this.addKeyword(M))}function C(P,g,b){const E=P.rules.findIndex(f=>f.keyword===b);E>=0?P.rules.splice(E,0,g):(P.rules.push(g),this.logger.warn(`rule ${b} is not defined`))}function A(P){let{metaSchema:g}=P;g!==void 0&&(P.$data&&this.opts.$data&&(g=k(g)),P.validateSchema=this.compile(g,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function k(P){return{anyOf:[P,V]}}})(Wn);var cs={},kr={},us={};Object.defineProperty(us,"__esModule",{value:!0});const tf={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};us.default=tf;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.callRef=Xe.getValidate=void 0;const rf=yt,Sa=X,ve=U,vt=we,Pa=me,rr=T,nf={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:o,opts:l,self:c}=n,{root:u}=a;if((r==="#"||r==="#/")&&s===u.baseId)return d();const i=Pa.resolveRef.call(c,u,s,r);if(i===void 0)throw new rf.default(n.opts.uriResolver,s,r);if(i instanceof Pa.SchemaEnv)return _(i);return p(i);function d(){if(a===u)return gr(t,o,a,a.$async);const y=e.scopeValue("root",{ref:u});return gr(t,(0,ve._)`${y}.validate`,u,u.$async)}function _(y){const $=di(t,y);gr(t,$,y,y.$async)}function p(y){const $=e.scopeValue("schema",l.code.source===!0?{ref:y,code:(0,ve.stringify)(y)}:{ref:y}),v=e.name("valid"),m=t.subschema({schema:y,dataTypes:[],schemaPath:ve.nil,topSchemaRef:$,errSchemaPath:r},v);t.mergeEvaluated(m),t.ok(v)}}};function di(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,ve._)`${r.scopeValue("wrapper",{ref:e})}.validate`}Xe.getValidate=di;function gr(t,e,r,n){const{gen:s,it:a}=t,{allErrors:o,schemaEnv:l,opts:c}=a,u=c.passContext?vt.default.this:ve.nil;n?i():d();function i(){if(!l.$async)throw new Error("async schema referenced by sync schema");const y=s.let("valid");s.try(()=>{s.code((0,ve._)`await ${(0,Sa.callValidateCode)(t,e,u)}`),p(e),o||s.assign(y,!0)},$=>{s.if((0,ve._)`!(${$} instanceof ${a.ValidationError})`,()=>s.throw($)),_($),o||s.assign(y,!1)}),t.ok(y)}function d(){t.result((0,Sa.callValidateCode)(t,e,u),()=>p(e),()=>_(e))}function _(y){const $=(0,ve._)`${y}.errors`;s.assign(vt.default.vErrors,(0,ve._)`${vt.default.vErrors} === null ? ${$} : ${vt.default.vErrors}.concat(${$})`),s.assign(vt.default.errors,(0,ve._)`${vt.default.vErrors}.length`)}function p(y){var $;if(!a.opts.unevaluated)return;const v=($=r==null?void 0:r.validate)===null||$===void 0?void 0:$.evaluated;if(a.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(a.props=rr.mergeEvaluated.props(s,v.props,a.props));else{const m=s.var("props",(0,ve._)`${y}.evaluated.props`);a.props=rr.mergeEvaluated.props(s,m,a.props,ve.Name)}if(a.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(a.items=rr.mergeEvaluated.items(s,v.items,a.items));else{const m=s.var("items",(0,ve._)`${y}.evaluated.items`);a.items=rr.mergeEvaluated.items(s,m,a.items,ve.Name)}}}Xe.callRef=gr;Xe.default=nf;Object.defineProperty(kr,"__esModule",{value:!0});const sf=us,af=Xe,of=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sf.default,af.default];kr.default=of;var Cr={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Sr=U,xe=Sr.operators,Pr={maximum:{okStr:"<=",ok:xe.LTE,fail:xe.GT},minimum:{okStr:">=",ok:xe.GTE,fail:xe.LT},exclusiveMaximum:{okStr:"<",ok:xe.LT,fail:xe.GTE},exclusiveMinimum:{okStr:">",ok:xe.GT,fail:xe.LTE}},cf={message:({keyword:t,schemaCode:e})=>(0,Sr.str)`must be ${Pr[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Sr._)`{comparison: ${Pr[t].okStr}, limit: ${e}}`},uf={keyword:Object.keys(Pr),type:"number",schemaType:"number",$data:!0,error:cf,code(t){const{keyword:e,data:r,schemaCode:n}=t;t.fail$data((0,Sr._)`${r} ${Pr[e].fail} ${n} || isNaN(${r})`)}};ls.default=uf;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});const qt=U,lf={message:({schemaCode:t})=>(0,qt.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,qt._)`{multipleOf: ${t}}`},ff={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:lf,code(t){const{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,o=e.let("res"),l=a?(0,qt._)`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:(0,qt._)`${o} !== parseInt(${o})`;t.fail$data((0,qt._)`(${n} === 0 || (${o} = ${r}/${n}, ${l}))`)}};fs.default=ff;var ds={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});function hi(t){const e=t.length;let r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}hs.default=hi;hi.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ds,"__esModule",{value:!0});const ct=U,df=T,hf=hs,pf={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,ct.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,ct._)`{limit: ${t}}`},mf={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pf,code(t){const{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?ct.operators.GT:ct.operators.LT,o=s.opts.unicode===!1?(0,ct._)`${r}.length`:(0,ct._)`${(0,df.useFunc)(t.gen,hf.default)}(${r})`;t.fail$data((0,ct._)`${o} ${a} ${n}`)}};ds.default=mf;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const yf=X,Nr=U,$f={message:({schemaCode:t})=>(0,Nr.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Nr._)`{pattern: ${t}}`},gf={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:$f,code(t){const{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,o=a.opts.unicodeRegExp?"u":"",l=r?(0,Nr._)`(new RegExp(${s}, ${o}))`:(0,yf.usePattern)(t,n);t.fail$data((0,Nr._)`!${l}.test(${e})`)}};ps.default=gf;var ms={};Object.defineProperty(ms,"__esModule",{value:!0});const Gt=U,vf={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Gt.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Gt._)`{limit: ${t}}`},_f={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:vf,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?Gt.operators.GT:Gt.operators.LT;t.fail$data((0,Gt._)`Object.keys(${r}).length ${s} ${n}`)}};ms.default=_f;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const Mt=X,Kt=U,Ef=T,wf={message:({params:{missingProperty:t}})=>(0,Kt.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Kt._)`{missingProperty: ${t}}`},bf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:wf,code(t){const{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:o}=t,{opts:l}=o;if(!a&&r.length===0)return;const c=r.length>=l.loopRequired;if(o.allErrors?u():i(),l.strictRequired){const p=t.parentSchema.properties,{definedProperties:y}=t.it;for(const $ of r)if((p==null?void 0:p[$])===void 0&&!y.has($)){const v=o.schemaEnv.baseId+o.errSchemaPath,m=`required property "${$}" is not defined at "${v}" (strictRequired)`;(0,Ef.checkStrictMode)(o,m,o.opts.strictRequired)}}function u(){if(c||a)t.block$data(Kt.nil,d);else for(const p of r)(0,Mt.checkReportMissingProp)(t,p)}function i(){const p=e.let("missing");if(c||a){const y=e.let("valid",!0);t.block$data(y,()=>_(p,y)),t.ok(y)}else e.if((0,Mt.checkMissingProp)(t,r,p)),(0,Mt.reportMissingProp)(t,p),e.else()}function d(){e.forOf("prop",n,p=>{t.setParams({missingProperty:p}),e.if((0,Mt.noPropertyInData)(e,s,p,l.ownProperties),()=>t.error())})}function _(p,y){t.setParams({missingProperty:p}),e.forOf(p,n,()=>{e.assign(y,(0,Mt.propertyInData)(e,s,p,l.ownProperties)),e.if((0,Kt.not)(y),()=>{t.error(),e.break()})},Kt.nil)}}};ys.default=bf;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const Ht=U,Sf={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Ht.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ht._)`{limit: ${t}}`},Pf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Sf,code(t){const{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?Ht.operators.GT:Ht.operators.LT;t.fail$data((0,Ht._)`${r}.length ${s} ${n}`)}};$s.default=Pf;var gs={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});const pi=Vo;pi.code='require("ajv/dist/runtime/equal").default';Wt.default=pi;Object.defineProperty(gs,"__esModule",{value:!0});const $n=se,ce=U,Nf=T,Rf=Wt,Of={message:({params:{i:t,j:e}})=>(0,ce.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,ce._)`{i: ${t}, j: ${e}}`},If={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Of,code(t){const{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:l}=t;if(!n&&!s)return;const c=e.let("valid"),u=a.items?(0,$n.getSchemaTypes)(a.items):[];t.block$data(c,i,(0,ce._)`${o} === false`),t.ok(c);function i(){const y=e.let("i",(0,ce._)`${r}.length`),$=e.let("j");t.setParams({i:y,j:$}),e.assign(c,!0),e.if((0,ce._)`${y} > 1`,()=>(d()?_:p)(y,$))}function d(){return u.length>0&&!u.some(y=>y==="object"||y==="array")}function _(y,$){const v=e.name("item"),m=(0,$n.checkDataTypes)(u,v,l.opts.strictNumbers,$n.DataType.Wrong),w=e.const("indices",(0,ce._)`{}`);e.for((0,ce._)`;${y}--;`,()=>{e.let(v,(0,ce._)`${r}[${y}]`),e.if(m,(0,ce._)`continue`),u.length>1&&e.if((0,ce._)`typeof ${v} == "string"`,(0,ce._)`${v} += "_"`),e.if((0,ce._)`typeof ${w}[${v}] == "number"`,()=>{e.assign($,(0,ce._)`${w}[${v}]`),t.error(),e.assign(c,!1).break()}).code((0,ce._)`${w}[${v}] = ${y}`)})}function p(y,$){const v=(0,Nf.useFunc)(e,Rf.default),m=e.name("outer");e.label(m).for((0,ce._)`;${y}--;`,()=>e.for((0,ce._)`${$} = ${y}; ${$}--;`,()=>e.if((0,ce._)`${v}(${r}[${y}], ${r}[${$}])`,()=>{t.error(),e.assign(c,!1).break(m)})))}}};gs.default=If;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Mn=U,Tf=T,jf=Wt,Af={message:"must be equal to constant",params:({schemaCode:t})=>(0,Mn._)`{allowedValue: ${t}}`},kf={keyword:"const",$data:!0,error:Af,code(t){const{gen:e,data:r,$data:n,schemaCode:s,schema:a}=t;n||a&&typeof a=="object"?t.fail$data((0,Mn._)`!${(0,Tf.useFunc)(e,jf.default)}(${r}, ${s})`):t.fail((0,Mn._)`${a} !== ${r}`)}};vs.default=kf;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const zt=U,Cf=T,Df=Wt,Lf={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,zt._)`{allowedValues: ${t}}`},Mf={keyword:"enum",schemaType:"array",$data:!0,error:Lf,code(t){const{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:o}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const l=s.length>=o.opts.loopEnum;let c;const u=()=>c??(c=(0,Cf.useFunc)(e,Df.default));let i;if(l||n)i=e.let("valid"),t.block$data(i,d);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const p=e.const("vSchema",a);i=(0,zt.or)(...s.map((y,$)=>_(p,$)))}t.pass(i);function d(){e.assign(i,!1),e.forOf("v",a,p=>e.if((0,zt._)`${u()}(${r}, ${p})`,()=>e.assign(i,!0).break()))}function _(p,y){const $=s[y];return typeof $=="object"&&$!==null?(0,zt._)`${u()}(${r}, ${p}[${y}])`:(0,zt._)`${r} === ${$}`}}};_s.default=Mf;Object.defineProperty(Cr,"__esModule",{value:!0});const Vf=ls,Ff=fs,zf=ds,Uf=ps,qf=ms,Gf=ys,Kf=$s,Hf=gs,Xf=vs,Bf=_s,Wf=[Vf.default,Ff.default,zf.default,Uf.default,qf.default,Gf.default,Kf.default,Hf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Xf.default,Bf.default];Cr.default=Wf;var Dr={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.validateAdditionalItems=void 0;const ut=U,Vn=T,Yf={message:({params:{len:t}})=>(0,ut.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ut._)`{limit: ${t}}`},Jf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Yf,code(t){const{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){(0,Vn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}mi(t,n)}};function mi(t,e){const{gen:r,schema:n,data:s,keyword:a,it:o}=t;o.items=!0;const l=r.const("len",(0,ut._)`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass((0,ut._)`${l} <= ${e.length}`);else if(typeof n=="object"&&!(0,Vn.alwaysValidSchema)(o,n)){const u=r.var("valid",(0,ut._)`${l} <= ${e.length}`);r.if((0,ut.not)(u),()=>c(u)),t.ok(u)}function c(u){r.forRange("i",e.length,l,i=>{t.subschema({keyword:a,dataProp:i,dataPropType:Vn.Type.Num},u),o.allErrors||r.if((0,ut.not)(u),()=>r.break())})}}It.validateAdditionalItems=mi;It.default=Jf;var Es={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateTuple=void 0;const Na=U,vr=T,xf=X,Zf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return yi(t,"additionalItems",e);r.items=!0,!(0,vr.alwaysValidSchema)(r,e)&&t.ok((0,xf.validateArray)(t))}};function yi(t,e,r=t.schema){const{gen:n,parentSchema:s,data:a,keyword:o,it:l}=t;i(s),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=vr.mergeEvaluated.items(n,r.length,l.items));const c=n.name("valid"),u=n.const("len",(0,Na._)`${a}.length`);r.forEach((d,_)=>{(0,vr.alwaysValidSchema)(l,d)||(n.if((0,Na._)`${u} > ${_}`,()=>t.subschema({keyword:o,schemaProp:_,dataProp:_},c)),t.ok(c))});function i(d){const{opts:_,errSchemaPath:p}=l,y=r.length,$=y===d.minItems&&(y===d.maxItems||d[e]===!1);if(_.strictTuples&&!$){const v=`"${o}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${p}"`;(0,vr.checkStrictMode)(l,v,_.strictTuples)}}}Tt.validateTuple=yi;Tt.default=Zf;Object.defineProperty(Es,"__esModule",{value:!0});const Qf=Tt,ed={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Qf.validateTuple)(t,"items")};Es.default=ed;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Ra=U,td=T,rd=X,nd=It,sd={message:({params:{len:t}})=>(0,Ra.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Ra._)`{limit: ${t}}`},ad={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:sd,code(t){const{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!(0,td.alwaysValidSchema)(n,e)&&(s?(0,nd.validateAdditionalItems)(t,s):t.ok((0,rd.validateArray)(t)))}};ws.default=ad;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Pe=U,nr=T,od={message:({params:{min:t,max:e}})=>e===void 0?(0,Pe.str)`must contain at least ${t} valid item(s)`:(0,Pe.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,Pe._)`{minContains: ${t}}`:(0,Pe._)`{minContains: ${t}, maxContains: ${e}}`},id={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:od,code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;let o,l;const{minContains:c,maxContains:u}=n;a.opts.next?(o=c===void 0?1:c,l=u):o=1;const i=e.const("len",(0,Pe._)`${s}.length`);if(t.setParams({min:o,max:l}),l===void 0&&o===0){(0,nr.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&o>l){(0,nr.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,nr.alwaysValidSchema)(a,r)){let $=(0,Pe._)`${i} >= ${o}`;l!==void 0&&($=(0,Pe._)`${$} && ${i} <= ${l}`),t.pass($);return}a.items=!0;const d=e.name("valid");l===void 0&&o===1?p(d,()=>e.if(d,()=>e.break())):o===0?(e.let(d,!0),l!==void 0&&e.if((0,Pe._)`${s}.length > 0`,_)):(e.let(d,!1),_()),t.result(d,()=>t.reset());function _(){const $=e.name("_valid"),v=e.let("count",0);p($,()=>e.if($,()=>y(v)))}function p($,v){e.forRange("i",0,i,m=>{t.subschema({keyword:"contains",dataProp:m,dataPropType:nr.Type.Num,compositeRule:!0},$),v()})}function y($){e.code((0,Pe._)`${$}++`),l===void 0?e.if((0,Pe._)`${$} >= ${o}`,()=>e.assign(d,!0).break()):(e.if((0,Pe._)`${$} > ${l}`,()=>e.assign(d,!1).break()),o===1?e.assign(d,!0):e.if((0,Pe._)`${$} >= ${o}`,()=>e.assign(d,!0)))}}};bs.default=id;var Lr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=U,r=T,n=X;t.error={message:({params:{property:c,depsCount:u,deps:i}})=>{const d=u===1?"property":"properties";return(0,e.str)`must have ${d} ${i} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:i,missingProperty:d}})=>(0,e._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${i}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[u,i]=a(c);o(c,u),l(c,i)}};function a({schema:c}){const u={},i={};for(const d in c){if(d==="__proto__")continue;const _=Array.isArray(c[d])?u:i;_[d]=c[d]}return[u,i]}function o(c,u=c.schema){const{gen:i,data:d,it:_}=c;if(Object.keys(u).length===0)return;const p=i.let("missing");for(const y in u){const $=u[y];if($.length===0)continue;const v=(0,n.propertyInData)(i,d,y,_.opts.ownProperties);c.setParams({property:y,depsCount:$.length,deps:$.join(", ")}),_.allErrors?i.if(v,()=>{for(const m of $)(0,n.checkReportMissingProp)(c,m)}):(i.if((0,e._)`${v} && (${(0,n.checkMissingProp)(c,$,p)})`),(0,n.reportMissingProp)(c,p),i.else())}}t.validatePropertyDeps=o;function l(c,u=c.schema){const{gen:i,data:d,keyword:_,it:p}=c,y=i.name("valid");for(const $ in u)(0,r.alwaysValidSchema)(p,u[$])||(i.if((0,n.propertyInData)(i,d,$,p.opts.ownProperties),()=>{const v=c.subschema({keyword:_,schemaProp:$},y);c.mergeValidEvaluated(v,y)},()=>i.var(y,!0)),c.ok(y))}t.validateSchemaDeps=l,t.default=s})(Lr);var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const $i=U,cd=T,ud={message:"property name must be valid",params:({params:t})=>(0,$i._)`{propertyName: ${t.propertyName}}`},ld={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ud,code(t){const{gen:e,schema:r,data:n,it:s}=t;if((0,cd.alwaysValidSchema)(s,r))return;const a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if((0,$i.not)(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};Ss.default=ld;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const sr=X,Ie=U,fd=we,ar=T,dd={message:"must NOT have additional properties",params:({params:t})=>(0,Ie._)`{additionalProperty: ${t.additionalProperty}}`},hd={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:dd,code(t){const{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");const{allErrors:l,opts:c}=o;if(o.props=!0,c.removeAdditional!=="all"&&(0,ar.alwaysValidSchema)(o,r))return;const u=(0,sr.allSchemaProperties)(n.properties),i=(0,sr.allSchemaProperties)(n.patternProperties);d(),t.ok((0,Ie._)`${a} === ${fd.default.errors}`);function d(){e.forIn("key",s,v=>{!u.length&&!i.length?y(v):e.if(_(v),()=>y(v))})}function _(v){let m;if(u.length>8){const w=(0,ar.schemaRefOrVal)(o,n.properties,"properties");m=(0,sr.isOwnProperty)(e,w,v)}else u.length?m=(0,Ie.or)(...u.map(w=>(0,Ie._)`${v} === ${w}`)):m=Ie.nil;return i.length&&(m=(0,Ie.or)(m,...i.map(w=>(0,Ie._)`${(0,sr.usePattern)(t,w)}.test(${v})`))),(0,Ie.not)(m)}function p(v){e.code((0,Ie._)`delete ${s}[${v}]`)}function y(v){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){p(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),l||e.break();return}if(typeof r=="object"&&!(0,ar.alwaysValidSchema)(o,r)){const m=e.name("valid");c.removeAdditional==="failing"?($(v,m,!1),e.if((0,Ie.not)(m),()=>{t.reset(),p(v)})):($(v,m),l||e.if((0,Ie.not)(m),()=>e.break()))}}function $(v,m,w){const N={keyword:"additionalProperties",dataProp:v,dataPropType:ar.Type.Str};w===!1&&Object.assign(N,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(N,m)}}};Mr.default=hd;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const pd=Ne,Oa=X,gn=T,Ia=Mr,md={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ia.default.code(new pd.KeywordCxt(a,Ia.default,"additionalProperties"));const o=(0,Oa.allSchemaProperties)(r);for(const d of o)a.definedProperties.add(d);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=gn.mergeEvaluated.props(e,(0,gn.toHash)(o),a.props));const l=o.filter(d=>!(0,gn.alwaysValidSchema)(a,r[d]));if(l.length===0)return;const c=e.name("valid");for(const d of l)u(d)?i(d):(e.if((0,Oa.propertyInData)(e,s,d,a.opts.ownProperties)),i(d),a.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(c);function u(d){return a.opts.useDefaults&&!a.compositeRule&&r[d].default!==void 0}function i(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},c)}}};Ps.default=md;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Ta=X,or=U,ja=T,Aa=T,yd={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:o}=a,l=(0,Ta.allSchemaProperties)(r),c=l.filter($=>(0,ja.alwaysValidSchema)(a,r[$]));if(l.length===0||c.length===l.length&&(!a.opts.unevaluated||a.props===!0))return;const u=o.strictSchema&&!o.allowMatchingProperties&&s.properties,i=e.name("valid");a.props!==!0&&!(a.props instanceof or.Name)&&(a.props=(0,Aa.evaluatedPropsToName)(e,a.props));const{props:d}=a;_();function _(){for(const $ of l)u&&p($),a.allErrors?y($):(e.var(i,!0),y($),e.if(i))}function p($){for(const v in u)new RegExp($).test(v)&&(0,ja.checkStrictMode)(a,`property ${v} matches pattern ${$} (use allowMatchingProperties)`)}function y($){e.forIn("key",n,v=>{e.if((0,or._)`${(0,Ta.usePattern)(t,$)}.test(${v})`,()=>{const m=c.includes($);m||t.subschema({keyword:"patternProperties",schemaProp:$,dataProp:v,dataPropType:Aa.Type.Str},i),a.opts.unevaluated&&d!==!0?e.assign((0,or._)`${d}[${v}]`,!0):!m&&!a.allErrors&&e.if((0,or.not)(i),()=>e.break())})})}}};Ns.default=yd;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const $d=T,gd={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:n}=t;if((0,$d.alwaysValidSchema)(n,r)){t.fail();return}const s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.failResult(s,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Rs.default=gd;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const vd=X,_d={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:vd.validateUnion,error:{message:"must match a schema in anyOf"}};Os.default=_d;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const _r=U,Ed=T,wd={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,_r._)`{passingSchemas: ${t.passing}}`},bd={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:wd,code(t){const{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const a=r,o=e.let("valid",!1),l=e.let("passing",null),c=e.name("_valid");t.setParams({passing:l}),e.block(u),t.result(o,()=>t.reset(),()=>t.error(!0));function u(){a.forEach((i,d)=>{let _;(0,Ed.alwaysValidSchema)(s,i)?e.var(c,!0):_=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},c),d>0&&e.if((0,_r._)`${c} && ${o}`).assign(o,!1).assign(l,(0,_r._)`[${l}, ${d}]`).else(),e.if(c,()=>{e.assign(o,!0),e.assign(l,d),_&&t.mergeEvaluated(_,_r.Name)})})}}};Is.default=bd;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const Sd=T,Pd={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=e.name("valid");r.forEach((a,o)=>{if((0,Sd.alwaysValidSchema)(n,a))return;const l=t.subschema({keyword:"allOf",schemaProp:o},s);t.ok(s),t.mergeEvaluated(l)})}};Ts.default=Pd;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Rr=U,gi=T,Nd={message:({params:t})=>(0,Rr.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Rr._)`{failingKeyword: ${t.ifClause}}`},Rd={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nd,code(t){const{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&(0,gi.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=ka(n,"then"),a=ka(n,"else");if(!s&&!a)return;const o=e.let("valid",!0),l=e.name("_valid");if(c(),t.reset(),s&&a){const i=e.let("ifClause");t.setParams({ifClause:i}),e.if(l,u("then",i),u("else",i))}else s?e.if(l,u("then")):e.if((0,Rr.not)(l),u("else"));t.pass(o,()=>t.error(!0));function c(){const i=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);t.mergeEvaluated(i)}function u(i,d){return()=>{const _=t.subschema({keyword:i},l);e.assign(o,l),t.mergeValidEvaluated(_,o),d?e.assign(d,(0,Rr._)`${i}`):t.setParams({ifClause:i})}}}};function ka(t,e){const r=t.schema[e];return r!==void 0&&!(0,gi.alwaysValidSchema)(t,r)}js.default=Rd;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Od=T,Id={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Od.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};As.default=Id;Object.defineProperty(Dr,"__esModule",{value:!0});const Td=It,jd=Es,Ad=Tt,kd=ws,Cd=bs,Dd=Lr,Ld=Ss,Md=Mr,Vd=Ps,Fd=Ns,zd=Rs,Ud=Os,qd=Is,Gd=Ts,Kd=js,Hd=As;function Xd(t=!1){const e=[zd.default,Ud.default,qd.default,Gd.default,Kd.default,Hd.default,Ld.default,Md.default,Dd.default,Vd.default,Fd.default];return t?e.push(jd.default,kd.default):e.push(Td.default,Ad.default),e.push(Cd.default),e}Dr.default=Xd;var ks={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.dynamicAnchor=void 0;const vn=U,Bd=we,Ca=me,Wd=Xe,Yd={keyword:"$dynamicAnchor",schemaType:"string",code:t=>vi(t,t.schema)};function vi(t,e){const{gen:r,it:n}=t;n.schemaEnv.root.dynamicAnchors[e]=!0;const s=(0,vn._)`${Bd.default.dynamicAnchors}${(0,vn.getProperty)(e)}`,a=n.errSchemaPath==="#"?n.validateName:Jd(t);r.if((0,vn._)`!${s}`,()=>r.assign(s,a))}jt.dynamicAnchor=vi;function Jd(t){const{schemaEnv:e,schema:r,self:n}=t.it,{root:s,baseId:a,localRefs:o,meta:l}=e.root,{schemaId:c}=n.opts,u=new Ca.SchemaEnv({schema:r,schemaId:c,root:s,baseId:a,localRefs:o,meta:l});return Ca.compileSchema.call(n,u),(0,Wd.getValidate)(t,u)}jt.default=Yd;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.dynamicRef=void 0;const Da=U,xd=we,La=Xe,Zd={keyword:"$dynamicRef",schemaType:"string",code:t=>_i(t,t.schema)};function _i(t,e){const{gen:r,keyword:n,it:s}=t;if(e[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const a=e.slice(1);if(s.allErrors)o();else{const c=r.let("valid",!1);o(c),t.ok(c)}function o(c){if(s.schemaEnv.root.dynamicAnchors[a]){const u=r.let("_v",(0,Da._)`${xd.default.dynamicAnchors}${(0,Da.getProperty)(a)}`);r.if(u,l(u,c),l(s.validateName,c))}else l(s.validateName,c)()}function l(c,u){return u?()=>r.block(()=>{(0,La.callRef)(t,c),r.let(u,!0)}):()=>(0,La.callRef)(t,c)}}At.dynamicRef=_i;At.default=Zd;var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Qd=jt,eh=T,th={keyword:"$recursiveAnchor",schemaType:"boolean",code(t){t.schema?(0,Qd.dynamicAnchor)(t,""):(0,eh.checkStrictMode)(t.it,"$recursiveAnchor: false is ignored")}};Cs.default=th;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const rh=At,nh={keyword:"$recursiveRef",schemaType:"string",code:t=>(0,rh.dynamicRef)(t,t.schema)};Ds.default=nh;Object.defineProperty(ks,"__esModule",{value:!0});const sh=jt,ah=At,oh=Cs,ih=Ds,ch=[sh.default,ah.default,oh.default,ih.default];ks.default=ch;var Ls={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});const Ma=Lr,uh={keyword:"dependentRequired",type:"object",schemaType:"object",error:Ma.error,code:t=>(0,Ma.validatePropertyDeps)(t)};Ms.default=uh;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const lh=Lr,fh={keyword:"dependentSchemas",type:"object",schemaType:"object",code:t=>(0,lh.validateSchemaDeps)(t)};Vs.default=fh;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const dh=T,hh={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:t,parentSchema:e,it:r}){e.contains===void 0&&(0,dh.checkStrictMode)(r,`"${t}" without "contains" is ignored`)}};Fs.default=hh;Object.defineProperty(Ls,"__esModule",{value:!0});const ph=Ms,mh=Vs,yh=Fs,$h=[ph.default,mh.default,yh.default];Ls.default=$h;var zs={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});const Qe=U,Va=T,gh=we,vh={message:"must NOT have unevaluated properties",params:({params:t})=>(0,Qe._)`{unevaluatedProperty: ${t.unevaluatedProperty}}`},_h={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:vh,code(t){const{gen:e,schema:r,data:n,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,props:l}=a;l instanceof Qe.Name?e.if((0,Qe._)`${l} !== true`,()=>e.forIn("key",n,d=>e.if(u(l,d),()=>c(d)))):l!==!0&&e.forIn("key",n,d=>l===void 0?c(d):e.if(i(l,d),()=>c(d))),a.props=!0,t.ok((0,Qe._)`${s} === ${gh.default.errors}`);function c(d){if(r===!1){t.setParams({unevaluatedProperty:d}),t.error(),o||e.break();return}if(!(0,Va.alwaysValidSchema)(a,r)){const _=e.name("valid");t.subschema({keyword:"unevaluatedProperties",dataProp:d,dataPropType:Va.Type.Str},_),o||e.if((0,Qe.not)(_),()=>e.break())}}function u(d,_){return(0,Qe._)`!${d} || !${d}[${_}]`}function i(d,_){const p=[];for(const y in d)d[y]===!0&&p.push((0,Qe._)`${_} !== ${y}`);return(0,Qe.and)(...p)}}};Us.default=_h;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});const lt=U,Fa=T,Eh={message:({params:{len:t}})=>(0,lt.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,lt._)`{limit: ${t}}`},wh={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Eh,code(t){const{gen:e,schema:r,data:n,it:s}=t,a=s.items||0;if(a===!0)return;const o=e.const("len",(0,lt._)`${n}.length`);if(r===!1)t.setParams({len:a}),t.fail((0,lt._)`${o} > ${a}`);else if(typeof r=="object"&&!(0,Fa.alwaysValidSchema)(s,r)){const c=e.var("valid",(0,lt._)`${o} <= ${a}`);e.if((0,lt.not)(c),()=>l(c,a)),t.ok(c)}s.items=!0;function l(c,u){e.forRange("i",u,o,i=>{t.subschema({keyword:"unevaluatedItems",dataProp:i,dataPropType:Fa.Type.Num},c),s.allErrors||e.if((0,lt.not)(c),()=>e.break())})}}};qs.default=wh;Object.defineProperty(zs,"__esModule",{value:!0});const bh=Us,Sh=qs,Ph=[bh.default,Sh.default];zs.default=Ph;var Vr={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});const ne=U,Nh={message:({schemaCode:t})=>(0,ne.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,ne._)`{format: ${t}}`},Rh={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Nh,code(t,e){const{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:l}=t,{opts:c,errSchemaPath:u,schemaEnv:i,self:d}=l;if(!c.validateFormats)return;s?_():p();function _(){const y=r.scopeValue("formats",{ref:d.formats,code:c.code.formats}),$=r.const("fDef",(0,ne._)`${y}[${o}]`),v=r.let("fType"),m=r.let("format");r.if((0,ne._)`typeof ${$} == "object" && !(${$} instanceof RegExp)`,()=>r.assign(v,(0,ne._)`${$}.type || "string"`).assign(m,(0,ne._)`${$}.validate`),()=>r.assign(v,(0,ne._)`"string"`).assign(m,$)),t.fail$data((0,ne.or)(w(),N()));function w(){return c.strictSchema===!1?ne.nil:(0,ne._)`${o} && !${m}`}function N(){const I=i.$async?(0,ne._)`(${$}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,ne._)`${m}(${n})`,j=(0,ne._)`(typeof ${m} == "function" ? ${I} : ${m}.test(${n}))`;return(0,ne._)`${m} && ${m} !== true && ${v} === ${e} && !${j}`}}function p(){const y=d.formats[a];if(!y){w();return}if(y===!0)return;const[$,v,m]=N(y);$===e&&t.pass(I());function w(){if(c.strictSchema===!1){d.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${a}" ignored in schema at path "${u}"`}}function N(j){const Y=j instanceof RegExp?(0,ne.regexpCode)(j):c.code.formats?(0,ne._)`${c.code.formats}${(0,ne.getProperty)(a)}`:void 0,re=r.scopeValue("formats",{key:a,ref:j,code:Y});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,ne._)`${re}.validate`]:["string",j,re]}function I(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!i.$async)throw new Error("async format in sync schema");return(0,ne._)`await ${m}(${n})`}return typeof v=="function"?(0,ne._)`${m}(${n})`:(0,ne._)`${m}.test(${n})`}}}};Gs.default=Rh;Object.defineProperty(Vr,"__esModule",{value:!0});const Oh=Gs,Ih=[Oh.default];Vr.default=Ih;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.contentVocabulary=mt.metadataVocabulary=void 0;mt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];mt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(cs,"__esModule",{value:!0});const Th=kr,jh=Cr,Ah=Dr,kh=ks,Ch=Ls,Dh=zs,Lh=Vr,za=mt,Mh=[kh.default,Th.default,jh.default,(0,Ah.default)(!0),Lh.default,za.metadataVocabulary,za.contentVocabulary,Ch.default,Dh.default];cs.default=Mh;var Fr={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.DiscrError=void 0;var Ua;(function(t){t.Tag="tag",t.Mapping="mapping"})(Ua||(zr.DiscrError=Ua={}));Object.defineProperty(Fr,"__esModule",{value:!0});const Et=U,Fn=zr,qa=me,Vh=yt,Fh=T,zh={message:({params:{discrError:t,tagName:e}})=>t===Fn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Et._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Uh={keyword:"discriminator",type:"object",schemaType:"object",error:zh,code(t){const{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");const c=e.let("valid",!1),u=e.const("tag",(0,Et._)`${r}${(0,Et.getProperty)(l)}`);e.if((0,Et._)`typeof ${u} == "string"`,()=>i(),()=>t.error(!1,{discrError:Fn.DiscrError.Tag,tag:u,tagName:l})),t.ok(c);function i(){const p=_();e.if(!1);for(const y in p)e.elseIf((0,Et._)`${u} === ${y}`),e.assign(c,d(p[y]));e.else(),t.error(!1,{discrError:Fn.DiscrError.Mapping,tag:u,tagName:l}),e.endIf()}function d(p){const y=e.name("valid"),$=t.subschema({keyword:"oneOf",schemaProp:p},y);return t.mergeEvaluated($,Et.Name),y}function _(){var p;const y={},$=m(s);let v=!0;for(let I=0;I<o.length;I++){let j=o[I];if(j!=null&&j.$ref&&!(0,Fh.schemaHasRulesButRef)(j,a.self.RULES)){const re=j.$ref;if(j=qa.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,re),j instanceof qa.SchemaEnv&&(j=j.schema),j===void 0)throw new Vh.default(a.opts.uriResolver,a.baseId,re)}const Y=(p=j==null?void 0:j.properties)===null||p===void 0?void 0:p[l];if(typeof Y!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);v=v&&($||m(j)),w(Y,I)}if(!v)throw new Error(`discriminator: "${l}" must be required`);return y;function m({required:I}){return Array.isArray(I)&&I.includes(l)}function w(I,j){if(I.const)N(I.const,j);else if(I.enum)for(const Y of I.enum)N(Y,j);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function N(I,j){if(typeof I!="string"||I in y)throw new Error(`discriminator: "${l}" values must be unique strings`);y[I]=j}}}};Fr.default=Uh;var Ks={};const qh="https://json-schema.org/draft/2020-12/schema",Gh="https://json-schema.org/draft/2020-12/schema",Kh={"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},Hh="meta",Xh="Core and Validation specifications meta-schema",Bh=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],Wh=["object","boolean"],Yh="This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",Jh={definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}},xh={$schema:qh,$id:Gh,$vocabulary:Kh,$dynamicAnchor:Hh,title:Xh,allOf:Bh,type:Wh,$comment:Yh,properties:Jh},Zh="https://json-schema.org/draft/2020-12/schema",Qh="https://json-schema.org/draft/2020-12/meta/applicator",ep={"https://json-schema.org/draft/2020-12/vocab/applicator":!0},tp="meta",rp="Applicator vocabulary meta-schema",np=["object","boolean"],sp={prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},ap={schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}},op={$schema:Zh,$id:Qh,$vocabulary:ep,$dynamicAnchor:tp,title:rp,type:np,properties:sp,$defs:ap},ip="https://json-schema.org/draft/2020-12/schema",cp="https://json-schema.org/draft/2020-12/meta/unevaluated",up={"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},lp="meta",fp="Unevaluated applicator vocabulary meta-schema",dp=["object","boolean"],hp={unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}},pp={$schema:ip,$id:cp,$vocabulary:up,$dynamicAnchor:lp,title:fp,type:dp,properties:hp},mp="https://json-schema.org/draft/2020-12/schema",yp="https://json-schema.org/draft/2020-12/meta/content",$p={"https://json-schema.org/draft/2020-12/vocab/content":!0},gp="meta",vp="Content vocabulary meta-schema",_p=["object","boolean"],Ep={contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}},wp={$schema:mp,$id:yp,$vocabulary:$p,$dynamicAnchor:gp,title:vp,type:_p,properties:Ep},bp="https://json-schema.org/draft/2020-12/schema",Sp="https://json-schema.org/draft/2020-12/meta/core",Pp={"https://json-schema.org/draft/2020-12/vocab/core":!0},Np="meta",Rp="Core vocabulary meta-schema",Op=["object","boolean"],Ip={$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},Tp={anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}},jp={$schema:bp,$id:Sp,$vocabulary:Pp,$dynamicAnchor:Np,title:Rp,type:Op,properties:Ip,$defs:Tp},Ap="https://json-schema.org/draft/2020-12/schema",kp="https://json-schema.org/draft/2020-12/meta/format-annotation",Cp={"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},Dp="meta",Lp="Format vocabulary meta-schema for annotation results",Mp=["object","boolean"],Vp={format:{type:"string"}},Fp={$schema:Ap,$id:kp,$vocabulary:Cp,$dynamicAnchor:Dp,title:Lp,type:Mp,properties:Vp},zp="https://json-schema.org/draft/2020-12/schema",Up="https://json-schema.org/draft/2020-12/meta/meta-data",qp={"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},Gp="meta",Kp="Meta-data vocabulary meta-schema",Hp=["object","boolean"],Xp={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},Bp={$schema:zp,$id:Up,$vocabulary:qp,$dynamicAnchor:Gp,title:Kp,type:Hp,properties:Xp},Wp="https://json-schema.org/draft/2020-12/schema",Yp="https://json-schema.org/draft/2020-12/meta/validation",Jp={"https://json-schema.org/draft/2020-12/vocab/validation":!0},xp="meta",Zp="Validation vocabulary meta-schema",Qp=["object","boolean"],em={type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},tm={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},rm={$schema:Wp,$id:Yp,$vocabulary:Jp,$dynamicAnchor:xp,title:Zp,type:Qp,properties:em,$defs:tm};Object.defineProperty(Ks,"__esModule",{value:!0});const nm=xh,sm=op,am=pp,om=wp,im=jp,cm=Fp,um=Bp,lm=rm,fm=["/properties"];function dm(t){return[nm,sm,am,om,im,e(this,cm),um,e(this,lm)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function e(r,n){return t?r.$dataMetaSchema(n,fm):n}}Ks.default=dm;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv2020=void 0;const r=Wn,n=cs,s=Fr,a=Ks,o="https://json-schema.org/draft/2020-12/schema";class l extends r.default{constructor(p={}){super({...p,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),n.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:p,meta:y}=this.opts;y&&(a.default.call(this,p),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv2020=l,t.exports=e=l,t.exports.Ajv2020=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Ne;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=U;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var i=Ot;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return i.default}});var d=yt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(An,An.exports);var hm=An.exports,zn={exports:{}},Ei={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(F,K){return{validate:F,compare:K}}t.fullFormats={date:e(a,o),time:e(c(!0),u),"date-time":e(_(!0),p),"iso-time":e(c(),i),"iso-date-time":e(_(),y),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:m,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Re,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:N,int32:{type:"number",validate:Y},int64:{type:"number",validate:re},float:{type:"number",validate:$e},double:{type:"number",validate:$e},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,o),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,p),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,i),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(F){return F%4===0&&(F%100!==0||F%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(F){const K=n.exec(F);if(!K)return!1;const Z=+K[1],R=+K[2],O=+K[3];return R>=1&&R<=12&&O>=1&&O<=(R===2&&r(Z)?29:s[R])}function o(F,K){if(F&&K)return F>K?1:F<K?-1:0}const l=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(F){return function(Z){const R=l.exec(Z);if(!R)return!1;const O=+R[1],C=+R[2],A=+R[3],V=R[4],k=R[5]==="-"?-1:1,P=+(R[6]||0),g=+(R[7]||0);if(P>23||g>59||F&&!V)return!1;if(O<=23&&C<=59&&A<60)return!0;const b=C-g*k,E=O-P*k-(b<0?1:0);return(E===23||E===-1)&&(b===59||b===-1)&&A<61}}function u(F,K){if(!(F&&K))return;const Z=new Date("2020-01-01T"+F).valueOf(),R=new Date("2020-01-01T"+K).valueOf();if(Z&&R)return Z-R}function i(F,K){if(!(F&&K))return;const Z=l.exec(F),R=l.exec(K);if(Z&&R)return F=Z[1]+Z[2]+Z[3],K=R[1]+R[2]+R[3],F>K?1:F<K?-1:0}const d=/t|\s/i;function _(F){const K=c(F);return function(R){const O=R.split(d);return O.length===2&&a(O[0])&&K(O[1])}}function p(F,K){if(!(F&&K))return;const Z=new Date(F).valueOf(),R=new Date(K).valueOf();if(Z&&R)return Z-R}function y(F,K){if(!(F&&K))return;const[Z,R]=F.split(d),[O,C]=K.split(d),A=o(Z,O);if(A!==void 0)return A||u(R,C)}const $=/\/|:/,v=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function m(F){return $.test(F)&&v.test(F)}const w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function N(F){return w.lastIndex=0,w.test(F)}const I=-2147483648,j=2**31-1;function Y(F){return Number.isInteger(F)&&F<=j&&F>=I}function re(F){return Number.isInteger(F)}function $e(){return!0}const be=/[^\\]\\Z/;function Re(F){if(be.test(F))return!1;try{return new RegExp(F),!0}catch{return!1}}})(Ei);var wi={},Un={exports:{}},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const pm=kr,mm=Cr,ym=Dr,$m=Vr,Ga=mt,gm=[pm.default,mm.default,(0,ym.default)(),$m.default,Ga.metadataVocabulary,Ga.contentVocabulary];Hs.default=gm;const vm="http://json-schema.org/draft-07/schema#",_m="http://json-schema.org/draft-07/schema#",Em="Core schema meta-schema",wm={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},bm=["object","boolean"],Sm={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Pm={$schema:vm,$id:_m,title:Em,definitions:wm,type:bm,properties:Sm,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=Wn,n=Hs,s=Fr,a=Pm,o=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(y,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=Ne;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var i=U;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});var d=Ot;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var _=yt;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return _.default}})})(Un,Un.exports);var Nm=Un.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Nm,r=U,n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},a={message:({keyword:l,schemaCode:c})=>(0,r.str)`should be ${s[l].okStr} ${c}`,params:({keyword:l,schemaCode:c})=>(0,r._)`{comparison: ${s[l].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(l){const{gen:c,data:u,schemaCode:i,keyword:d,it:_}=l,{opts:p,self:y}=_;if(!p.validateFormats)return;const $=new e.KeywordCxt(_,y.RULES.all.format.definition,"format");$.$data?v():m();function v(){const N=c.scopeValue("formats",{ref:y.formats,code:p.code.formats}),I=c.const("fmt",(0,r._)`${N}[${$.schemaCode}]`);l.fail$data((0,r.or)((0,r._)`typeof ${I} != "object"`,(0,r._)`${I} instanceof RegExp`,(0,r._)`typeof ${I}.compare != "function"`,w(I)))}function m(){const N=$.schema,I=y.formats[N];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${d}": format "${N}" does not define "compare" function`);const j=c.scopeValue("formats",{key:N,ref:I,code:p.code.formats?(0,r._)`${p.code.formats}${(0,r.getProperty)(N)}`:void 0});l.fail$data(w(j))}function w(N){return(0,r._)`${N}.compare(${u}, ${i}) ${s[d].fail} 0`}},dependencies:["format"]};const o=l=>(l.addKeyword(t.formatLimitDefinition),l);t.default=o})(wi);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=Ei,n=wi,s=U,a=new s.Name("fullFormats"),o=new s.Name("fastFormats"),l=(u,i={keywords:!0})=>{if(Array.isArray(i))return c(u,i,r.fullFormats,a),u;const[d,_]=i.mode==="fast"?[r.fastFormats,o]:[r.fullFormats,a],p=i.formats||r.formatNames;return c(u,p,d,_),i.keywords&&(0,n.default)(u),u};l.get=(u,i="full")=>{const _=(i==="fast"?r.fastFormats:r.fullFormats)[u];if(!_)throw new Error(`Unknown format "${u}"`);return _};function c(u,i,d,_){var p,y;(p=(y=u.opts.code).formats)!==null&&p!==void 0||(y.formats=(0,s._)`require("ajv-formats/dist/formats").${_}`);for(const $ of i)u.addFormat($,d[$])}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l})(zn,zn.exports);var Rm=zn.exports;const Om=Hn(Rm),Im=(t,e,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const s=Object.getOwnPropertyDescriptor(t,r),a=Object.getOwnPropertyDescriptor(e,r);!Tm(s,a)&&n||Object.defineProperty(t,r,a)},Tm=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},jm=(t,e)=>{const r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},Am=(t,e)=>`/* Wrapped ${t}*/
${e}`,km=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Cm=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Dm=(t,e,r)=>{const n=r===""?"":`with ${r.trim()}() `,s=Am.bind(null,n,e.toString());Object.defineProperty(s,"name",Cm);const{writable:a,enumerable:o,configurable:l}=km;Object.defineProperty(t,"toString",{value:s,writable:a,enumerable:o,configurable:l})};function Lm(t,e,{ignoreNonConfigurable:r=!1}={}){const{name:n}=t;for(const s of Reflect.ownKeys(e))Im(t,e,s,r);return jm(t,e),Dm(t,e,n),t}const Ka=(t,e={})=>{if(typeof t!="function")throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:r=0,maxWait:n=Number.POSITIVE_INFINITY,before:s=!1,after:a=!0}=e;if(r<0||n<0)throw new RangeError("`wait` and `maxWait` must not be negative.");if(!s&&!a)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let o,l,c;const u=function(...i){const d=this,_=()=>{o=void 0,l&&(clearTimeout(l),l=void 0),a&&(c=t.apply(d,i))},p=()=>{l=void 0,o&&(clearTimeout(o),o=void 0),a&&(c=t.apply(d,i))},y=s&&!o;return clearTimeout(o),o=setTimeout(_,r),n>0&&n!==Number.POSITIVE_INFINITY&&!l&&(l=setTimeout(p,n)),y&&(c=t.apply(d,i)),c};return Lm(u,t),u.cancel=()=>{o&&(clearTimeout(o),o=void 0),l&&(clearTimeout(l),l=void 0)},u};var qn={exports:{}};const Mm="2.0.0",bi=256,Vm=Number.MAX_SAFE_INTEGER||9007199254740991,Fm=16,zm=bi-6,Um=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ur={MAX_LENGTH:bi,MAX_SAFE_COMPONENT_LENGTH:Fm,MAX_SAFE_BUILD_LENGTH:zm,MAX_SAFE_INTEGER:Vm,RELEASE_TYPES:Um,SEMVER_SPEC_VERSION:Mm,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const qm=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var qr=qm;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=Ur,a=qr;e=t.exports={};const o=e.re=[],l=e.safeRe=[],c=e.src=[],u=e.safeSrc=[],i=e.t={};let d=0;const _="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",s],[_,n]],y=v=>{for(const[m,w]of p)v=v.split(`${m}*`).join(`${m}{0,${w}}`).split(`${m}+`).join(`${m}{1,${w}}`);return v},$=(v,m,w)=>{const N=y(m),I=d++;a(v,I,m),i[v]=I,c[I]=m,u[I]=N,o[I]=new RegExp(m,w?"g":void 0),l[I]=new RegExp(N,w?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*"),$("NUMERICIDENTIFIERLOOSE","\\d+"),$("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${_}*`),$("MAINVERSION",`(${c[i.NUMERICIDENTIFIER]})\\.(${c[i.NUMERICIDENTIFIER]})\\.(${c[i.NUMERICIDENTIFIER]})`),$("MAINVERSIONLOOSE",`(${c[i.NUMERICIDENTIFIERLOOSE]})\\.(${c[i.NUMERICIDENTIFIERLOOSE]})\\.(${c[i.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASEIDENTIFIER",`(?:${c[i.NONNUMERICIDENTIFIER]}|${c[i.NUMERICIDENTIFIER]})`),$("PRERELEASEIDENTIFIERLOOSE",`(?:${c[i.NONNUMERICIDENTIFIER]}|${c[i.NUMERICIDENTIFIERLOOSE]})`),$("PRERELEASE",`(?:-(${c[i.PRERELEASEIDENTIFIER]}(?:\\.${c[i.PRERELEASEIDENTIFIER]})*))`),$("PRERELEASELOOSE",`(?:-?(${c[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[i.PRERELEASEIDENTIFIERLOOSE]})*))`),$("BUILDIDENTIFIER",`${_}+`),$("BUILD",`(?:\\+(${c[i.BUILDIDENTIFIER]}(?:\\.${c[i.BUILDIDENTIFIER]})*))`),$("FULLPLAIN",`v?${c[i.MAINVERSION]}${c[i.PRERELEASE]}?${c[i.BUILD]}?`),$("FULL",`^${c[i.FULLPLAIN]}$`),$("LOOSEPLAIN",`[v=\\s]*${c[i.MAINVERSIONLOOSE]}${c[i.PRERELEASELOOSE]}?${c[i.BUILD]}?`),$("LOOSE",`^${c[i.LOOSEPLAIN]}$`),$("GTLT","((?:<|>)?=?)"),$("XRANGEIDENTIFIERLOOSE",`${c[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),$("XRANGEIDENTIFIER",`${c[i.NUMERICIDENTIFIER]}|x|X|\\*`),$("XRANGEPLAIN",`[v=\\s]*(${c[i.XRANGEIDENTIFIER]})(?:\\.(${c[i.XRANGEIDENTIFIER]})(?:\\.(${c[i.XRANGEIDENTIFIER]})(?:${c[i.PRERELEASE]})?${c[i.BUILD]}?)?)?`),$("XRANGEPLAINLOOSE",`[v=\\s]*(${c[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[i.XRANGEIDENTIFIERLOOSE]})(?:${c[i.PRERELEASELOOSE]})?${c[i.BUILD]}?)?)?`),$("XRANGE",`^${c[i.GTLT]}\\s*${c[i.XRANGEPLAIN]}$`),$("XRANGELOOSE",`^${c[i.GTLT]}\\s*${c[i.XRANGEPLAINLOOSE]}$`),$("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),$("COERCE",`${c[i.COERCEPLAIN]}(?:$|[^\\d])`),$("COERCEFULL",c[i.COERCEPLAIN]+`(?:${c[i.PRERELEASE]})?(?:${c[i.BUILD]})?(?:$|[^\\d])`),$("COERCERTL",c[i.COERCE],!0),$("COERCERTLFULL",c[i.COERCEFULL],!0),$("LONETILDE","(?:~>?)"),$("TILDETRIM",`(\\s*)${c[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",$("TILDE",`^${c[i.LONETILDE]}${c[i.XRANGEPLAIN]}$`),$("TILDELOOSE",`^${c[i.LONETILDE]}${c[i.XRANGEPLAINLOOSE]}$`),$("LONECARET","(?:\\^)"),$("CARETTRIM",`(\\s*)${c[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",$("CARET",`^${c[i.LONECARET]}${c[i.XRANGEPLAIN]}$`),$("CARETLOOSE",`^${c[i.LONECARET]}${c[i.XRANGEPLAINLOOSE]}$`),$("COMPARATORLOOSE",`^${c[i.GTLT]}\\s*(${c[i.LOOSEPLAIN]})$|^$`),$("COMPARATOR",`^${c[i.GTLT]}\\s*(${c[i.FULLPLAIN]})$|^$`),$("COMPARATORTRIM",`(\\s*)${c[i.GTLT]}\\s*(${c[i.LOOSEPLAIN]}|${c[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",$("HYPHENRANGE",`^\\s*(${c[i.XRANGEPLAIN]})\\s+-\\s+(${c[i.XRANGEPLAIN]})\\s*$`),$("HYPHENRANGELOOSE",`^\\s*(${c[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[i.XRANGEPLAINLOOSE]})\\s*$`),$("STAR","(<|>)?=?\\s*\\*"),$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(qn,qn.exports);var Yt=qn.exports;const Gm=Object.freeze({loose:!0}),Km=Object.freeze({}),Hm=t=>t?typeof t!="object"?Gm:t:Km;var Xs=Hm;const Ha=/^[0-9]+$/,Si=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;const r=Ha.test(t),n=Ha.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Xm=(t,e)=>Si(e,t);var Pi={compareIdentifiers:Si,rcompareIdentifiers:Xm};const ir=qr,{MAX_LENGTH:Xa,MAX_SAFE_INTEGER:cr}=Ur,{safeRe:ur,t:lr}=Yt,Bm=Xs,{compareIdentifiers:_n}=Pi;let Wm=class De{constructor(e,r){if(r=Bm(r),e instanceof De){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Xa)throw new TypeError(`version is longer than ${Xa} characters`);ir("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?ur[lr.LOOSE]:ur[lr.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>cr||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cr||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cr||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<cr)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ir("SemVer.compare",this.version,this.options,e),!(e instanceof De)){if(typeof e=="string"&&e===this.version)return 0;e=new De(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof De||(e=new De(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof De||(e=new De(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(ir("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return _n(n,s)}while(++r)}compareBuild(e){e instanceof De||(e=new De(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(ir("build compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return _n(n,s)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const s=`-${r}`.match(this.options.loose?ur[lr.PRERELEASELOOSE]:ur[lr.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),_n(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ye=Wm;const Ba=ye,Ym=(t,e,r=!1)=>{if(t instanceof Ba)return t;try{return new Ba(t,e)}catch(n){if(!r)return null;throw n}};var kt=Ym;const Jm=kt,xm=(t,e)=>{const r=Jm(t,e);return r?r.version:null};var Zm=xm;const Qm=kt,ey=(t,e)=>{const r=Qm(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var ty=ey;const Wa=ye,ry=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new Wa(t instanceof Wa?t.version:t,r).inc(e,n,s).version}catch{return null}};var ny=ry;const Ya=kt,sy=(t,e)=>{const r=Ya(t,null,!0),n=Ya(e,null,!0),s=r.compare(n);if(s===0)return null;const a=s>0,o=a?r:n,l=a?n:r,c=!!o.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}const i=c?"pre":"";return r.major!==n.major?i+"major":r.minor!==n.minor?i+"minor":r.patch!==n.patch?i+"patch":"prerelease"};var ay=sy;const oy=ye,iy=(t,e)=>new oy(t,e).major;var cy=iy;const uy=ye,ly=(t,e)=>new uy(t,e).minor;var fy=ly;const dy=ye,hy=(t,e)=>new dy(t,e).patch;var py=hy;const my=kt,yy=(t,e)=>{const r=my(t,e);return r&&r.prerelease.length?r.prerelease:null};var $y=yy;const Ja=ye,gy=(t,e,r)=>new Ja(t,r).compare(new Ja(e,r));var Ae=gy;const vy=Ae,_y=(t,e,r)=>vy(e,t,r);var Ey=_y;const wy=Ae,by=(t,e)=>wy(t,e,!0);var Sy=by;const xa=ye,Py=(t,e,r)=>{const n=new xa(t,r),s=new xa(e,r);return n.compare(s)||n.compareBuild(s)};var Bs=Py;const Ny=Bs,Ry=(t,e)=>t.sort((r,n)=>Ny(r,n,e));var Oy=Ry;const Iy=Bs,Ty=(t,e)=>t.sort((r,n)=>Iy(n,r,e));var jy=Ty;const Ay=Ae,ky=(t,e,r)=>Ay(t,e,r)>0;var Gr=ky;const Cy=Ae,Dy=(t,e,r)=>Cy(t,e,r)<0;var Ws=Dy;const Ly=Ae,My=(t,e,r)=>Ly(t,e,r)===0;var Ni=My;const Vy=Ae,Fy=(t,e,r)=>Vy(t,e,r)!==0;var Ri=Fy;const zy=Ae,Uy=(t,e,r)=>zy(t,e,r)>=0;var Ys=Uy;const qy=Ae,Gy=(t,e,r)=>qy(t,e,r)<=0;var Js=Gy;const Ky=Ni,Hy=Ri,Xy=Gr,By=Ys,Wy=Ws,Yy=Js,Jy=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Ky(t,r,n);case"!=":return Hy(t,r,n);case">":return Xy(t,r,n);case">=":return By(t,r,n);case"<":return Wy(t,r,n);case"<=":return Yy(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Oi=Jy;const xy=ye,Zy=kt,{safeRe:fr,t:dr}=Yt,Qy=(t,e)=>{if(t instanceof xy)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?fr[dr.COERCEFULL]:fr[dr.COERCE]);else{const c=e.includePrerelease?fr[dr.COERCERTLFULL]:fr[dr.COERCERTL];let u;for(;(u=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],s=r[3]||"0",a=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",l=e.includePrerelease&&r[6]?`+${r[6]}`:"";return Zy(`${n}.${s}.${a}${o}${l}`,e)};var e$=Qy;class t${constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}}var r$=t$,En,Za;function ke(){if(Za)return En;Za=1;const t=/\s+/g;class e{constructor(O,C){if(C=s(C),O instanceof e)return O.loose===!!C.loose&&O.includePrerelease===!!C.includePrerelease?O:new e(O.raw,C);if(O instanceof a)return this.raw=O.value,this.set=[[O]],this.formatted=void 0,this;if(this.options=C,this.loose=!!C.loose,this.includePrerelease=!!C.includePrerelease,this.raw=O.trim().replace(t," "),this.set=this.raw.split("||").map(A=>this.parseRange(A.trim())).filter(A=>A.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const A=this.set[0];if(this.set=this.set.filter(V=>!$(V[0])),this.set.length===0)this.set=[A];else if(this.set.length>1){for(const V of this.set)if(V.length===1&&v(V[0])){this.set=[V];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let O=0;O<this.set.length;O++){O>0&&(this.formatted+="||");const C=this.set[O];for(let A=0;A<C.length;A++)A>0&&(this.formatted+=" "),this.formatted+=C[A].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(O){const A=((this.options.includePrerelease&&p)|(this.options.loose&&y))+":"+O,V=n.get(A);if(V)return V;const k=this.options.loose,P=k?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];O=O.replace(P,K(this.options.includePrerelease)),o("hyphen replace",O),O=O.replace(c[u.COMPARATORTRIM],i),o("comparator trim",O),O=O.replace(c[u.TILDETRIM],d),o("tilde trim",O),O=O.replace(c[u.CARETTRIM],_),o("caret trim",O);let g=O.split(" ").map(h=>w(h,this.options)).join(" ").split(/\s+/).map(h=>F(h,this.options));k&&(g=g.filter(h=>(o("loose invalid filter",h,this.options),!!h.match(c[u.COMPARATORLOOSE])))),o("range list",g);const b=new Map,E=g.map(h=>new a(h,this.options));for(const h of E){if($(h))return[h];b.set(h.value,h)}b.size>1&&b.has("")&&b.delete("");const f=[...b.values()];return n.set(A,f),f}intersects(O,C){if(!(O instanceof e))throw new TypeError("a Range is required");return this.set.some(A=>m(A,C)&&O.set.some(V=>m(V,C)&&A.every(k=>V.every(P=>k.intersects(P,C)))))}test(O){if(!O)return!1;if(typeof O=="string")try{O=new l(O,this.options)}catch{return!1}for(let C=0;C<this.set.length;C++)if(Z(this.set[C],O,this.options))return!0;return!1}}En=e;const r=r$,n=new r,s=Xs,a=Kr(),o=qr,l=ye,{safeRe:c,t:u,comparatorTrimReplace:i,tildeTrimReplace:d,caretTrimReplace:_}=Yt,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:y}=Ur,$=R=>R.value==="<0.0.0-0",v=R=>R.value==="",m=(R,O)=>{let C=!0;const A=R.slice();let V=A.pop();for(;C&&A.length;)C=A.every(k=>V.intersects(k,O)),V=A.pop();return C},w=(R,O)=>(R=R.replace(c[u.BUILD],""),o("comp",R,O),R=Y(R,O),o("caret",R),R=I(R,O),o("tildes",R),R=$e(R,O),o("xrange",R),R=Re(R,O),o("stars",R),R),N=R=>!R||R.toLowerCase()==="x"||R==="*",I=(R,O)=>R.trim().split(/\s+/).map(C=>j(C,O)).join(" "),j=(R,O)=>{const C=O.loose?c[u.TILDELOOSE]:c[u.TILDE];return R.replace(C,(A,V,k,P,g)=>{o("tilde",R,A,V,k,P,g);let b;return N(V)?b="":N(k)?b=`>=${V}.0.0 <${+V+1}.0.0-0`:N(P)?b=`>=${V}.${k}.0 <${V}.${+k+1}.0-0`:g?(o("replaceTilde pr",g),b=`>=${V}.${k}.${P}-${g} <${V}.${+k+1}.0-0`):b=`>=${V}.${k}.${P} <${V}.${+k+1}.0-0`,o("tilde return",b),b})},Y=(R,O)=>R.trim().split(/\s+/).map(C=>re(C,O)).join(" "),re=(R,O)=>{o("caret",R,O);const C=O.loose?c[u.CARETLOOSE]:c[u.CARET],A=O.includePrerelease?"-0":"";return R.replace(C,(V,k,P,g,b)=>{o("caret",R,V,k,P,g,b);let E;return N(k)?E="":N(P)?E=`>=${k}.0.0${A} <${+k+1}.0.0-0`:N(g)?k==="0"?E=`>=${k}.${P}.0${A} <${k}.${+P+1}.0-0`:E=`>=${k}.${P}.0${A} <${+k+1}.0.0-0`:b?(o("replaceCaret pr",b),k==="0"?P==="0"?E=`>=${k}.${P}.${g}-${b} <${k}.${P}.${+g+1}-0`:E=`>=${k}.${P}.${g}-${b} <${k}.${+P+1}.0-0`:E=`>=${k}.${P}.${g}-${b} <${+k+1}.0.0-0`):(o("no pr"),k==="0"?P==="0"?E=`>=${k}.${P}.${g}${A} <${k}.${P}.${+g+1}-0`:E=`>=${k}.${P}.${g}${A} <${k}.${+P+1}.0-0`:E=`>=${k}.${P}.${g} <${+k+1}.0.0-0`),o("caret return",E),E})},$e=(R,O)=>(o("replaceXRanges",R,O),R.split(/\s+/).map(C=>be(C,O)).join(" ")),be=(R,O)=>{R=R.trim();const C=O.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return R.replace(C,(A,V,k,P,g,b)=>{o("xRange",R,A,V,k,P,g,b);const E=N(k),f=E||N(P),h=f||N(g),S=h;return V==="="&&S&&(V=""),b=O.includePrerelease?"-0":"",E?V===">"||V==="<"?A="<0.0.0-0":A="*":V&&S?(f&&(P=0),g=0,V===">"?(V=">=",f?(k=+k+1,P=0,g=0):(P=+P+1,g=0)):V==="<="&&(V="<",f?k=+k+1:P=+P+1),V==="<"&&(b="-0"),A=`${V+k}.${P}.${g}${b}`):f?A=`>=${k}.0.0${b} <${+k+1}.0.0-0`:h&&(A=`>=${k}.${P}.0${b} <${k}.${+P+1}.0-0`),o("xRange return",A),A})},Re=(R,O)=>(o("replaceStars",R,O),R.trim().replace(c[u.STAR],"")),F=(R,O)=>(o("replaceGTE0",R,O),R.trim().replace(c[O.includePrerelease?u.GTE0PRE:u.GTE0],"")),K=R=>(O,C,A,V,k,P,g,b,E,f,h,S)=>(N(A)?C="":N(V)?C=`>=${A}.0.0${R?"-0":""}`:N(k)?C=`>=${A}.${V}.0${R?"-0":""}`:P?C=`>=${C}`:C=`>=${C}${R?"-0":""}`,N(E)?b="":N(f)?b=`<${+E+1}.0.0-0`:N(h)?b=`<${E}.${+f+1}.0-0`:S?b=`<=${E}.${f}.${h}-${S}`:R?b=`<${E}.${f}.${+h+1}-0`:b=`<=${b}`,`${C} ${b}`.trim()),Z=(R,O,C)=>{for(let A=0;A<R.length;A++)if(!R[A].test(O))return!1;if(O.prerelease.length&&!C.includePrerelease){for(let A=0;A<R.length;A++)if(o(R[A].semver),R[A].semver!==a.ANY&&R[A].semver.prerelease.length>0){const V=R[A].semver;if(V.major===O.major&&V.minor===O.minor&&V.patch===O.patch)return!0}return!1}return!0};return En}var wn,Qa;function Kr(){if(Qa)return wn;Qa=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(i,d){if(d=r(d),i instanceof e){if(i.loose===!!d.loose)return i;i=i.value}i=i.trim().split(/\s+/).join(" "),o("comparator",i,d),this.options=d,this.loose=!!d.loose,this.parse(i),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(i){const d=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],_=i.match(d);if(!_)throw new TypeError(`Invalid comparator: ${i}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new l(_[2],this.options.loose):this.semver=t}toString(){return this.value}test(i){if(o("Comparator.test",i,this.options.loose),this.semver===t||i===t)return!0;if(typeof i=="string")try{i=new l(i,this.options)}catch{return!1}return a(i,this.operator,this.semver,this.options)}intersects(i,d){if(!(i instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(i.value,d).test(this.value):i.operator===""?i.value===""?!0:new c(this.value,d).test(i.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||i.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||i.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&i.operator.startsWith(">")||this.operator.startsWith("<")&&i.operator.startsWith("<")||this.semver.version===i.semver.version&&this.operator.includes("=")&&i.operator.includes("=")||a(this.semver,"<",i.semver,d)&&this.operator.startsWith(">")&&i.operator.startsWith("<")||a(this.semver,">",i.semver,d)&&this.operator.startsWith("<")&&i.operator.startsWith(">")))}}wn=e;const r=Xs,{safeRe:n,t:s}=Yt,a=Oi,o=qr,l=ye,c=ke();return wn}const n$=ke(),s$=(t,e,r)=>{try{e=new n$(e,r)}catch{return!1}return e.test(t)};var Hr=s$;const a$=ke(),o$=(t,e)=>new a$(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var i$=o$;const c$=ye,u$=ke(),l$=(t,e,r)=>{let n=null,s=null,a=null;try{a=new u$(e,r)}catch{return null}return t.forEach(o=>{a.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new c$(n,r))}),n};var f$=l$;const d$=ye,h$=ke(),p$=(t,e,r)=>{let n=null,s=null,a=null;try{a=new h$(e,r)}catch{return null}return t.forEach(o=>{a.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new d$(n,r))}),n};var m$=p$;const bn=ye,y$=ke(),eo=Gr,$$=(t,e)=>{t=new y$(t,e);let r=new bn("0.0.0");if(t.test(r)||(r=new bn("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let a=null;s.forEach(o=>{const l=new bn(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!a||eo(l,a))&&(a=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),a&&(!r||eo(r,a))&&(r=a)}return r&&t.test(r)?r:null};var g$=$$;const v$=ke(),_$=(t,e)=>{try{return new v$(t,e).range||"*"}catch{return null}};var E$=_$;const w$=ye,Ii=Kr(),{ANY:b$}=Ii,S$=ke(),P$=Hr,to=Gr,ro=Ws,N$=Js,R$=Ys,O$=(t,e,r,n)=>{t=new w$(t,n),e=new S$(e,n);let s,a,o,l,c;switch(r){case">":s=to,a=N$,o=ro,l=">",c=">=";break;case"<":s=ro,a=R$,o=to,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(P$(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const i=e.set[u];let d=null,_=null;if(i.forEach(p=>{p.semver===b$&&(p=new Ii(">=0.0.0")),d=d||p,_=_||p,s(p.semver,d.semver,n)?d=p:o(p.semver,_.semver,n)&&(_=p)}),d.operator===l||d.operator===c||(!_.operator||_.operator===l)&&a(t,_.semver))return!1;if(_.operator===c&&o(t,_.semver))return!1}return!0};var xs=O$;const I$=xs,T$=(t,e,r)=>I$(t,e,">",r);var j$=T$;const A$=xs,k$=(t,e,r)=>A$(t,e,"<",r);var C$=k$;const no=ke(),D$=(t,e,r)=>(t=new no(t,r),e=new no(e,r),t.intersects(e,r));var L$=D$;const M$=Hr,V$=Ae;var F$=(t,e,r)=>{const n=[];let s=null,a=null;const o=t.sort((i,d)=>V$(i,d,r));for(const i of o)M$(i,e,r)?(a=i,s||(s=i)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const l=[];for(const[i,d]of n)i===d?l.push(i):!d&&i===o[0]?l.push("*"):d?i===o[0]?l.push(`<=${d}`):l.push(`${i} - ${d}`):l.push(`>=${i}`);const c=l.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const so=ke(),Zs=Kr(),{ANY:Sn}=Zs,Vt=Hr,Qs=Ae,z$=(t,e,r={})=>{if(t===e)return!0;t=new so(t,r),e=new so(e,r);let n=!1;e:for(const s of t.set){for(const a of e.set){const o=q$(s,a,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},U$=[new Zs(">=0.0.0-0")],ao=[new Zs(">=0.0.0")],q$=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Sn){if(e.length===1&&e[0].semver===Sn)return!0;r.includePrerelease?t=U$:t=ao}if(e.length===1&&e[0].semver===Sn){if(r.includePrerelease)return!0;e=ao}const n=new Set;let s,a;for(const p of t)p.operator===">"||p.operator===">="?s=oo(s,p,r):p.operator==="<"||p.operator==="<="?a=io(a,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(s&&a){if(o=Qs(s.semver,a.semver,r),o>0)return null;if(o===0&&(s.operator!==">="||a.operator!=="<="))return null}for(const p of n){if(s&&!Vt(p,String(s),r)||a&&!Vt(p,String(a),r))return null;for(const y of e)if(!Vt(p,String(y),r))return!1;return!0}let l,c,u,i,d=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,_=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&a.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const p of e){if(i=i||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",s){if(_&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===_.major&&p.semver.minor===_.minor&&p.semver.patch===_.patch&&(_=!1),p.operator===">"||p.operator===">="){if(l=oo(s,p,r),l===p&&l!==s)return!1}else if(s.operator===">="&&!Vt(s.semver,String(p),r))return!1}if(a){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(c=io(a,p,r),c===p&&c!==a)return!1}else if(a.operator==="<="&&!Vt(a.semver,String(p),r))return!1}if(!p.operator&&(a||s)&&o!==0)return!1}return!(s&&u&&!a&&o!==0||a&&i&&!s&&o!==0||_||d)},oo=(t,e,r)=>{if(!t)return e;const n=Qs(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},io=(t,e,r)=>{if(!t)return e;const n=Qs(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var G$=z$;const Pn=Yt,co=Ur,K$=ye,uo=Pi,H$=kt,X$=Zm,B$=ty,W$=ny,Y$=ay,J$=cy,x$=fy,Z$=py,Q$=$y,e0=Ae,t0=Ey,r0=Sy,n0=Bs,s0=Oy,a0=jy,o0=Gr,i0=Ws,c0=Ni,u0=Ri,l0=Ys,f0=Js,d0=Oi,h0=e$,p0=Kr(),m0=ke(),y0=Hr,$0=i$,g0=f$,v0=m$,_0=g$,E0=E$,w0=xs,b0=j$,S0=C$,P0=L$,N0=F$,R0=G$;var O0={parse:H$,valid:X$,clean:B$,inc:W$,diff:Y$,major:J$,minor:x$,patch:Z$,prerelease:Q$,compare:e0,rcompare:t0,compareLoose:r0,compareBuild:n0,sort:s0,rsort:a0,gt:o0,lt:i0,eq:c0,neq:u0,gte:l0,lte:f0,cmp:d0,coerce:h0,Comparator:p0,Range:m0,satisfies:y0,toComparators:$0,maxSatisfying:g0,minSatisfying:v0,minVersion:_0,validRange:E0,outside:w0,gtr:b0,ltr:S0,intersects:P0,simplifyRange:N0,subset:R0,SemVer:K$,re:Pn.re,src:Pn.src,tokens:Pn.t,SEMVER_SPEC_VERSION:co.SEMVER_SPEC_VERSION,RELEASE_TYPES:co.RELEASE_TYPES,compareIdentifiers:uo.compareIdentifiers,rcompareIdentifiers:uo.rcompareIdentifiers};const _t=Hn(O0),I0=Object.prototype.toString,T0="[object Uint8Array]",j0="[object ArrayBuffer]";function Ti(t,e,r){return t?t.constructor===e?!0:I0.call(t)===r:!1}function ji(t){return Ti(t,Uint8Array,T0)}function A0(t){return Ti(t,ArrayBuffer,j0)}function k0(t){return ji(t)||A0(t)}function C0(t){if(!ji(t))throw new TypeError(`Expected \`Uint8Array\`, got \`${typeof t}\``)}function D0(t){if(!k0(t))throw new TypeError(`Expected \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof t}\``)}function Nn(t,e){if(t.length===0)return new Uint8Array(0);e??(e=t.reduce((s,a)=>s+a.length,0));const r=new Uint8Array(e);let n=0;for(const s of t)C0(s),r.set(s,n),n+=s.length;return r}const hr={utf8:new globalThis.TextDecoder("utf8")};function pr(t,e="utf8"){return D0(t),hr[e]??(hr[e]=new globalThis.TextDecoder(e)),hr[e].decode(t)}function L0(t){if(typeof t!="string")throw new TypeError(`Expected \`string\`, got \`${typeof t}\``)}const M0=new globalThis.TextEncoder;function mr(t){return L0(t),M0.encode(t)}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));const Rn="aes-256-cbc",Ze=()=>Object.create(null),lo=t=>t!==void 0,On=(t,e)=>{const r=new Set(["undefined","symbol","function"]),n=typeof e;if(r.has(n))throw new TypeError(`Setting a value of type \`${n}\` for key \`${t}\` is not allowed as it's not supported by JSON`)},et="__internal__",In=`${et}.migrations.version`;var rt,Te,ge,Se,ft,dt,Nt,Le,ie,Ai,ki,Ci,Di,Li,Mi,Vi,Fi;class V0{constructor(e={}){Ce(this,ie);Dt(this,"path");Dt(this,"events");Ce(this,rt);Ce(this,Te);Ce(this,ge);Ce(this,Se,{});Ce(this,ft,!1);Ce(this,dt);Ce(this,Nt);Ce(this,Le);Dt(this,"_deserialize",e=>JSON.parse(e));Dt(this,"_serialize",e=>JSON.stringify(e,void 0,"	"));const r=Ue(this,ie,Ai).call(this,e);_e(this,ge,r),Ue(this,ie,ki).call(this,r),Ue(this,ie,Di).call(this,r),Ue(this,ie,Li).call(this,r),this.events=new EventTarget,_e(this,Te,r.encryptionKey),this.path=Ue(this,ie,Mi).call(this,r),Ue(this,ie,Vi).call(this,r),r.watch&&this._watch()}get(e,r){if(q(this,ge).accessPropertiesByDotNotation)return this._get(e,r);const{store:n}=this;return e in n?n[e]:r}set(e,r){if(typeof e!="string"&&typeof e!="object")throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if(typeof e!="object"&&r===void 0)throw new TypeError("Use `delete()` to clear values");if(this._containsReservedKey(e))throw new TypeError(`Please don't use the ${et} key, as it's used to manage this module internal operations.`);const{store:n}=this,s=(a,o)=>{if(On(a,o),q(this,ge).accessPropertiesByDotNotation)Qt(n,a,o);else{if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=o}};if(typeof e=="object"){const a=e;for(const[o,l]of Object.entries(a))s(o,l)}else s(e,r);this.store=n}has(e){return q(this,ge).accessPropertiesByDotNotation?dn(this.store,e):e in this.store}appendToArray(e,r){On(e,r);const n=q(this,ge).accessPropertiesByDotNotation?this._get(e,[]):e in this.store?this.store[e]:[];if(!Array.isArray(n))throw new TypeError(`The key \`${e}\` is already set to a non-array value`);this.set(e,[...n,r])}reset(...e){for(const r of e)lo(q(this,Se)[r])&&this.set(r,q(this,Se)[r])}delete(e){const{store:r}=this;q(this,ge).accessPropertiesByDotNotation?oc(r,e):delete r[e],this.store=r}clear(){const e=Ze();for(const r of Object.keys(q(this,Se)))lo(q(this,Se)[r])&&(On(r,q(this,Se)[r]),q(this,ge).accessPropertiesByDotNotation?Qt(e,r,q(this,Se)[r]):e[r]=q(this,Se)[r]);this.store=e}onDidChange(e,r){if(typeof e!="string")throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`);if(typeof r!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof r}`);return this._handleValueChange(()=>this.get(e),r)}onDidAnyChange(e){if(typeof e!="function")throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`);return this._handleStoreChange(e)}get size(){return Object.keys(this.store).filter(r=>!this._isReservedKeyPath(r)).length}get store(){var e;try{const r=G.readFileSync(this.path,q(this,Te)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);return q(this,ft)||this._validate(s),Object.assign(Ze(),s)}catch(r){if((r==null?void 0:r.code)==="ENOENT")return this._ensureDirectory(),Ze();if(q(this,ge).clearInvalidConfig){const n=r;if(n.name==="SyntaxError"||(e=n.message)!=null&&e.startsWith("Config schema violation:"))return Ze()}throw r}}set store(e){if(this._ensureDirectory(),!dn(e,et))try{const r=G.readFileSync(this.path,q(this,Te)?null:"utf8"),n=this._decryptData(r),s=this._deserialize(n);dn(s,et)&&Qt(e,et,la(s,et))}catch{}q(this,ft)||this._validate(e),this._write(e),this.events.dispatchEvent(new Event("change"))}*[Symbol.iterator](){for(const[e,r]of Object.entries(this.store))this._isReservedKeyPath(e)||(yield[e,r])}_closeWatcher(){q(this,dt)&&(q(this,dt).close(),_e(this,dt,void 0)),q(this,Nt)&&(G.unwatchFile(this.path),_e(this,Nt,!1)),_e(this,Le,void 0)}_decryptData(e){if(!q(this,Te))return typeof e=="string"?e:pr(e);try{const r=e.slice(0,16),n=at.pbkdf2Sync(q(this,Te),r,1e4,32,"sha512"),s=at.createDecipheriv(Rn,n,r),a=e.slice(17),o=typeof a=="string"?mr(a):a;return pr(Nn([s.update(o),s.final()]))}catch{try{const r=e.slice(0,16),n=at.pbkdf2Sync(q(this,Te),r.toString(),1e4,32,"sha512"),s=at.createDecipheriv(Rn,n,r),a=e.slice(17),o=typeof a=="string"?mr(a):a;return pr(Nn([s.update(o),s.final()]))}catch{}}return typeof e=="string"?e:pr(e)}_handleStoreChange(e){let r=this.store;const n=()=>{const s=r,a=this.store;oe.isDeepStrictEqual(a,s)||(r=a,e.call(this,a,s))};return this.events.addEventListener("change",n),()=>{this.events.removeEventListener("change",n)}}_handleValueChange(e,r){let n=e();const s=()=>{const a=n,o=e();oe.isDeepStrictEqual(o,a)||(n=o,r.call(this,o,a))};return this.events.addEventListener("change",s),()=>{this.events.removeEventListener("change",s)}}_validate(e){if(!q(this,rt)||q(this,rt).call(this,e)||!q(this,rt).errors)return;const n=q(this,rt).errors.map(({instancePath:s,message:a=""})=>`\`${s.slice(1)}\` ${a}`);throw new Error("Config schema violation: "+n.join("; "))}_ensureDirectory(){G.mkdirSync(B.dirname(this.path),{recursive:!0})}_write(e){let r=this._serialize(e);if(q(this,Te)){const n=at.randomBytes(16),s=at.pbkdf2Sync(q(this,Te),n,1e4,32,"sha512"),a=at.createCipheriv(Rn,s,n);r=Nn([n,mr(":"),a.update(mr(r)),a.final()])}if(ee.env.SNAP)G.writeFileSync(this.path,r,{mode:q(this,ge).configFileMode});else try{wo(this.path,r,{mode:q(this,ge).configFileMode})}catch(n){if((n==null?void 0:n.code)==="EXDEV"){G.writeFileSync(this.path,r,{mode:q(this,ge).configFileMode});return}throw n}}_watch(){if(this._ensureDirectory(),G.existsSync(this.path)||this._write(Ze()),ee.platform==="win32"||ee.platform==="darwin"){q(this,Le)??_e(this,Le,Ka(()=>{this.events.dispatchEvent(new Event("change"))},{wait:100}));const e=B.dirname(this.path),r=B.basename(this.path);_e(this,dt,G.watch(e,{persistent:!1,encoding:"utf8"},(n,s)=>{s&&s!==r||typeof q(this,Le)=="function"&&q(this,Le).call(this)}))}else q(this,Le)??_e(this,Le,Ka(()=>{this.events.dispatchEvent(new Event("change"))},{wait:1e3})),G.watchFile(this.path,{persistent:!1},(e,r)=>{typeof q(this,Le)=="function"&&q(this,Le).call(this)}),_e(this,Nt,!0)}_migrate(e,r,n){let s=this._get(In,"0.0.0");const a=Object.keys(e).filter(l=>this._shouldPerformMigration(l,s,r));let o=structuredClone(this.store);for(const l of a)try{n&&n(this,{fromVersion:s,toVersion:l,finalVersion:r,versions:a});const c=e[l];c==null||c(this),this._set(In,l),s=l,o=structuredClone(this.store)}catch(c){this.store=o;try{this._write(o)}catch{}const u=c instanceof Error?c.message:String(c);throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${u}`)}(this._isVersionInRangeFormat(s)||!_t.eq(s,r))&&this._set(In,r)}_containsReservedKey(e){return typeof e=="string"?this._isReservedKeyPath(e):!e||typeof e!="object"?!1:this._objectContainsReservedKey(e)}_objectContainsReservedKey(e){if(!e||typeof e!="object")return!1;for(const[r,n]of Object.entries(e))if(this._isReservedKeyPath(r)||this._objectContainsReservedKey(n))return!0;return!1}_isReservedKeyPath(e){return e===et||e.startsWith(`${et}.`)}_isVersionInRangeFormat(e){return _t.clean(e)===null}_shouldPerformMigration(e,r,n){return this._isVersionInRangeFormat(e)?r!=="0.0.0"&&_t.satisfies(r,e)?!1:_t.satisfies(n,e):!(_t.lte(e,r)||_t.gt(e,n))}_get(e,r){return la(this.store,e,r)}_set(e,r){const{store:n}=this;Qt(n,e,r),this.store=n}}rt=new WeakMap,Te=new WeakMap,ge=new WeakMap,Se=new WeakMap,ft=new WeakMap,dt=new WeakMap,Nt=new WeakMap,Le=new WeakMap,ie=new WeakSet,Ai=function(e){const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:!1,accessPropertiesByDotNotation:!0,configFileMode:438,...e};if(!r.cwd){if(!r.projectName)throw new Error("Please specify the `projectName` option.");r.cwd=lc(r.projectName,{suffix:r.projectSuffix}).config}return typeof r.fileExtension=="string"&&(r.fileExtension=r.fileExtension.replace(/^\.+/,"")),r},ki=function(e){if(!(e.schema??e.ajvOptions??e.rootSchema))return;if(e.schema&&typeof e.schema!="object")throw new TypeError("The `schema` option must be an object.");const r=Om.default,n=new hm.Ajv2020({allErrors:!0,useDefaults:!0,...e.ajvOptions});r(n);const s={...e.rootSchema,type:"object",properties:e.schema};_e(this,rt,n.compile(s)),Ue(this,ie,Ci).call(this,e.schema)},Ci=function(e){const r=Object.entries(e??{});for(const[n,s]of r){if(!s||typeof s!="object"||!Object.hasOwn(s,"default"))continue;const{default:a}=s;a!==void 0&&(q(this,Se)[n]=a)}},Di=function(e){e.defaults&&Object.assign(q(this,Se),e.defaults)},Li=function(e){e.serialize&&(this._serialize=e.serialize),e.deserialize&&(this._deserialize=e.deserialize)},Mi=function(e){const r=typeof e.fileExtension=="string"?e.fileExtension:void 0,n=r?`.${r}`:"";return B.resolve(e.cwd,`${e.configName??"config"}${n}`)},Vi=function(e){if(e.migrations){Ue(this,ie,Fi).call(this,e),this._validate(this.store);return}const r=this.store,n=Object.assign(Ze(),e.defaults??{},r);this._validate(n);try{sa.deepEqual(r,n)}catch{this.store=n}},Fi=function(e){const{migrations:r,projectVersion:n}=e;if(r){if(!n)throw new Error("Please specify the `projectVersion` option.");_e(this,ft,!0);try{const s=this.store,a=Object.assign(Ze(),e.defaults??{},s);try{sa.deepEqual(s,a)}catch{this._write(a)}this._migrate(r,n,e.beforeEachMigration)}finally{_e(this,ft,!1)}}};const{app:Er,ipcMain:Gn,shell:F0}=te;let fo=!1;const ho=()=>{if(!Gn||!Er)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");const t={defaultCwd:Er.getPath("userData"),appVersion:Er.getVersion()};return fo||(Gn.on("electron-store-get-data",e=>{e.returnValue=t}),fo=!0),t};class z0 extends V0{constructor(e){let r,n;if(ee.type==="renderer"){const s=te.ipcRenderer.sendSync("electron-store-get-data");if(!s)throw new Error("Electron Store: You need to call `.initRenderer()` from the main process.");({defaultCwd:r,appVersion:n}=s)}else Gn&&Er&&({defaultCwd:r,appVersion:n}=ho());e={name:"config",...e},e.projectVersion||(e.projectVersion=n),e.cwd?e.cwd=B.isAbsolute(e.cwd)?e.cwd:B.join(r,e.cwd):e.cwd=r,e.configName=e.name,delete e.name,super(e)}static initRenderer(){ho()}async openInEditor(){const e=await F0.openPath(this.path);if(e)throw new Error(e)}}let zi=new z0;nc&&te.app.quit();const po=()=>{new te.BrowserWindow({width:1600,height:1200,webPreferences:{preload:B.join(__dirname,"preload.js")}}).loadFile(B.join(__dirname,"../renderer/main_window/index.html"))};te.app.whenReady().then(()=>{po(),te.app.on("activate",()=>{te.BrowserWindow.getAllWindows().length===0&&po()})});te.app.on("window-all-closed",()=>{process.platform!=="darwin"&&te.app.quit()});te.ipcMain.on("electron-store-get",async(t,e)=>{console.log("Getting value for key:",e),t.returnValue=zi.get(e)});te.ipcMain.on("electron-store-set",async(t,e,r)=>{console.log("Setting value for key:",e,"to",r),zi.set(e,r)});te.ipcMain.on("open-external-link",async(t,e)=>{console.log("Opening external link:",e),te.shell.openExternal(e)});const U0="graphicScreen.css",q0="tournament-logo.png",G0="graphicScreen.original.css",Kn=()=>B.join(te.app.getPath("userData"),G0);async function Xr(){return{path:B.join(te.app.getPath("userData"),U0),location:"userData"}}async function ea(){return{path:B.join(te.app.getPath("userData"),q0),location:"userData"}}te.ipcMain.handle("save-custom-css",async(t,e)=>{try{const r=await Xr();if(r.location==="project")try{await Ve.access(Kn())}catch{try{const n=await Ve.readFile(r.path,"utf8");await Ve.writeFile(Kn(),n,"utf8")}catch(n){console.warn("Could not create backup of original graphicScreen.css:",n)}}return await Ve.writeFile(r.path,e,"utf8"),{success:!0,path:r.path,location:r.location}}catch(r){return console.error("Failed to save graphicScreen.css:",r),{success:!1,error:String(r)}}});te.ipcMain.handle("restore-original-css",async()=>{try{const t=Kn();await Ve.access(t);const e=await Ve.readFile(t,"utf8");let r=await Xr();return await Ve.writeFile(r.path,e,"utf8"),{success:!0,path:r.path,location:r.location}}catch(t){return console.error("Failed to restore original graphicScreen.css:",t),{success:!1,error:String(t)}}});te.ipcMain.handle("load-custom-css",async()=>{try{const t=await Xr();return{exists:!0,content:await Ve.readFile(t.path,"utf8"),path:t.path,location:t.location}}catch(t){return{exists:!1,error:String(t)}}});te.ipcMain.handle("get-custom-css-path",async()=>(await Xr()).path);te.ipcMain.handle("save-custom-logo",async(t,e)=>{try{const r=await ea(),n=e.split(",")[1];if(!n)throw new Error("Invalid data URL format");const s=Buffer.from(n,"base64");return await Ve.writeFile(r.path,s),{success:!0,path:r.path,location:r.location}}catch(r){return console.error("Failed to save tournament-logo.png:",r),{success:!1,error:String(r)}}});te.ipcMain.handle("load-custom-logo",async()=>{try{const t=await ea(),r=(await Ve.readFile(t.path)).toString("base64");return{exists:!0,content:`data:${B.extname(t.path).toLowerCase()===".png"?"image/png":"image/jpeg"};base64,${r}`,path:t.path,location:t.location}}catch(t){return{exists:!1,error:String(t)}}});te.ipcMain.handle("get-custom-logo-path",async()=>(await ea()).path);
